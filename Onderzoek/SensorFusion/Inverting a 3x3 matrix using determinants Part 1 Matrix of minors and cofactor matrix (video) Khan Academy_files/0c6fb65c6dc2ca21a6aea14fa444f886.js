(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["0c6fb65c6dc2ca21a6aea14fa444f886"],{kJvo:function(e,t,n){"use strict";n("pNMO");n("ma9I");n("TeQF");n("5DmW");n("NBAS");n("FZtP");var s=r(n("q1tI"));var u=n("LrfN");var o=n("bHum");function r(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(r.get||r.set){Object.defineProperty(t,n,r)}else{t[n]=e[n]}}}}t.default=e;return t}}function p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var r=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))}r.forEach(function(e){m(t,e,n[e])})}return t}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function c(e,t,n){if(t)a(e.prototype,t);if(n)a(e,n);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return v(e)}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return i(e,t)}function m(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var y=n("lryR");var h=n("Ll2p");var w=function(e){b(i,e);function i(e){var t;d(this,i);t=l(this,f(i).call(this,e));m(v(t),"handleWindowBeforeUnload",function(){var e=t.state.playerModel;if(e){e.setPlayerState(u.VideoPlayerState.PAUSED)}});var n=e.video,r=e.topic,o=e.markConversion;var a=y(n,r,o);t.state={extraEmbedTag:null,playerModel:a};return t}c(i,[{key:"UNSAFE_componentWillMount",value:function e(){var t=this.props,n=t.embedded,r=t.onModelUpdate;var o=this.state.playerModel;if(r){r(o)}if(n){this.addExtraEmbedTag()}}},{key:"componentDidMount",value:function e(){window.addEventListener("beforeunload",this.handleWindowBeforeUnload)}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n=t.embedded,r=t.video,o=t.topic,a=t.onModelUpdate,i=t.markConversion;var u=this.state.extraEmbedTag;if(r.youtubeId!==this.props.video.youtubeId){var d=y(r,o,i);this.setState({playerModel:d},function(){if(a){a(d)}})}if(n&&!u){this.addExtraEmbedTag()}else if(!n&&u){this.removeExtraEmbedTag()}}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("beforeunload",this.handleWindowBeforeUnload);this.removeExtraEmbedTag()}},{key:"addExtraEmbedTag",value:function e(){var t=document.createElement("base");t.setAttribute("target","_blank");this.setState({extraEmbedTag:t},function(){document.head&&document.head.appendChild(t)})}},{key:"removeExtraEmbedTag",value:function e(){var t=this.state.extraEmbedTag;if(t){document.head&&document.head.removeChild(t)}}},{key:"render",value:function e(){var t=this.props,n=t.embedded,r=t.navigateToNextItem,o=t.nextContentItem,a=t.onComponentInteractive,i=t.onStateChanged,u=t.shouldAutoplay,d=t.task,c=t.video,l=t.attribution;var f=this.state.playerModel;return s.createElement(h,{embedded:n,navigateToNextItem:r,nextContentItem:o,playerModel:f,onComponentInteractive:a,onStateChanged:i,shouldAutoplay:u,task:d,video:p({},c),attribution:l})}}]);return i}(s.Component);var g=function e(t){var n=t.video;var r=n.id?n.id:null;return{activity:o.enums.Activity.WATCHING,content:p({kind:o.enums.ContentKind.Video},r&&{contentId:r},{contentTitle:n.translatedTitle})}};var E=(0,o.withConversionContext)(g)(w);e.exports=E}}]);
//# sourceMappingURL=../../sourcemaps/en/0c6fb65c6dc2ca21a6aea14fa444f886.b4f7f3b20132a20dffbf.js.map