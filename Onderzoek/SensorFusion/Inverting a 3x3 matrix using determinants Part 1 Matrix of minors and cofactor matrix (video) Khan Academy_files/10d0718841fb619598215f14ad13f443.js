(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["10d0718841fb619598215f14ad13f443"],{ChHZ:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("yXV3");r("2B1R");r("zKZe");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var v=T(r("q1tI"));var a=C(r("i8i4"));var n=r("/MKj");var u=r("mR6N");var p=T(r("4PhQ"));var c=r("Vxy9");var b=r("yhei");var o=C(r("Pwnf"));var y=r("JimW");var i=C(r("wa3X"));var s=r("Pk2J");var m=C(r("HbaH"));var g=C(r("Az/T"));var h=C(r("P2Dy"));var O=r("AE4M");var l=C(r("TqM9"));var f=C(r("x1xB"));var w=C(r("++Bp"));var d=C(r("og3G"));var P=r("i4Cj");var j=r("DDFQ");var E=C(r("cfQQ"));var S=C(r("4Du/"));function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function k(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){H(t,e,r[e])})}return t}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return M.apply(this,arguments)}function D(e,t){if(e==null)return{};var r=x(e,t);var n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++){n=a[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function x(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,a;for(a=0;a<n.length;a++){o=n[a];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function I(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function R(e,t,r){if(t)A(e.prototype,t);if(r)A(e,r);return e}function N(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return B(e)}function B(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function V(e){V=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return V(e)}function L(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)q(e,t)}function q(e,t){q=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return q(e,t)}function H(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var F=function(e){L(t,e);function t(){I(this,t);return N(this,V(t).apply(this,arguments))}R(t,[{key:"render",value:function e(){var t=this.props,r=t.isTabSelected,n=t.trigger,o=t.numTabs,a=t.tabNum,i=D(t,["isTabSelected","trigger","numTabs","tabNum"]);return v.createElement("button",M({className:(0,u.css)(U.notAButton,U.tabTrigger,r?U.activeTab:U.inactiveTab),"aria-setsize":o,"aria-posinset":a,"data-test-id":"discussion-tab"},i),v.createElement(c.LabelLarge,{tag:"h2"},n))}}]);return t}(v.Component);H(F,"defaultProps",{isTabSelected:false});var K=function e(t){var r=t.children;return v.createElement(y.View,{style:U.loginUpsell},v.createElement(y.View,{style:U.upsellText},v.createElement(c.HeadingSmall,{tag:"h2"},P.upsellStrings.heading)),v.createElement(y.View,{style:U.loginButtonContainer},r))};var Q=function(e){L(r,e);function r(e){var d;I(this,r);d=N(this,V(r).call(this,e));H(B(d),"state",{showSignUpModal:false,showMistakesTab:false});H(B(d),"captureRef",function(e,t){if(t==="questions"){d.questionsTabNode=e}else if(t==="comments"){d.commentsTabNode=e}else{d.mistakesTabNode=e}});H(B(d),"getTabNode",function(e){if(e==="questions"){return d.questionsTabNode}if(e==="comments"){return d.commentsTabNode}return d.mistakesTabNode});H(B(d),"handleReportMistake",function(){d.setState({showMistakesTab:true});d.props.onTabChanged("clarifications")});H(B(d),"renderInputFieldOrMessage",function(e,t){var r=d.props,n=r.discussionContext,o=r.onPostSuccess,a=r.contentKind,i=r.hasUnansweredHelpRequests,u=r.focusOnTopLevelInput;var c=P.tabsStrings[t];if(!(0,O.userIsLoggedIn)()){return d.renderLoginUpsell()}if(!(0,O.userHasEnoughPoints)(n)){return d.renderPointsUpsell()}if((0,O.userRestrictedPosting)(n)){return null}if((0,O.userIsScratchpadAuthorViewingQuestionsTab)(t,a,n,e)){var s=P.userProjectsStrings.wantToAskQuestion,l=P.userProjectsStrings.helpRequestsLink,f=P.userProjectsStrings.questionsTabForQuestions;return"".concat(s," ").concat(l," ").concat(f)}if((0,O.userIsScratchpadAuthorViewingOpenHelpRequests)(t,a,n,e,i)){return P.userProjectsStrings.cantPostHelpRequest}if((0,O.userIsScratchpadAuthorViewingLoadingHelpRequests)(t,a,n,e,i)){return v.createElement(b.CircularSpinner,{size:"medium",style:U.spinner})}if((0,O.userNotScratchpadAuthorViewingHelpRequests)(t,a,n,e)){return P.userProjectsStrings.authorHelpRequestsWillAppearHere}if(!(0,O.showMainDiscussionInput)(t,a,n,e,i)){p.default.error("Not showing input field, message, or spinner in discussion tab area. There must be an edge case we're missing here.",p.Errors.Internal);return null}return v.createElement(m.default,M({tab:c.key,onPostSuccess:o,onReportMistake:d.handleReportMistake,acceptingClarification:false,autoFocus:u},d.props))});H(B(d),"getTabContent",function(e){var t=d.props,r=t.discussionContext,n=t.contentKind,o=t.tab,a=t.acceptedClarificationPosts,i=t.topicSlug,u=t.clarificationsEnabled,c=t.profile,s=t.hasUnansweredHelpRequests;var l=!r.restrictPosting;var f=n==="Video"&&o==="clarifications"&&!!a.length;var p=(0,O.getModifiedDiscussionContext)(c,r);return v.createElement(y.View,null,d.renderInputFieldOrMessage(c,e),l&&v.createElement(y.View,{style:[U.separator,U.topSeparator]}),f&&v.createElement(y.View,null,v.createElement(h.default,null),v.createElement(y.View,{style:U.separator})),v.createElement(g.default,{topicSlug:i,discussionContext:p,clarificationsEnabled:u,onContentPage:true,hasUnansweredHelpRequests:s}),v.createElement(O.EnglishLink,{style:U.englishLink}))});H(B(d),"createRenderers",function(i){var e=function e(t,n){var o=t.key,a=t.trigger,r=t.content;return{key:o,renderTab:function e(t,r){return v.createElement(F,M({numTabs:i.length,tabNum:n+1,ref:function e(t){return d.captureRef(t,o)},key:r.id,trigger:a,isTabSelected:t||false},r),a)},renderContent:function e(){return r}}};return i.map(e)});H(B(d),"renderPointsUpsell",function(){return v.createElement(c.Body,{style:U.tabContent},v.createElement(K,null,v.createElement(c.Body,null,P.upsellStrings.notEnoughPoints)))});H(B(d),"renderLoginUpsell",function(){var e=d.props.location.pathname;if(e.indexOf("?")===-1){e+="?".concat(O.loggedInQueryName,"=true")}else{e+="&".concat(O.loggedInQueryName,"=true")}return v.createElement(y.View,null,v.createElement(K,null,v.createElement(i.default,{style:U.loginButton,onClick:function e(){return d.setState({showSignUpModal:true})}},P.upsellStrings.buttonContent)),d.state.showSignUpModal&&v.createElement(w.default,{initialPurpose:"login",initialRole:"learner",onClose:function e(){return d.setState({showSignUpModal:false})},continueUrl:e}))});var t=d.createTabs();if(t.length){d.state={showSignUpModal:false,showMistakesTab:false}}return d}R(r,[{key:"componentDidUpdate",value:function e(t){var r=this.props.currentTabKey;if(r===t.currentTabKey){return}if(r==="clarifications"&&!this.state.showMistakesTab){this.setState({showMistakesTab:true});return}var n=this.getTabNode(r);if(n){var o=a.default.findDOMNode(n);if(o){setTimeout(function(){return o.focus()},0)}}}},{key:"createTabs",value:function e(){var n=this;var t=this.props.discussionContext;var r=Object.keys(P.tabsStrings);var o=r.filter(function(e){return(n.state.showMistakesTab||e!=="clarifications")&&(t.showProjectFeedback||e!=="projecthelp")});return o.map(function(e){var t=P.tabsStrings[e];var r=v.createElement(c.Body,{style:U.tabContent},n.getTabContent(e));return{key:t.key,trigger:v.createElement("span",{"aria-label":t.label},t.label),content:r}})}},{key:"render",value:function e(){var t=this;var r=this.createTabs();if(!r.length){return null}return v.createElement(y.UniqueIDProvider,{mockOnFirstRender:false,scope:"discussionTabbedPanel"},function(e){return v.createElement(y.View,{style:U.container},v.createElement(d.default,{tabs:t.createRenderers(r),selectedTabKey:t.props.currentTabKey,onTabChanged:t.props.onTabChanged,id:e.get("")},function(e,t){return[e(),v.createElement("div",{className:(0,u.css)(U.separator),key:"discussionTabsSeparator"}),t()]}))})}}]);return r}(v.Component);var U=u.StyleSheet.create({activeTab:k({color:o.default.blue},f.default.navbar.activeTab),inactiveTab:k({},f.default.navbar.inactiveTab),separator:k({},l.default.separator),topSeparator:{marginTop:50},container:k({position:"static"},l.default.discussionContainer),tabContent:{padding:"16px 0px",color:o.default.offBlack},tabTrigger:{zIndex:1,height:48,color:o.default.offBlack,boxShadow:"inset 0 -4px",":not(:last-child)":{marginRight:24}},loginUpsell:{textAlign:"center",padding:"32px 0 22px 0"},upsellText:{marginBottom:18},loginButtonContainer:{flexDirection:"row",justifyContent:"center"},loginButton:{minWidth:138},notAButton:k({},l.default.notAButton),englishLink:{margin:"20px 0 0 20px"},spinner:{margin:"20px auto"}});var W=function e(t){return{currentTabKey:t.currentTab,hasUnansweredHelpRequests:t.hasUnansweredHelpRequests,focusOnTopLevelInput:t.focusOnTopLevelInput}};var J={onPostSuccess:j.postSuccessAction,onTabChanged:j.changeTabAction};var z=(0,s.compose)(S.default,E.default,(0,n.connect)(W,J))(Q);t.default=z},MTqu:function(e,t,r){"use strict";r("5DmW");r("NBAS");r("07d7");r("JfAA");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=f(r("q1tI"));var o=r("mR6N");var a=f(r("4PhQ"));var i=r("Vxy9");var u=r("JimW");var c=f(r("Pwnf"));var s=l(r("Q8Wn"));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function v(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);return e}function b(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}var i18n=r("HEOz");var O=function(e){g(r,e);function r(e){var t;p(this,r);t=b(this,m(r).call(this,e));t.state={error:null,errorInfo:null};return t}v(r,[{key:"componentDidCatch",value:function e(t,r){this.setState({error:t,errorInfo:r});a.default.error(t,a.Errors.Internal,{sentry:{extras:r}})}},{key:"render",value:function e(){if(this.state.errorInfo){var t=this.props.style;if(s.default.IS_DEV_SERVER){return n.createElement(u.View,{style:[t,w.stackTraceContainer]},n.createElement(i.HeadingMedium,null,i18n.doNotTranslate("Something went wrong.")),n.createElement("details",{style:{whiteSpace:"pre-wrap"}},this.state.error&&this.state.error.toString(),this.state.errorInfo&&this.state.errorInfo.componentStack))}return null}return this.props.children}}]);return r}(n.Component);t.default=O;var w=o.StyleSheet.create({stackTraceContainer:{padding:20,border:"solid 1px ".concat(c.default.red),borderRadius:4,backgroundColor:(0,c.fade)(c.default.red,.25)}})},P2Dy:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("2B1R");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=v(r("q1tI"));var n=r("/MKj");var u=r("mR6N");var c=a(r("wa3X"));var s=r("Vxy9");var l=r("JimW");var f=a(r("PFZ4"));var p=r("i4Cj");var d=a(r("TqM9"));var o=r("DDFQ");function a(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function b(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){y(t,e,r[e])})}return t}function y(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function h(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}function O(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return w(e)}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function P(e){P=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return P(e)}function j(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return E(e,t)}var S=function(e){j(t,e);function t(){m(this,t);return O(this,P(t).apply(this,arguments))}h(t,[{key:"render",value:function e(){var t=this.props,r=t.acceptedClarificationPosts,n=t.isComplete,o=t.cursor,a=t.onNextPage;return i.createElement(l.View,null,i.createElement(l.View,{style:d.default.listWrapper},i.createElement(s.LabelLarge,{style:d.default.clarificationsListHeader},p.miscStrings.clarificationListAccepted),i.createElement("ul",null,r.map(function(e){return i.createElement("li",{key:e.id,className:(0,u.css)(C.post)},i.createElement(f.default,{post:e}))}))),o&&!n&&i.createElement(c.default,{onClick:a},p.miscStrings.showMore))}}]);return t}(i.Component);var C=u.StyleSheet.create({post:b({},d.default.postWrapper)});var T=function e(t){var r=t.tabs.clarifications;return{acceptedClarificationPosts:t.acceptedClarificationPosts,cursor:r.cursor,isComplete:r.isComplete}};var k={onNextPage:o.getNextPageAction};var M=(0,n.connect)(T,k)(S);t.default=M},PFZ4:function(e,t,r){"use strict";r("ma9I");r("5DmW");r("NBAS");r("07d7");r("JfAA");Object.defineProperty(t,"__esModule",{value:true});t.default=t.DiscussionPostAcceptedClarification=void 0;var b=l(r("q1tI"));var n=r("/MKj");var c=r("vwLt");var y=r("Vxy9");var o=r("mR6N");var m=r("JimW");var a=r("Pk2J");var f=s(r("qRmI"));var p=s(r("mt3D"));var g=r("IZy4");var h=r("i4Cj");var O=r("AE4M");var w=s(r("TqM9"));var d=s(r("mCQM"));var i=s(r("cfQQ"));var u=r("DDFQ");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function P(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function j(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);return e}function E(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return C(e)}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}function C(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function T(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)k(e,t)}function k(e,t){k=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return k(e,t)}function M(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var D=function(e){T(o,e);function o(){var e;var v;P(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}v=E(this,(e=S(o)).call.apply(e,[this].concat(r)));M(C(v),"renderPostHeader",function(){var e=v.props,t=e.post,r=e.profile;var n=t.reporter,o=t.openTimestamp,a=t.closeTimestamp;var i=n||{},u=i.nickname,c=i.kaid;var s=(0,g.getTimestampFromSeconds)(o);var l=(0,g.getTimestampFromSeconds)(a);var f="".concat(s.minutes,":").concat(s.seconds);var p="".concat(l.minutes,":").concat(l.seconds);var d=h.miscStrings.appearsAtTimestamp(f,p);return b.createElement(m.View,{style:w.default.postHeader},b.createElement(m.View,{style:w.default.nameAndDatetime},b.createElement(O.PostAuthorName,{name:u,kaid:c}),b.createElement(y.LabelMedium,{style:[w.default.datetime,x.videoTimestampLink]},b.createElement(g.VideoTimestampLink,{timestamp:f,minutes:s.minutes.toString(),seconds:s.seconds.toString(),children:d}))),v.renderModeratorActions(r,w.default.actionPickerMobile))});return v}j(o,[{key:"renderModeratorActions",value:function e(t,r){if(!t||!t.get("isModerator")){return null}var n=this.props,o=n.onDeleteAcceptedClarificationPost,a=n.onStartEditingPost,i=n.post;var u=[b.createElement(c.ActionItem,{key:"edit",label:h.postStrings.edit,onClick:function e(){return a(i.id)}}),b.createElement(c.ActionItem,{key:"delete",label:h.postStrings.delete,onClick:function e(){return o(i)}})];return b.createElement(c.ActionMenu,{menuText:"more",alignment:"right",style:r},u)}},{key:"render",value:function e(){var t=this.props,r=t.post,n=t.postBeingEditedKey,o=t.profile,a=t.onStopEditingPost;var i=r.reporter||{},u=i.nickname,c=i.avatarSrc,s=i.kaid;var l=r.id===n;return b.createElement(m.View,{testId:"discussion-post"},!l&&b.createElement(m.View,{style:w.default.post},b.createElement(p.default,{username:u,avatarName:null,avatarSrc:c,kaid:s,enableProfilePreviewTooltip:true}),b.createElement(m.View,{style:w.default.everythingButTheAvatar},this.renderPostHeader(),b.createElement(m.View,{style:w.default.contentContainer},b.createElement(y.Body,{style:w.default.content},b.createElement(m.View,null,r.text))),b.createElement(m.View,{style:w.default.postFooter},b.createElement(d.default,null),b.createElement(m.View,{style:w.default.tools},this.renderModeratorActions(o,w.default.actionPickerDesktop))))),l&&b.createElement(f.default,{post:r,editingOrAccepting:"editing",onCancel:a}))}}]);return o}(b.Component);t.DiscussionPostAcceptedClarification=D;var x=o.StyleSheet.create({videoTimestampLink:{marginBottom:-2}});var I={onDeleteAcceptedClarificationPost:u.deleteAcceptedClarificationPost,onStartEditingPost:u.startEditingPostAction,onStopEditingPost:u.stopEditingPostAction};var A=function e(t){var r=t.postBeingEditedKey;return{postBeingEditedKey:r}};var R=(0,a.compose)(i.default,(0,n.connect)(A,I))(D);t.default=R},UdSq:function(e,t,r){"use strict";r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=l(r("q1tI"));var o=r("/MKj");var a=r("mR6N");var i=s(r("t0zn"));var u=s(r("rlH3"));var c=s(r("MTqu"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function d(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);return e}function v(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return b(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return g(e,t)}var h=function(e){m(t,e);function t(){f(this,t);return v(this,y(t).apply(this,arguments))}d(t,[{key:"render",value:function e(){return n.createElement(o.Provider,{store:i.default},n.createElement(c.default,{style:O.errorBoundary},n.createElement(u.default,this.props)))}}]);return t}(n.Component);t.default=h;var O=a.StyleSheet.create({errorBoundary:{maxWidth:688,margin:"auto"}})},oIKl:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("2B1R");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=b(r("q1tI"));var o=r("/MKj");var a=r("mR6N");var i=r("Vxy9");var u=r("JimW");var c=r("vwLt");var s=r("DDFQ");var l=r("TqM9");var f=r("i4Cj");var p=v(r("uEGL"));var d=r("JasB");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){S(t,e,r[e])})}return t}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function h(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}function O(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return P(e)}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return w(e)}function P(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return E(e,t)}function S(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var C=[{value:"top-voted",label:f.headerStrings.topVoted},{value:"recent",label:f.headerStrings.recent}];var T=function(e){j(a,e);function a(){var e;var r;m(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o]}r=O(this,(e=w(a)).call.apply(e,[this].concat(n)));S(P(r),"handleFilterChanged",function(e){var t=r.props.onSortByChanged;t(e)});return r}h(a,[{key:"render",value:function e(){var t=this.props.currentSort;return n.createElement(u.View,{style:k.container},n.createElement(d.Spring,null),n.createElement(u.View,{style:k.filterContainer},n.createElement(i.LabelLarge,null,f.headerStrings.sortBy),n.createElement(c.SingleSelect,{onChange:this.handleFilterChanged,selectedValue:t,style:k.select},C.map(function(e){return n.createElement(c.OptionItem,{value:e.value,key:e.value,label:e.label})}))))}}]);return a}(n.Component);var k=a.StyleSheet.create({container:y({},l.discussionContainer,S({flexDirection:"row",justifyContent:"space-between",paddingTop:6,paddingBottom:22},p.default.xsOrSmaller,{paddingLeft:8,flexDirection:"column"})),countContainer:S({},p.default.xsOrSmaller,{paddingBottom:24}),filterContainer:{flexDirection:"row",alignItems:"center"},totalCount:{paddingTop:6},select:{minWidth:176,marginLeft:8,fontSize:14}});var M=function e(t){var r=t.tabs[t.currentTab].totalCount||0;return{totalCount:r,currentSort:t.currentSort}};var D={onSortByChanged:s.changeSortByAction};var x=(0,o.connect)(M,D)(T);t.default=x},rlH3:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var p=O(r("q1tI"));var d=h(r("i8i4"));var n=r("/MKj");var o=r("mR6N");var a=r("Pk2J");var i=h(r("9/5/"));var v=r("JimW");var u=h(r("ZpD3"));var c=r("TqM9");var b=h(r("oIKl"));var y=h(r("ChHZ"));var m=r("AE4M");var s=h(r("6OHE"));var l=r("8SBg");var f=h(r("cfQQ"));var g=r("DDFQ");function h(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){D(t,e,r[e])})}return t}function P(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function E(e,t,r){if(t)j(e.prototype,t);if(r)j(e,r);return e}function S(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return T(e)}function C(e){C=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return C(e)}function T(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function k(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)M(e,t)}function M(e,t){M=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return M(e,t)}function D(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var x=function(e){k(o,e);function o(){var e;var i;P(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}i=S(this,(e=C(o)).call.apply(e,[this].concat(r)));D(T(i),"_markedConversion",false);D(T(i),"handleInitializeContent",function(){var e=i.props,t=e.onInitializeContent,r=e.contentKind,n=e.contentId,o=e.discussionContext,a=e.videoModel;t(r,n,a&&a.attributes&&a.attributes.translatedYoutubeId,o&&o.expandFeedbackType,o&&o.qaExpandKey)});D(T(i),"maybeLogConversion",function(){if(!i.discussionRoot||i._markedConversion){return}var e=i.discussionRoot.getBoundingClientRect();var t=e.top;var r=t<=window.innerHeight;if(r){u.default.markMinorConversions([{id:"content_discussions_view",extra:{contentKind:i.props.contentKind}}]);i._markedConversion=true;document.removeEventListener("scroll",i._debouncedMaybeLogConversion)}});return i}E(o,[{key:"componentDidMount",value:function e(){this.handleInitializeContent();this._debouncedMaybeLogConversion=(0,i.default)(this.maybeLogConversion,500);document.addEventListener("scroll",this._debouncedMaybeLogConversion);this._debouncedMaybeLogConversion();var t=this.discussionRoot;if(t&&(0,m.userHasJustLoggedIn)(window.location)){var r=s.default.standardTransitionMs*2;setTimeout(function(){return(0,l.scrollToElement)(t,r)},0)}}},{key:"componentDidUpdate",value:function e(t){if(this.props.contentId!==t.contentId){this.handleInitializeContent()}}},{key:"componentWillUnmount",value:function e(){this.props.onTabChanged("questions")}},{key:"render",value:function e(){var r=this;var t=this.props,n=t.profile,o=t.discussionContext,a=t.acceptedClarificationPosts,i=t.contentKind,u=t.tab,c=t.clarificationsEnabled,s=t.contentId,l=t.topicSlug;var f=(0,m.getModifiedDiscussionContext)(n,o);return p.createElement(v.View,{style:I.container,ref:function e(t){return r.discussionRoot=d.default.findDOMNode(t)},tabIndex:-1},p.createElement(b.default,null),p.createElement(y.default,{acceptedClarificationPosts:a,contentKind:i,discussionContext:f,tab:u,clarificationsEnabled:!!c,contentId:s,topicSlug:l}))}}]);return o}(p.Component);D(x,"defaultProps",{discussionContext:{}});var I=o.StyleSheet.create({container:w({},c.discussionContainer,{paddingBottom:8})});var A={onInitializeContent:g.initializeContentAction,onTabChanged:g.changeTabAction};var R=function e(t){return{tab:t.currentTab,acceptedClarificationPosts:t.acceptedClarificationPosts}};var N=(0,a.compose)(f.default,(0,n.connect)(R,A))(x);t.default=N}}]);
//# sourceMappingURL=../../sourcemaps/en/10d0718841fb619598215f14ad13f443.bffc7440acdd2a34b6a1.js.map