(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["9c3488cb5e3732a69f5a9827924941d5"],{"+vEw":function(e,t,r){"use strict";r("ma9I");r("4mDm");r("2B1R");r("07d7");r("3bBZ");var o=r("eAf/").vector;var _=r("F/us");var n=r("e1hl");var i=r("p8fL");var a=r("vNny");var s=i.assert;var l=i.normalizeOptions;var c=r("yfnS");var u=r("NT9k");var h=_.keys(n);var f={points:null,angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],closed:true,static:false,cursor:"move",normalStyle:null,highlightStyle:null,labelStyle:null};var p={added:false,hasMoved:false,visibleShape:null,mouseTarget:null};var d=function e(t,r,n){s(t!=null);s(n!=null);_.extend(this,{graphie:t,movable:r,state:{id:_.uniqueId("movablePolygon")}});this.modify(_.extend({},p,n))};_.extend(d,n);i.createGettersFor(d,_.extend({},f,p));i.addMovableHelperMethodsTo(d);_.extend(d.prototype,{cloneState:function e(){return _.extend(this.movable.cloneState(),this.state)},_createDefaultState:function e(){return _.extend({id:this.state.id},l(h,a.pluck(n,"standard")),f)},modify:function e(t){this.update(_.extend(this._createDefaultState(),t))},update:function e(t){var a=this;var r=a.graphie;var n=_.extend(a.state,l(h,t));var i=n.static?c.DYNAMIC:c.INTERACTIVE;n.normalStyle=_.extend({},n.normalStyle,{"stroke-width":2,"fill-opacity":0,fill:i,stroke:i},t.normalStyle);n.highlightStyle=_.extend({},{stroke:c.INTERACTING,"stroke-width":2,fill:c.INTERACTING,"fill-opacity":.05},n.highlightStyle);n.labelStyle=_.extend({},{stroke:c.DYNAMIC,"stroke-width":1,color:c.DYNAMIC},n.labelStyle);if(!n.static){if(!n.mouseTarget){n.mouseTarget=r.mouselayer.path(this.path());n.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"})}}a.movable.modify(_.extend({},n,{modify:null,draw:a.draw.bind(a),remove:null,onMoveStart:function e(){a._initialRefCoord=a.coord(0);a._prevRefCoord=a._initialRefCoord;a._totalDelta=[0,0];a._fireEvent(a.state.onMoveStart,a.coord(0),a.coord(0))},onMove:function e(t,r){var n=o.subtract(t,r);a._totalDelta=o.add(a._totalDelta,n);var i=o.add(a._initialRefCoord,a._totalDelta);i=a._applyConstraints(i,a._prevRefCoord);if(i===false){return}a._fireEvent(a.state.onMove,i,a._prevRefCoord);a._prevRefCoord=i},onMoveEnd:function e(){a._fireEvent(a.state.onMoveEnd,a._prevRefCoord,a._initialRefCoord)}}));_.invoke(n.points,"listen","onMove",n.id,a.draw.bind(a));if(!n.added){a.prevState={};a._fireEvent(n.add,a.cloneState(),a.prevState);n.added=true;a.prevState=a.cloneState()}a._fireEvent(n.modify,a.cloneState(),a.prevState)},path:function e(t){var r=this.graphie;t=t||this.state;var n=_.map(t.points,function(e){return r.scalePoint(e.coord())});if(t.closed){n.push(true)}else{n=n.concat(_.clone(n).reverse())}return u.unscaledSvgPath(n)},coords:function e(){return _.invoke(this.state.points,"coord")},point:function e(t){return this.state.points[t]},coord:function e(t){return this.point(t).coord()},remove:function e(){this.state.added=false;this._fireEvent(this.state.remove);if(this.state.points){_.invoke(this.state.points,"unlisten","onMove",this.state.id)}if(this.movable){this.movable.remove()}this.state.mouseTarget=null},constrain:function e(){if(this.points==null||this.points.length===0){return}var t=this.coord(0);var r=this._applyConstraints(t,t);if(r!==false){this._fireEvent(this.state.onMove,r,t)}},normalStyle:function e(){return _.clone(this.state.normalStyle)},highlightStyle:function e(){return _.clone(this.state.highlightStyle)},toBack:function e(){this.movable.toBack();if(this.state.visibleShape){this.state.visibleShape.toBack()}},toFront:function e(){if(this.state.visibleShape){this.state.visibleShape.toFront()}this.movable.toFront()},isHovering:function e(){return this.movable.isHovering()},isDragging:function e(){return this.movable.isDragging()},mouseTarget:function e(){return this.movable.mouseTarget()}});e.exports=d},"/4Qb":function(e,t,r){"use strict";e.exports={iconCheck:{path:"M8.70710678,12.2928932 C8.31658249,11.9023689 7.68341751,11.9023689 7.29289322,12.2928932 C6.90236893,12.6834175 6.90236893,13.3165825 7.29289322,13.7071068 L9.82842712,16.2426407 C10.2207367,16.6349502 10.8574274,16.6328935 11.2471942,16.2380576 L16.7116603,10.7025237 C17.0996535,10.3094846 17.0955629,9.67633279 16.7025237,9.28833966 C16.3094846,8.90034653 15.6763328,8.90443714 15.2883397,9.29747629 L10.5309507,14.1167372 L8.70710678,12.2928932 Z",width:24,height:24},iconCheckMedium:{path:"M6.072 10.4l6.175-7.058a1 1 0 1 1 1.506 1.317L6.769 12.64a1 1 0 0 1-1.55-.054L2.203 8.604a1 1 0 1 1 1.594-1.208L6.072 10.4z",width:16,height:16},iconChevronDown:{path:"M99.669 13.048q0 3.36-2.352 5.712l-41.664 41.664q-2.408 2.408-5.88 2.408t-5.712-2.408l-41.664-41.664q-2.408-2.24-2.408-5.712t2.408-5.88l4.76-4.816q2.52-2.352 5.88-2.352t5.656 2.352l31.136 31.136 31.08-31.136q2.352-2.352 5.712-2.352t5.88 2.352l4.816 4.816q2.352 2.52 2.352 5.88z",width:100,height:63.034},iconChevronRight:{path:"M62.808 49.728q0 3.36-2.352 5.88l-41.72 41.664q-2.352 2.408-5.768 2.408t-5.768-2.408l-4.872-4.76q-2.352-2.52-2.352-5.88t2.352-5.712l31.08-31.136-31.08-31.024q-2.352-2.52-2.352-5.88t2.352-5.712l4.872-4.76q2.296-2.408 5.768-2.408t5.768 2.408l41.72 41.664q2.352 2.296 2.352 5.656z",width:63.034,height:100},iconCircle:{path:"M100.035 50.046q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowDown:{path:"M50.046 83.676q1.767 0 2.907-1.14l29.526-29.526q1.197-1.197 1.197-2.907t-1.197-2.964l-5.928-5.928q-1.197-1.14-2.964-1.14t-2.907 1.14l-12.312 12.312l0-32.661q0-1.71-1.254-2.964t-2.907-1.254l-8.322 0q-1.71 0-2.964 1.254t-1.254 2.964l0 32.661l-12.312-12.312q-1.197-1.254-2.907-1.254t-2.907 1.254l-5.928 5.928q-1.197 1.197-1.197 2.964t1.197 2.907l29.469 29.526q1.197 1.14 2.964 1.14zm49.989-33.63q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleArrowUp:{path:"M54.207 83.391q1.653 0 2.907-1.254t1.254-2.907l0-32.718l12.312 12.312q1.254 1.254 2.964 1.254t2.907-1.254l5.928-5.928q1.197-1.197 1.14-2.964 0-1.767-1.14-2.907l-29.526-29.526q-1.197-1.14-2.907-1.14t-2.964 1.14l-29.469 29.526q-1.197 1.254-1.197 2.964t1.197 2.907l5.928 5.928q1.197 1.197 2.907 1.197t2.907-1.197l12.312-12.312l0 32.718q0 1.653 1.254 2.907t2.964 1.254l8.322 0zm45.828-33.345q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100},iconCircleThin:{path:"M50.046 8.322q-8.493 0-16.188 3.306-15.561 6.669-22.173 22.23-3.363 7.695-3.363 16.188t3.306 16.188 8.949 13.281q5.586 5.586 13.281 8.892t16.188 3.306 16.188-3.306 13.281-8.892 8.892-13.281 3.306-16.188-3.306-16.188-8.892-13.281-13.281-8.949q-7.695-3.306-16.188-3.306zm0 91.713q-13.623 0-25.137-6.726t-18.183-18.183q-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.126q-11.514 6.726-25.08 6.726z",width:100,height:99.944},iconDesktop:{path:"M94.208 52.119l0-43.746q0-.69-.506-1.15t-1.196-.506l-84.088 0q-.69 0-1.196.506t-.506 1.15l0 43.746q0 .69.506 1.196t1.196.506l84.088 0q.69 0 1.196-.506t.506-1.196zm6.716-43.746l0 57.224q0 3.45-2.484 5.934t-5.934 2.484l-28.566 0q0 3.128 2.53 7.774.828 1.61.828 2.622t-1.012 2.07q-1.012 1.012-2.346.966l-26.91 0q-1.38 0-2.392-1.012t-1.012-2.024q0-1.058 1.656-4.14t1.748-6.256l-28.612 0q-3.45 0-5.934-2.484t-2.484-5.934l0-57.224q0-3.45 2.484-5.934t5.934-2.438l84.088 0q3.45 0 5.98 2.438 2.438 2.484 2.438 5.934z",width:100,height:86.648},iconDropdownArrow:{path:"M9 9.8c0 .5.7 1.7 1.5 2.8 1.5 1.9 1.5 1.9 3 0C15.7 9.7 15.4 9 12 9c-1.6 0-3 .4-3 .8z",width:24,height:24},iconExclamationSign:{path:"M58.368 81.225l0-12.369q0-.912-.57-1.539t-1.425-.627l-12.54 0q-.855-.057-1.482.627t-.684 1.539l0 12.369q-.057.855.627 1.482t1.539.684l12.54 0q.855 0 1.425-.627t.57-1.539zm1.026-62.871q0-1.596-2.223-1.71l-14.307 0q-2.109 0-2.223 1.71l1.14 40.47q0 .627.627 1.14t1.539.456l12.084 0q.912-.057 1.539-.513t.684-1.083zm-9.348-18.354q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669z",width:100,height:99.944},iconGear:{path:"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z",width:1792,height:1792},iconMobilePhone:{path:"M36.04 89.557q0-2.584-1.836-4.42t-4.42-1.836-4.352 1.836q-1.836 1.836-1.836 4.42t1.836 4.352 4.42 1.836q2.652-.068 4.42-1.836t1.768-4.352zm16.184-12.444l0-54.74q0-1.088-.748-1.768t-1.768-.68l-39.78 0q-1.088 0-1.768.748t-.68 1.7l0 54.74q0 1.02.748 1.768t1.7.68l39.78 0q1.02-.068 1.768-.748t.748-1.7zm-14.892-65.892q0-1.224-1.292-1.292l-12.444 0q-1.224.068-1.224 1.292t1.224 1.224l12.444 0q1.292 0 1.292-1.224zm22.372-1.292l0 79.628q0 3.944-2.992 6.936t-7.004 2.992l-39.78 0q-4.012 0-7.004-2.924-2.924-2.924-2.924-7.004l0-79.628q0-4.012 2.924-6.936t7.004-2.992l39.78 0q4.012-.068 7.004 2.924t2.992 7.004z",width:60.013,height:100},iconOk:{path:"M37.964 76.048q-2.576 0-4.368-1.792l-31.864-31.864q-1.792-1.792-1.792-4.368t1.792-4.368l8.736-8.68q1.792-1.792 4.368-1.792t4.312 1.792l18.816 18.872 42-42.056q1.792-1.792 4.368-1.792t4.312 1.792l8.736 8.736q1.792 1.792 1.792 4.368t-1.792 4.312l-55.048 55.048q-1.792 1.792-4.368 1.792z",width:100,height:76.637},iconPlus:{path:"M99.758 43.09l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-29.45 0l0 29.45q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-29.45l-29.45 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l29.45 0l0-29.45q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836l0 29.45l29.45 0q2.852 0 4.836 1.984t1.984 4.836z",width:100,height:100},iconRemove:{path:"M100.464 80.808q0 3.404-2.368 5.772l-11.47 11.544q-2.368 2.368-5.772 2.368t-5.698-2.368l-24.864-24.864-24.864 24.864q-2.368 2.368-5.772 2.368t-5.772-2.368l-11.47-11.544q-2.368-2.368-2.368-5.772t2.368-5.698l24.864-24.864-24.864-24.864q-2.368-2.368-2.368-5.772t2.368-5.772l11.47-11.47q2.368-2.368 5.772-2.368t5.772 2.368l24.864 24.864 24.864-24.864q2.294-2.368 5.698-2.368t5.772 2.368l11.47 11.47q2.368 2.368 2.368 5.772t-2.368 5.772l-24.864 24.864 24.864 24.864q2.368 2.294 2.368 5.698z",width:100,height:100},iconStar:{path:"M15.1052249,9.55978547 L22.0028147,9.55978545 C23.6568673,9.55978545 23.9349557,10.3753626 22.6181351,11.3858845 L16.9943688,15.7015366 L19.2518801,22.8294455 C19.7526645,24.4106317 19.0984455,24.8825885 17.769353,23.8673293 L12.0490577,19.4977438 L6.5116497,23.8422153 C5.20921411,24.8640642 4.53299569,24.4067544 5.00266927,22.8160582 L7.10332364,15.7015366 L1.42794544,11.3634306 C0.110226041,10.3562014 0.383967283,9.54239221 2.0409646,9.54574013 L8.9924676,9.55978547 L11.1485117,2.72669438 C11.6458693,1.15043244 12.4548928,1.15900049 12.9494787,2.72669438 L15.1052249,9.55978547 Z",width:24,height:24},iconTryAgain:{path:"M3.74890556,17.9799506 C2.19251241,16.1970909 1.10103636,13.4971457 1.13090903,11.1491783 C1.17160478,7.95052637 4.01704076,0.865059407 11.7028044,0.865059407 C19.388568,0.865059407 22.3026521,7.35203035 22.3026521,11.5879453 C22.3026521,15.8238603 19.386629,20.5574509 13.6832464,21.7131548 L13.6757539,17.3722171 C17.0812986,16.2190517 18.331158,14.1944123 18.3311578,11.5879451 C18.3311574,8.16554692 15.6664205,5.03476549 11.7028048,5.20494205 C7.73918903,5.37511861 5.59244567,8.66930079 5.59244567,11.1491783 C5.59244567,12.9090077 6.11128139,14.1753512 6.93640437,15.3053215 L8.14052356,14.2949456 C8.98559348,13.5858477 9.6994861,13.9070448 9.73489556,15.0076413 L9.91284941,20.5388014 C9.94832683,21.6415103 9.09967118,22.3514475 8.02194403,22.1254594 L2.60571602,20.9897332 C1.5259204,20.7633114 1.34338662,19.9984207 2.18070755,19.295825 L3.74890556,17.9799506 Z",width:23,height:23},iconTablet:{path:"M45.322 90.706q0-1.86-1.302-3.224-1.364-1.364-3.224-1.364t-3.224 1.364-1.302 3.224q0 1.86 1.364 3.224 1.302 1.364 3.162 1.302 1.86.062 3.224-1.302t1.302-3.224zm27.218-11.346l0-68.014q0-.93-.682-1.612t-1.55-.682l-58.962 0q-.93 0-1.612.682t-.682 1.612l0 68.014q0 .93.682 1.612t1.612.62l58.962 0q.992-.062 1.612-.682t.62-1.55zm9.114-68.014l0 77.066q0 4.65-3.348 7.998t-7.998 3.348l-58.962 0q-4.65 0-7.998-3.348t-3.348-7.998l0-77.066q0-4.65 3.348-7.998t7.998-3.348l58.962 0q4.65 0 7.998 3.348t3.348 7.998z",width:81.852,height:100},iconTrash:{path:"M31.293 37.506q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.218 0q-.912-.057-1.482-.627t-.57-1.482l0-37.506q0-2.109 2.052-2.109l4.218 0zm18.753 2.109l0 37.506q0 .912-.57 1.482t-1.539.627l-4.161 0q-1.995 0-2.109-2.109l0-37.506q.057-.912.627-1.482t1.482-.627l4.161 0q.969.057 1.539.627t.57 1.482zm14.592-2.109q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.161 0q-.969-.057-1.539-.627t-.57-1.482l0-37.506q0-2.109 2.109-2.109l4.161 0zm10.431 49.248l0-61.731l-58.368 0l0 61.731q.057 2.679.969 3.819t1.083 1.14l54.207 0q.171 0 1.14-1.083t.969-3.876zm-43.776-70.11l29.184 0l-3.135-7.581q-.456-.57-1.14-.741l-20.634 0q-.627.114-1.083.741zm-31.293 2.109q0-1.995 2.109-2.109l20.121 0l4.56-10.83q.969-2.394 3.477-4.104 2.565-1.71 5.187-1.71l20.805 0q2.622 0 5.187 1.71t3.477 4.104l4.56 10.83l20.178 0q.912.057 1.482.627t.57 1.482l0 4.161q0 1.995-2.052 2.109l-6.27 0l0 61.731q0 5.415-3.078 9.348t-7.353 3.933l-54.207 0q-4.275 0-7.353-3.819t-3.078-9.177l0-62.016l-6.213 0q-.969 0-1.539-.57t-.57-1.539l0-4.161z",width:91.681,height:100},iconUndo:{path:"M10,6.6C10,7.2,9.8,8,9.3,9.1c0,0,0,0.1-0.1,0.1S9.2,9.3,9.2,9.4c0,0,0,0.1-0.1,0.1C9,9.6,9,9.6,8.9,9.6 c-0.1,0-0.1,0-0.1-0.1c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1s0-0.1,0-0.1c0-0.3,0-0.5,0-0.7c0-0.4,0-0.7-0.1-1C8.6,7.1,8.5,6.9,8.4,6.7S8.2,6.3,8,6.1C7.8,5.9,7.6,5.8,7.4,5.7S6.9,5.5,6.7,5.5S6.1,5.4,5.8,5.4c-0.3,0-0.6,0-1,0H3.6v1.4c0,0.1,0,0.2-0.1,0.3C3.4,7.1,3.3,7.1,3.2,7.1C3.1,7.1,3,7.1,3,7L0.1,4.1C0,4.1,0,4,0,3.9s0-0.2,0.1-0.3L3,0.8C3,0.7,3.1,0.7,3.2,0.7c0.1,0,0.2,0,0.3,0.1C3.5,0.9,3.6,0.9,3.6,1v1.4h1.2c2.6,0,4.3,0.7,4.9,2.2C9.9,5.2,10,5.8,10,6.6z",width:10,height:10},iconMinus:{path:"M8,13 L16,13 C16.5522847,13 17,12.5522847 17,12 C17,11.4477153 16.5522847,11 16,11 L8,11 C7.44771525,11 7,11.4477153 7,12 C7,12.5522847 7.44771525,13 8,13 Z",width:24,height:24}}},"2BsJ":function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("4mDm");r("2B1R");r("+2oP");r("5DmW");r("07d7");r("Rm1S");r("UxlC");r("FZtP");r("3bBZ");var p=n(r("4PhQ"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function m(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){i(t,e,r[e])})}return t}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function x(e,t){return s(e)||o(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(i)throw a}}return r}function s(e){if(Array.isArray(e))return e}var l=r("eAf/").point;var S=r("eAf/").vector;var _=r("F/us");var E=r("e2gc");var A=r("nL9U");var T=r("XwLL");var P=r("KmI1").processMath;var C=r("yfnS");function c(e,t){var r=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));var n=Math.atan2(e[1],e[0]);if(n<0){n+=2*Math.PI}if(!t){n=n*180/Math.PI}return[r,n]}function I(e,t){if(typeof e==="number"){e=[e,e]}t=t*Math.PI/180;return[e[0]*Math.cos(t),e[1]*Math.sin(t)]}var D={unscaledSvgPath:function e(t){if(t[0]===true){return""}return E.map(t,function(e,t){if(e===true){return"z"}return(t===0?"M":"L")+e[0]+" "+e[1]}).join("")},getDistance:function e(t,r){return l.distanceToPoint(t,r)},coordDiff:function e(r,n){return _.map(n,function(e,t){return n[t]-r[t]})},snapCoord:function e(t,r){return _.map(t,function(e,t){return T.roundToNearest(r[t],e)})},findAngle:function e(t,r,n){if(n===undefined){var i=t[0]-r[0];var a=t[1]-r[1];if(!i&&!a){return 0}return(180+Math.atan2(-a,-i)*180/Math.PI+360)%360}return D.findAngle(t,n)-D.findAngle(r,n)},graphs:{}};var N=D.Graphie=function(){};_.extend(N.prototype,{cartToPolar:c,polar:I});var O={center:[-.5,-.5],above:[-.5,-1],"above right":[0,-1],right:[0,-.5],"below right":[0,0],below:[-.5,0],"below left":[-1,0],left:[-1,-.5],"above left":[-1,-1]};var F={"stroke-width":null};D.createGraphie=function(l){var c=40;var w=40;var g;var o;E(l).css("position","relative");var k=A(l);E(l).children("div").css("position","absolute");var M={"stroke-width":2,fill:"none"};var d=function e(t){if(typeof t==="number"){return e([t,t])}var r=t[0];var n=t[1];return[r*c,n*w]};var y=function e(t){if(typeof t==="number"){return e([t,t])}var r=t[0];var n=t[1];return[(r-g[0])*c,(o[1]-n)*w]};var e=function e(t){if(typeof t==="number"){return e([t,t])}var r=t[0];var n=t[1];return[r/c+g[0],o[1]-n/w]};var t=function e(t){if(typeof t==="number"){return e([t,t])}return[t[0]/c,t[1]/w]};var u=function e(t,r){var n=E(t);var i=n.data("labelDirection");var a=x(r,2),o=a[0],s=a[1];if(o===0&&s===0){o=1;s=1;p.default.error("Label size was 0x0 in graphie.js; using 1x1 instead",p.Errors.Internal)}n.css("visibility","");if(typeof i==="number"){var l=Math.cos(i);var c=Math.sin(i);var u=Math.min(o/2/Math.abs(l),s/2/Math.abs(c));n.css({marginLeft:-o/2+l*u,marginTop:-s/2-c*u})}else{var h=O[i||"center"];n.css({marginLeft:Math.round(o*h[0]),marginTop:Math.round(s*h[1])})}};var b=function e(t,n){return E.map(t,function(e,t){if(e===true){return"z"}var r=n?e:y(e);return(t===0?"M":"L")+T.bound(r[0])+" "+T.bound(r[1])}).join("")};var i=function e(r,n,i){var t=function e(t){return(r*t+n)*t+i};if(r===0){var a=_.map(g,function(e){return[e,t(e)]});return b(a)}var o=-n/(2*r);var s=Math.max(Math.abs(o-g[0]),Math.abs(o-g[1]));var l=o+s;var c=[o,t(o)];var u=[l,t(l)];var h=[c[0],c[1]-(u[1]-c[1])];var f=Math.abs(c[0]-u[0]);var p=[c[0]-f,u[1]];var d=[c[0]+f,u[1]];var v=_.map([p,h,d],y);var m=_.map(_.flatten(v),T.bound);return"M"+m[0]+","+m[1]+" Q"+m[2]+","+m[3]+" "+m[4]+","+m[5]};var a=function e(r,n,i,a){var s=Math.abs(Math.PI/(2*n));var l=function e(t){return r*Math.sin(n*t-i)+a};var c=function e(t){return r*n*Math.cos(i-n*t)};var t=function e(t,r){var n=t+s*r;var i=n+s;var a=[n,n*2/3+i*1/3,n*1/3+i*2/3,i];var o=[l(n),l(n)+c(n)*(i-n)/3,l(i)-c(i)*(i-n)/3,l(i)];return _.map(_.zip(a,o),y)};var o=g[1]-g[0];var u=Math.ceil(o/s)+1;var h=i/n;var f=h-g[0];h-=s*Math.ceil(f/s);var p=t(h,0);var d="M"+p[0][0]+","+p[0][1]+" C"+p[1][0]+","+p[1][1]+" "+p[2][0]+","+p[2][1]+" "+p[3][0]+","+p[3][1];for(var v=1;v<u;v++){p=t(h,v);d+=" C"+p[1][0]+","+p[1][1]+" "+p[2][0]+","+p[2][1]+" "+p[3][0]+","+p[3][1]}return d};D.svgPath=b;var s=function e(t){var i={scale:function e(t){if(typeof t==="number"){t=[t,t]}c=t[0];w=t[1];k.setSize((g[1]-g[0])*c,(o[1]-o[0])*w)},clipRect:function e(t){var r=t[0];var n=t[1];r[1]+=n[1];return{"clip-rect":y(r).concat(d(n)).join(" ")}},strokeWidth:function e(t){return{"stroke-width":parseFloat(t)}},rx:function e(t){return{rx:d([t,0])[0]}},ry:function e(t){return{ry:d([0,t])[1]}},r:function e(t){var r=d([t,t]);return{rx:r[0],ry:r[1]}}};var a={};E.each(t||{},function(e,t){var r=i[e];if(typeof r==="function"){E.extend(a,r(t))}else{var n=e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();a[n]=t}});return a};var h=function e(t){var r=t.constructor.prototype;if(r===A.el){if(t.type==="path"&&typeof t.arrowheadsDrawn==="undefined"){var n=t.attr("stroke-width");var i=.6+.4*n;var a=t.getTotalLength();var o=k.set();var s=k.path(v.isMobile?"M-4,4 C-4,4 -0.25,0 -0.25,0 C-0.25,0 -4,-4 -4,-4":"M-3 4 C-2.75 2.5 0 0.25 0.75 0C0 -0.25 -2.75 -2.5 -3 -4");var l=t.getPointAtLength(a-.4);var c=t.getPointAtLength(a-.75*i);var u=Math.atan2(l.y-c.y,l.x-c.x)*180/Math.PI;var h=t.attr();delete h.path;var f=t.getSubpath(0,a-.75*i);f=k.path(f).attr(h);f.arrowheadsDrawn=true;t.remove();s.rotate(u,v.isMobile?1e-5:.75,0).scale(i,i,.75,0).translate(c.x,c.y).attr(h).attr({"stroke-linejoin":"round","stroke-linecap":"round"});s.arrowheadsDrawn=true;o.push(f);o.push(s);return o}}else if(r===A.st){for(var p=0,d=t.items.length;p<d;p++){e(t.items[p])}}return t};var f={circle:function e(t,r){return k.ellipse.apply(k,y(t).concat(d([r,r])))},rect:function e(t,r,n,i){var a=y([t,r+i]);var o=d([n,i]);var s=k.rect.apply(k,a.concat(o));if(v.isMobile){s.node.style.shapeRendering="crispEdges"}return s},ellipse:function e(t,r){return k.ellipse.apply(k,y(t).concat(d(r)))},fixedEllipse:function e(t,r,n,i){var a=y(t);var o=d(r);var s=2*o[0]*n+i;var l=2*o[1]*n+i;var c=a[0]-s/2;var u=a[1]-l/2;var h=document.createElement("div");E(h).css({position:"absolute",width:s+"px",height:l+"px",left:c+"px",top:u+"px"});var f=A(h,s,l);var p=f.ellipse(s/2,l/2,o[0],o[1]);return{wrapper:h,visibleShape:p}},arc:function e(t,r,n,i,a){n=(n%360+360)%360;i=(i%360+360)%360;var o=y(t);var s=d(r);var l=I(r,n);var c=I(r,i);var u=y([t[0]+l[0],t[1]+l[1]]);var h=y([t[0]+c[0],t[1]+c[1]]);var f=((i-n)%360+360)%360>180;return k.path("M"+u.join(" ")+"A"+s.join(" ")+" 0 "+(f?1:0)+" 0 "+h.join(" ")+(a?"L"+o.join(" ")+"z":""))},path:function e(t){var r=k.path(b(t));r.graphiePath=t;return r},fixedPath:function e(t,r,n){t=_.map(t,y);r=r?y(r):null;n=n||b;var i=_.min(_.pluck(t,0));var a=_.max(_.pluck(t,0));var o=_.min(_.pluck(t,1));var s=_.max(_.pluck(t,1));var l=[4,4];var c=[i,o];t=_.map(t,function(e){return S.add(S.subtract(e,c),S.scale(l,.5))});var u=a-i+l[0];var h=s-o+l[1];var f=c[0]-l[0]/2;var p=c[1]-l[1]/2;var d=document.createElement("div");E(d).css({position:"absolute",width:u+"px",height:h+"px",left:f+"px",top:p+"px",transformOrigin:r?u/2+r[0]+"px "+(h/2+r[1])+"px":null});var v=A(d,u,h);var m=v.path(n(t));return{wrapper:d,visibleShape:m}},scaledPath:function e(t){var r=k.path(b(t,true));r.graphiePath=t;return r},line:function e(t,r){var n=this.path([t,r]);if(v.isMobile){n.node.style.shapeRendering="crispEdges"}return n},parabola:function e(t,r,n){return k.path(i(t,r,n))},fixedLine:function e(t,r,n){var i=[n,n];t=y(t);r=y(r);var a=[Math.min(t[0],r[0]),Math.min(t[1],r[1])];t=S.add(S.subtract(t,a),S.scale(i,.5));r=S.add(S.subtract(r,a),S.scale(i,.5));var o=a[0]-i[0]/2;var s=a[1]-i[1]/2;var l=Math.abs(t[0]-r[0])+i[0];var c=Math.abs(t[1]-r[1])+i[1];var u=document.createElement("div");E(u).css({position:"absolute",width:l+"px",height:c+"px",left:o+"px",top:s+"px",transformOrigin:t[0]+"px "+t[1]+"px"});var h=A(u,l,c);var f="M"+t[0]+" "+t[1]+" "+"L"+r[0]+" "+r[1];var p=h.path(f);p.graphiePath=[t,r];return{wrapper:u,visibleShape:p}},sinusoid:function e(t,r,n,i){return k.path(a(t,r,n,i))},grid:function e(t,r){var n=M.step||[1,1];var i=k.set();var a=n[0]*Math.ceil(t[0]/n[0]);for(;a<=t[1];a+=n[0]){i.push(this.line([a,r[0]],[a,r[1]]))}var o=n[1]*Math.ceil(r[0]/n[1]);for(;o<=r[1];o+=n[1]){i.push(this.line([t[0],o],[t[1],o]))}return i},label:function e(t,r,n,i){i=typeof i==="undefined"||i;var a=E("<span>").addClass("graphie-label");var o=M["label-distance"];a.css(E.extend({},{position:"absolute",padding:(o!=null?o:7)+"px",color:"black"})).data("labelDirection",n).appendTo(l);a.setPosition=function(e){var t=y(e);a.css({left:t[0],top:t[1]})};a.setPosition(t);var s=a[0];a.processMath=function(e,t){P(s,e,t,function(){var e=s.scrollWidth;var t=s.scrollHeight;u(s,[e,t])})};a.processText=function(e){a.html(e);var t=s.scrollWidth;var r=s.scrollHeight;u(s,[t,r])};if(i){a.processMath(r,false)}else{a.processText(r)}return a},plotParametric:function e(r,t,n,i){i=i||function(e){return[e,0]};var a=function e(t){if(Math.abs(t[1])>5e5){return[t[0],Math.min(Math.max(t[1],-5e5),5e5)]}return t};var o=function e(t){return a(r(t))};var s=function e(t){return a(i(t))};if(!M.strokeLinejoin){M.strokeLinejoin="round"}if(!M.strokeLinecap){M.strokeLinecap="round"}var l=t[0];var c=t[1];var u=(c-l)/(M["plot-points"]||800);if(u===0){u=1}var h=k.set();var f=[];var p=D.coordDiff(o(l),s(l));var d=l;for(var v=l;v<=c;v+=u){var m=o(v);var g=s(v);var y=D.coordDiff(m,g);if(y[1]<0!==p[1]<0&&Math.abs(y[1]-p[1])>2*w||isNaN(y[1])){if(n){f.push(m);for(var b=v-u;b>=d;b-=u){f.push(s(b))}d=v}h.push(this.path(f));f=[];if(n){f.push(m)}}else{f.push(m)}p=y}if(n){for(var x=c-u;x>=d;x-=u){f.push(s(x))}}h.push(this.path(f));return h},plotPolar:function e(t,r){var n=r[0];var i=r[1];if(!M["plot-points"]){M["plot-points"]=2*(i-n)*c}return this.plotParametric(function(e){return I(t(e),e*180/Math.PI)},r)},plot:function e(t,r,n,i,a){var o=r[0];var s=r[1];if(!M["plot-points"]){M["plot-points"]=2*(s-o)*c}if(n){if(a){throw new p.KAError("Can't shade area between functions with swapped axes.",p.Errors.Internal)}return this.plotParametric(function(e){return[t(e),e]},r,i)}if(a){if(i){return this.plotParametric(function(e){return[e,t(e)]},r,i,function(e){return[e,a(e)]})}throw new p.KAError("fn2 should only be set when 'shade' is True.",p.Errors.Internal)}return this.plotParametric(function(e){return[e,t(e)]},r,i)},plotPiecewise:function e(i,a){var o=k.set();var s=this;_.times(i.length,function(e){var t=i[e];var r=a[e];var n=s.plotParametric(function(e){return[e,t(e)]},r);_.each(n,function(e){o.push(e)})});return o},plotEndpointCircles:function e(t){var r=k.set();var n=this;_.each(t,function(e,t){r.push(n.circle(e,.15))});return r},plotAsymptotes:function e(t,r){var n=r[0];var i=r[1];var a=(i-n)/(M["plot-points"]||800);var o=k.set();var s=t(n);for(var l=n;l<=i;l+=a){var c=t(l);if(c<0!==s<0&&Math.abs(c-s)>2*w){o.push(this.line([l,w],[l,-w]))}s=c}return o}};var v=new N;_.extend(v,{raphael:k,init:function e(t){var r=t.scale||[40,40];r=typeof r==="number"?[r,r]:r;c=r[0];w=r[1];if(t.range==null){throw new p.KAError("range should be specified in graph init",p.Errors.Internal)}g=t.range[0];o=t.range[1];var n=(g[1]-g[0])*c;var i=(o[1]-o[0])*w;k.setSize(n,i);E(l).css({width:n,height:i});this.range=t.range;this.scale=r;this.dimensions=[n,i];this.xpixels=n;this.ypixels=i;this.isMobile=t.isMobile;return this},style:function e(t,r){var n=s(t);if(typeof r==="function"){var i=M;M=E.extend({},M,n);var a=r.call(v);M=i;return a}E.extend(M,n)},scalePoint:y,scaleVector:d,unscalePoint:e,unscaleVector:t,svgPath:b,svgParabolaPath:i,svgSinusoidPath:a});E.each(f,function(a){v[a]=function(){var e=arguments[arguments.length-1];var t=M;var r;if(typeof e==="object"&&!_.isArray(e)){M=m({},M,s(e));var n=[].slice.call(arguments,0,arguments.length-1);r=f[a].apply(f,n)}else{M=E.extend({},M);r=f[a].apply(f,arguments)}var i=r.constructor.prototype;if(i===A.el||i===A.st){r.attr(M);if(M.arrows){r=h(r)}}else if(r instanceof E){r.css(m({},M,F))}M=t;return r}});v.graphInit=function(r){r=r||{};E.each(r,function(e,t){if(!e.match(/.*Opacity$/)&&e!=="range"&&typeof t==="number"){r[e]=[t,t]}if(e==="range"||e==="gridRange"){if(t.constructor===Array){if(t[0].constructor!==Array){r[e]=[[-t[0],t[0]],[-t[1],t[1]]]}}else if(typeof t==="number"){r[e]=[[-t,t],[-t,t]]}}});var l=r.range||[[-10,10],[-10,10]];var d=r.gridRange||r.range;var c=r.scale||[20,20];var e=r.grid!=null?r.grid:true;var t=r.gridOpacity||.1;var v=r.gridStep||[1,1];var n=r.axes!=null?r.axes:true;var m=r.axisArrows||"";var i=r.axisOpacity||1;var g=r.axisCenter||[Math.min(Math.max(l[0][0],0),l[0][1]),Math.min(Math.max(l[1][0],0),l[1][1])];var a=r.axisLabels!=null?r.axisLabels:false;var o=r.ticks!=null?r.ticks:true;var y=r.tickStep||[2,2];var u=r.tickLen||[5,5];var s=r.tickOpacity||1;var h=r.labels||r.labelStep||false;var b=r.labelStep||[1,1];var f=r.labelOpacity||1;var x=r.unityLabels||false;var p=r.labelFormat||function(e){return e};var w=r.xLabelFormat||p;var k=r.yLabelFormat||p;var M=r.smartLabelPositioning!=null?r.smartLabelPositioning:true;var S=[[l[0][0]-(l[0][0]>0?1:0),l[0][1]+(l[0][1]<0?1:0)],[l[1][0]-(l[1][0]>0?1:0),l[1][1]+(l[1][1]<0?1:0)]];if(!_.isArray(x)){x=[x,x]}if(M){var A=function e(t){return function(e){return(t(e)+"").replace(/-(\d)/g,"\\llap{-}$1")}};w=A(w);k=A(k)}this.init({range:S,scale:c,isMobile:r.isMobile});if(e){this.grid(d[0],d[1],{stroke:r.isMobile?C.GRAY_C:"#000000",opacity:r.isMobile?1:t,step:v,strokeWidth:r.isMobile?1:2})}if(n){if(m==="<->"||m===true){this.style({stroke:r.isMobile?C.GRAY_G:"#000000",opacity:r.isMobile?1:i,strokeWidth:r.isMobile?1:2,arrows:"->"},function(){if(l[1][0]<0&&l[1][1]>0){this.path([g,[d[0][0],g[1]]]);this.path([g,[d[0][1],g[1]]])}if(l[0][0]<0&&l[0][1]>0){this.path([g,[g[0],d[1][0]]]);this.path([g,[g[0],d[1][1]]])}})}else if(m==="->"||m===""){this.style({stroke:"#000000",opacity:i,strokeWidth:2,arrows:m},function(){this.path([[d[0][0],g[1]],[d[0][1],g[1]]]);this.path([[g[0],d[1][0]],[g[0],d[1][1]]])})}if(a&&a.length===2){this.label([d[0][1],g[1]],a[0],"right");this.label([g[0],d[1][1]],a[1],"above")}}if(o){var T=r.isMobile;this.style({stroke:r.isMobile?C.GRAY_G:"#000000",opacity:r.isMobile?1:s,strokeWidth:1},function(){var e=v[0]*y[0];var t=u[0]/c[1];var r=d[0][0];var n=d[0][1];if(l[1][0]<0&&l[1][1]>0){for(var i=e+g[0];i<=n;i+=e){if(i<n||!m){this.line([i,-t+g[1]],[i,T?0:t+g[1]])}}for(var a=-e+g[0];a>=r;a-=e){if(a>r||!m){this.line([a,-t+g[1]],[a,T?0:t+g[1]])}}}e=v[1]*y[1];t=u[1]/c[0];r=d[1][0];n=d[1][1];if(l[0][0]<0&&l[0][1]>0){for(var o=e+g[1];o<=n;o+=e){if(o<n||!m){this.line([-t+g[0],o],[T?0:t+g[0],o])}}for(var s=-e+g[1];s>=r;s-=e){if(s>r||!m){this.line([-t+g[0],s],[T?0:t+g[0],s])}}}})}if(h){this.style({stroke:r.isMobile?C.GRAY_G:"#000000",opacity:r.isMobile?1:f},function(){var e=v[0]*y[0]*b[0];var t=d[0][0];var r=d[0][1];var n=g[0]<0?"above":"below";var i=g[0]<0?"right":"left";var a=g[0]===0&&g[1]!==0;var o=g[0]!==0&&g[1]===0;var s=g[0]!==0||g[1]!==0;var l=x[0]||s;var c=x[1]||s;for(var u=(a?0:e)+g[0];u<=r;u+=e){if(u<r||!m){this.label([u,g[1]],w(u),n)}}for(var h=-e*(l?1:2)+g[0];h>=t;h-=e){if(h>t||!m){this.label([h,g[1]],w(h),n)}}e=v[1]*y[1]*b[1];t=d[1][0];r=d[1][1];for(var f=(o?0:e)+g[1];f<=r;f+=e){if(f<r||!m){this.label([g[0],f],k(f),i)}}for(var p=-e*(c?1:2)+g[1];p>=t;p-=e){if(p>t||!m){this.label([g[0],p],k(p),i)}}})}};return v};e.exports=D},"2OMh":function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("yXV3");r("4mDm");r("2B1R");r("+2oP");r("5DmW");r("07d7");r("TWNs");r("JfAA");r("Rm1S");r("UxlC");r("FZtP");r("3bBZ");var c=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){i(t,e,r[e])})}return t}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var _=r("F/us");var h=r("wk+a");var a=r("FvPh");var o=r("uBl0");var s=r("LU9M");var i18n=r("HEOz");var l=function e(t,r,n){var i=t.length;var a=0;if(n){if(r.inline){return null}while(a<i&&t[a]===" "){a++}}if(!(a<i&&t[a]==="$")){return null}a++;var o=a;var s=0;while(a<i){var l=t[a];if(l==="\\"){a++}else if(s<=0&&l==="$"){var c=a+1;if(n){var u=/^(?: *\n){2,}/.exec(t.slice(c));c=u?c+u[0].length:null}if(c){return[t.substring(0,c),t.substring(o,a)]}return null}else if(l==="{"){s++}else if(l==="}"){s--}else if(l==="\n"&&t[a-1]==="\n"){return null}a++}return null};var f=function e(t,r){return l(t,r,false)};var p=function e(t,r){return l(t,r,true)};var d=new RegExp("^\\|\\| +(.*) +\\|\\| *\\n"+"("+h.defaultRules.nptable.match.regex.source.substring(1)+")");var v=h.blockRegex(/^(crwdns.*)\n\s*\n/);var m=_.extend({},h.defaultRules,{columns:{order:-2,match:h.blockRegex(/^([\s\S]*\n\n)={5,}\n\n([\s\S]*)/),parse:function e(t,r,n){return{col1:r(t[1],n),col2:r(t[2],n)}},react:function e(t,r,n){return c.createElement("div",{className:"perseus-two-columns",key:n.key},c.createElement("div",{className:"perseus-column"},c.createElement("div",{className:"perseus-column-content"},r(t.col1,n))),c.createElement("div",{className:"perseus-column"},c.createElement("div",{className:"sat-header-grafting-area"}),c.createElement("div",{className:"perseus-column-content"},c.createElement("div",{className:"sat-skill-subscore-grafting-area"}),r(t.col2,n),c.createElement("div",{className:"sat-grafting-area"}))))}},crowdinId:{order:-1,match:function e(t,r,n){if(r.isJipt){return v(t,r,n)}return null},parse:function e(t,r,n){return{id:t[1]}},react:function e(t,r,n){return t.id}},titledTable:{order:h.defaultRules.nptable.order-.5,match:h.blockRegex(d),parse:function e(t,r,n){var i=h.parseInline(r,t[1],n);var a=_.rest(t,2);var o=h.defaultRules.nptable.parse(a,r,n);return{title:i,table:o}},react:function e(t,r,n){var i;if(!t.table){i="//invalid table//"}else{var a=h.defaultRules.table.react(t.table,r,n);var o=c.createElement("caption",{key:"caption",className:"perseus-table-title"},r(t.title,n));i=c.cloneElement(a,null,[o].concat(a.props.children))}return c.createElement("div",{className:"perseus-titled-table",key:n.key},i)}},widget:{order:h.defaultRules.link.order-.75,match:h.inlineRegex(o.rWidgetRule),parse:function e(t,r,n){return{id:t[1],widgetType:t[2]}},react:function e(t,r,n){return c.createElement("em",{key:n.key},i18n.doNotTranslate("[Widget: ",t.id,"]"))}},blockMath:{order:h.defaultRules.codeBlock.order+.5,match:p,parse:function e(t,r,n){return{content:t[1]}},react:function e(t,r,n){return c.createElement(a,{key:n.key},t.content)}},math:{order:h.defaultRules.link.order-.25,match:f,parse:function e(t,r,n){return{content:t[1]}},react:function e(t,r,n){return c.createElement(a,{key:n.key},t.content)}},unescapedDollar:{order:h.defaultRules.link.order-.24,match:h.inlineRegex(/^(?!\\)\$/),parse:function e(t,r,n){return{}},react:function e(t,r,n){return"$"}},fence:_.extend({},h.defaultRules.fence,{parse:function e(t,r,n){var i=h.defaultRules.fence.parse(t,r,n);if(i.lang==="alt"){return{type:"codeBlock",lang:"alt",content:r(i.content+"\n\n",n)}}return i}}),blockQuote:u({},h.defaultRules.blockQuote,{match:h.blockRegex(/^ *>[^\n]+(\n( *>)?[^\n]+)*\n{2,}/)}),link:_.extend({},h.defaultRules.link,{react:function e(t,r,n){var i=h.defaultRules.link.react(t,r,n);var a=i.props.href;var o=null;var s=a?a.match(/https?:\/\/[^\/]*khanacademy.org|^\//):false;if(!s){o="noopener noreferrer"}var l=u({},i.props,{target:"_blank",href:a,rel:o});if(n.baseElements&&n.baseElements.Link){return n.baseElements.Link(l)}return c.cloneElement(i,l)}}),codeBlock:_.extend({},h.defaultRules.codeBlock,{react:function e(t,r,n){if(t.lang==="alt"){return c.createElement("div",{key:n.key,className:"perseus-markdown-alt perseus-sr-only"},r(t.content,n))}return h.defaultRules.codeBlock.react(t,r,n)}}),list:_.extend({},h.defaultRules.list,{match:function e(t,r,n){if(r.isJipt){return null}return h.defaultRules.list.match(t,r,n)}}),lint:{order:1e3,match:function e(t){return null},parse:function e(t,r,n){return{}},react:function e(t,r,n){return c.createElement(s,{message:t.message,ruleName:t.ruleName,inline:g(t.content),blockHighlight:t.blockHighlight,insideTable:t.insideTable,severity:t.severity},r(t.content,n))}}});function g(e){return!!(e&&e.type&&y.hasOwnProperty(e.type))}var y={text:true,math:true,unescapedDollar:true,link:true,img:true,strong:true,u:true,em:true,del:true,code:true};var b=h.parserFor(m);var x=function e(t,r){var n=t+"\n\n";return b(n,_.extend({inline:false},r))};var w=function e(t,r){return b(t,_.extend({inline:true},r))};var k=function t(e,r){if(_.isArray(e)){_.each(e,function(e){return t(e,r)})}else if(_.isObject(e)){r(e);if(e.type==="table"){t(e.header,r);t(e.cells,r)}else if(e.type==="list"){t(e.items,r)}else if(e.type==="titledTable"){t(e.table,r)}else if(e.type==="columns"){t(e.col1,r);t(e.col2,r)}else if(_.isArray(e.content)){t(e.content,r)}}};var M=function e(t){if(_.isArray(t)){return _.flatten(_.map(t,e))}if(t.content&&_.isString(t.content)){if(t.type.toLowerCase().indexOf("code")!==-1){return["",t.content,""]}return[t.content.replace(/\s+/g," ")]}var r=_.chain(t).values().flatten().filter(function(e){return e!=null&&_.has(e,"type")}).value();if(!r.length){return[]}var n=e(r);if(t.type==="paragraph"&&n.length){n[0]=n[0].replace(/^\s+/,"");var i=n.length-1;n[i]=n[i].replace(/\s+$/,"")}return n};var S=function e(t){var r=x(t);var n=M(r).join("");return n.length};e.exports={characterCount:S,traverseContent:k,parse:x,parseInline:w,reactFor:h.reactFor,ruleOutput:h.ruleOutput(m,"react"),basicOutput:h.reactFor(h.ruleOutput(m,"react")),sanitizeUrl:h.sanitizeUrl}},"2qRe":function(e,t,r){"use strict";var _=r("F/us");var o=r("d773");var h=r("eAf/").point;var n={constrain:function e(){this.constrain()}};n.standard=[n.constrain];var i={draw:function e(){this.draw()}};i.standard=[i.draw];var a={basic:function e(t,r){var n=this.graphie;if(!this.state.visibleShape){var i=[this.pointSize()/n.scale[0],this.pointSize()/n.scale[1]];var a={maxScale:Math.max(this.highlightStyle().scale,this.normalStyle().scale),padding:10,shadow:t.shadow};this.state.visibleShape=new o(n,this.coord(),i,a);this.state.visibleShape.attr(_.omit(this.normalStyle(),"scale"));this.state.visibleShape.toFront();if(this.mouseTarget()){this.mouseTarget().toFront()}}if(t.normalStyle!==r.normalStyle&&!_.isEqual(t.normalStyle,r.normalStyle)){this.state.visibleShape.attr(this.normalStyle())}this.state.visibleShape.moveTo(this.coord());if(this.mouseTarget()){this.mouseTarget().moveTo(this.coord())}},highlight:function e(t,r){if(t.isHovering&&!r.isHovering){t.visibleShape.animate(this.highlightStyle(),50)}else if(!t.isHovering&&r.isHovering){t.visibleShape.animate(this.normalStyle(),50)}}};a.standard=[a.basic,a.highlight];var s={basic:function e(){if(this.state.visibleShape){this.state.visibleShape.remove();this.state.visibleShape=null}}};s.standard=s.basic;var l={fixed:function e(){return function(){return false}},snap:function e(t){return function(e){if(t===null){return true}t=t||this.graphie.snap;return h.roundTo(e,t)}},bound:function e(l,c,u){if(u===undefined){if(l===undefined){u=10}else{u=0}}return function(e,t,r){var n=this.graphie;l=l||n.range;if(c===undefined){c=n.snap}var i=n.unscalePoint([u,n.ypixels-u]);var a=n.unscalePoint([n.xpixels-u,u]);if(c){i=h.ceilTo(i,c);a=h.floorTo(a,c)}if(!!r&&!!r.onOutOfBounds){if(e[0]>a[0]||e[0]<i[0]||e[1]>a[1]||e[1]<i[1]){r.onSkipRemaining();r.onOutOfBounds()}return e}var o=Math.max(i[0],Math.min(a[0],e[0]));var s=Math.max(i[1],Math.min(a[1],e[1]));return[o,s]}}};l.standard=null;e.exports={add:n,modify:i,draw:a,remove:s,onMoveStart:{standard:null},constraints:l,onMove:{standard:null},onMoveEnd:{standard:null},onClick:{standard:null}}},"4vmB":function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("4mDm");r("2B1R");r("+2oP");r("ToJy");r("07d7");r("JfAA");r("Rm1S");r("UxlC");r("FZtP");r("3bBZ");var n=r("4PhQ");function u(e,t){return o(e)||a(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(i)throw a}}return r}function o(e){if(Array.isArray(e))return e}var _=r("F/us");var E=r("e2gc");r("KSpR");var s=r("nL9U");var P=r("2BsJ");var C=r("eAf/").vector;var S=r("eAf/").point;var m=r("eAf/").line;var l=r("d773");var c=r("T2HF");var h=r("f3EM");var I=r("XwLL");var D=r("yfnS");var f=r("p8fL"),v=f.getCanUse3dTransform;function p(e){return _.reduce(e,function(e,t){return e+t},0)}function d(e){var t=_.zip(e,e.slice(1).concat(e.slice(0,1)));var r=_.map(t,function(e){var t=e[0];var r=e[1];return(r[0]-t[0])*(r[1]+t[1])});return p(r)>0}function N(){var e=_.toArray(arguments);var t=_.zip.apply(_,e);return _.map(t,p)}function O(e){return _.map(e,function(e){return e*-1})}function M(e){var t=3.51470560176242*20;var r=.5687298702748785*20;var n=-.037587715462826674;return(t-r)*Math.exp(n*e)+r}function F(e,t){return[e*Math.cos(t),e*Math.sin(t)*-1]}function A(e,t){var r=t*Math.PI/180;return F(e,r)}var T=false;var g={bogusShape:{animate:function e(){},attr:function e(){},remove:function e(){}}};_.extend(P.Graphie.prototype,{addMouseLayer:function e(t){var r=this;t=_.extend({allowScratchpad:false,setDrawingAreaAvailable:function e(){}},t);var n=2;r.mouselayer=s(r.raphael.canvas.parentNode,r.xpixels,r.ypixels);E(r.mouselayer.canvas).css("z-index",n);if(t.onClick||t.onMouseDown||t.onMouseMove||t.onMouseOver||t.onMouseOut){var i=r.mouselayer.rect(0,0,r.xpixels,r.ypixels).attr({fill:"#000",opacity:0});var a=false;E(r.mouselayer.canvas).on("vmousedown",function(e){if(e.target===i[0]){if(t.onMouseDown){t.onMouseDown(r.getMouseCoord(e))}a=true;if(t.onMouseMove){E(document).bind("vmousemove.mouseLayer",function(e){if(a){e.preventDefault();t.onMouseMove(r.getMouseCoord(e))}})}E(document).bind("vmouseup.mouseLayer",function(e){E(document).unbind(".mouseLayer");if(a&&t.onClick){t.onClick(r.getMouseCoord(e))}a=false})}});if(t.onMouseOver){E(r.mouselayer.canvas).on("vmouseover",function(e){t.onMouseOver(r.getMouseCoord(e))})}if(t.onMouseOut){E(r.mouselayer.canvas).on("vmouseout",function(e){t.onMouseOut(r.getMouseCoord(e))})}}if(!t.allowScratchpad){t.setDrawingAreaAvailable(false)}r._mouselayerWrapper=document.createElement("div");E(r._mouselayerWrapper).css({position:"absolute",left:0,top:0,zIndex:n});r._visiblelayerWrapper=document.createElement("div");E(r._visiblelayerWrapper).css({position:"absolute",left:0,top:0});var o=r.raphael.canvas.parentNode;o.appendChild(r._visiblelayerWrapper);o.appendChild(r._mouselayerWrapper);r.addToMouseLayerWrapper=function(e){this._mouselayerWrapper.appendChild(e)};r.addToVisibleLayerWrapper=function(e){this._visiblelayerWrapper.appendChild(e)}},getMousePx:function e(t){var r=this;var n=t.pageX-E(r.raphael.canvas.parentNode).offset().left;var i=t.pageY-E(r.raphael.canvas.parentNode).offset().top;return[n,i]},getMouseCoord:function e(t){return this.unscalePoint(this.getMousePx(t))},labelAngle:function e(t){var r=this;_.defaults(t,{point1:[0,0],vertex:[0,0],point3:[0,0],label:null,numArcs:1,showRightAngleMarker:true,pushOut:0,clockwise:false,style:{}});var n=t.text===undefined?"":t.text;var i=t.vertex;var a=r.scalePoint(i);var o;var s;if(t.clockwise){o=t.point1;s=t.point3}else{o=t.point3;s=t.point1}var l=P.findAngle(o,i);var c=P.findAngle(s,i);var u=(c+360-l)%360;var h=(l+u/2)%360;var f=5*t.pushOut;var p=f+M(u);var d=[];if(Math.abs(u-90)<1e-9&&t.showRightAngleMarker){var v=N(a,A(p,l));var m=N(a,A(p,c));p*=Math.SQRT2;var g=N(a,A(p,h));_.each([v,m],function(e){d.push(r.scaledPath([e,g],t.style))})}else{_.times(t.numArcs,function(e){d.push(r.arc(i,r.unscaleVector(p),l,c,t.style));p+=3})}if(n){var y=n.match(/\$deg(\d)?/);if(y){var b=y[1]||1;n=n.replace(y[0],I.toFixedApprox(u,b)+"^{\\circ}")}var x=A(p+15,h);var w=N(a,x);var k=r.unscalePoint(w);if(t.label){t.label.setPosition(k);t.label.processMath(n,true)}else{r.label(k,n,"center",t.style)}}return d},labelSide:function e(t){var a=this;_.defaults(t,{point1:[0,0],point2:[0,0],label:null,text:"",numTicks:0,numArrows:0,clockwise:false,style:{}});var i;var r;if(t.clockwise){i=t.point1;r=t.point2}else{i=t.point2;r=t.point1}var n=[(i[0]+r[0])/2,(i[1]+r[1])/2];var o=a.scalePoint(n);var s=Math.atan2(r[1]-i[1],r[0]-i[0]);var l=s+Math.PI/2;var c=[];var u=0;if(t.numTicks){var h=t.numTicks;var f=5;var p=5;var d=_.extend({},t.style,{strokeWidth:2});_.times(h,function(e){var t=f*(e-(h-1)/2);var r=F(t,s);var n=F(p,l);var i=[N(o,r,n),N(o,r,O(n))];c.push(a.scaledPath(i,d))});u+=f*(h-1)+15}if(t.numArrows){var v=t.numArrows;var m=[i,r].sort(function(e,t){if(e[1]===t[1]){return e[0]-t[0]}return e[1]-t[1]})[0];var g=a.scalePoint(m);var y=_.extend({},t.style,{arrows:"->",strokeWidth:2});var b=5;_.times(v,function(e){var t=u+b*e;var r=F(t,s);if(m!==i){r=O(r)}var n=N(o,r);c.push(a.scaledPath([g,n],y))})}var x=t.text;if(x){var w=x.match(/\$len(\d)?/);if(w){var k=P.getDistance(i,r);var M=w[1]||1;x=x.replace(w[0],I.toFixedApprox(k,M))}var S=20;var A=F(S,l);var T=N(o,A);var E=a.unscalePoint(T);if(t.label){t.label.setPosition(E);t.label.processMath(x,true)}else{a.label(E,x,"center",t.style)}}return c},labelVertex:function e(t){var r=this;_.defaults(t,{point1:null,vertex:[0,0],point3:null,label:null,text:"",clockwise:false,style:{}});if(!t.text){return}var n=t.vertex;var i=r.scalePoint(n);var a;var o;if(t.clockwise){a=t.point1;o=t.point3}else{a=t.point3;o=t.point1}var s=135;var l;if(a&&o){var c=P.findAngle(a,n);var u=P.findAngle(o,n);s=(u+360-c)%360;l=(c+s/2+180)%360}else if(a){var h=P.findAngle(n,a);l=h+90}else if(o){var f=P.findAngle(o,n);l=f+90}else{l=135}var p=10+M(360-s);var d=A(p,l);var v=N(i,d);var m=r.unscalePoint(v);if(t.label){t.label.setPosition(m);t.label.processMath(t.text,true)}else{r.label(m,t.text,"center",t.style)}},addMovablePoint:function e(t){var b=E.extend(true,{graph:this,coord:[0,0],snapX:0,snapY:0,pointSize:4,highlight:false,dragging:false,visible:true,bounded:true,constraints:{fixed:false,constrainX:false,constrainY:false,fixedAngle:{},fixedDistance:{}},lineStarts:[],lineEnds:[],polygonVertices:[],normalStyle:{},highlightStyle:{fill:D.INTERACTING,stroke:D.INTERACTING},labelStyle:{color:D.INTERACTIVE},vertexLabel:"",mouseTarget:null},t);var r=b.constraints.fixed?D.DYNAMIC:D.INTERACTIVE;b.normalStyle=_.extend({},{fill:r,stroke:r},t.normalStyle);if(t.coordX!==undefined){b.coord[0]=t.coordX}if(t.coordY!==undefined){b.coord[1]=t.coordY}var g=b.graph;var f=function e(t){if(b.visible&&b.bounded&&!b.constraints.fixed){t=g.constrainToBounds(t,10)}var r=t[0];var n=t[1];if(b.snapX!==0){r=Math.round(r/b.snapX)*b.snapX}if(b.snapY!==0){n=Math.round(n/b.snapY)*b.snapY}if(b.constraints.fixedDistance.snapPoints){var i=g.scalePoint(t);var a=i[0];var o=i[1];var s=2*Math.PI/b.constraints.fixedDistance.snapPoints;var l=b.constraints.fixedDistance.dist;var c=b.constraints.fixedDistance.point;var u=(c[0]-g.range[0][0])*g.scale[0];var h=(-c[1]+g.range[1][1])*g.scale[1];var f=a-u;var p=-o+h;var d=Math.atan(p/f);var v=f<0;if(v){d+=Math.PI}d=Math.round(d/s)*s;f=l*Math.cos(d);p=l*Math.sin(d);a=f+u;o=-p+h;r=I.roundTo(5,a/g.scale[0]+g.range[0][0]);n=I.roundTo(5,g.range[1][1]-o/g.scale[1])}var m=b.applyConstraint([r,n]);return m};b.applyConstraint=function(e,t,r){var n=e.slice();var i={};if(r){E.extend(i,{fixed:false,constrainX:false,constrainY:false,fixedAngle:{},fixedDistance:{}},t)}else{E.extend(i,this.constraints,t)}if(i.constrainX){n=[this.coord[0],e[1]]}else if(i.constrainY){n=[e[0],this.coord[1]]}else if(typeof i.fixedAngle.angle==="number"&&typeof i.fixedDistance.dist==="number"){var a=i.fixedAngle.vertex.coord||i.fixedAngle.vertex;var o=i.fixedAngle.ref.coord||i.fixedAngle.ref;var s=i.fixedDistance.point.coord||i.fixedDistance.point;var l=(i.fixedAngle.angle+P.findAngle(o,a))*Math.PI/180;var c=i.fixedDistance.dist;n[0]=c*Math.cos(l)+s[0];n[1]=c*Math.sin(l)+s[1]}else if(typeof i.fixedAngle.angle==="number"){var u=i.fixedAngle.vertex.coord||i.fixedAngle.vertex;var h=i.fixedAngle.ref.coord||i.fixedAngle.ref;var f=(i.fixedAngle.angle+P.findAngle(h,u))*Math.PI/180;var p=P.findAngle(e,u)*Math.PI/180;var d=P.getDistance(e,u);var v=d*Math.cos(f-p);v=v<1?1:v;n[0]=v*Math.cos(f)+u[0];n[1]=v*Math.sin(f)+u[1]}else if(typeof i.fixedDistance.dist==="number"){var m=i.fixedDistance.point.coord||i.fixedDistance.point;var g=P.findAngle(e,m);var y=i.fixedDistance.dist;g=g*Math.PI/180;n[0]=y*Math.cos(g)+m[0];n[1]=y*Math.sin(g)+m[1]}else if(i.fixed){n=b.coord}return n};b.coord=f(b.coord);var n=2;if(b.visible){g.style(b.normalStyle,function(){var e=[b.pointSize/g.scale[0],b.pointSize/g.scale[1]];var t={maxScale:n,padding:2};b.visibleShape=new l(g,b.coord,e,t);b.visibleShape.attr(_.omit(b.normalStyle,"scale"));b.visibleShape.toFront()})}b.normalStyle.scale=1;b.highlightStyle.scale=n;if(b.vertexLabel){b.labeledVertex=this.label([0,0],"","center",b.labelStyle)}b.drawLabel=function(){if(b.vertexLabel){b.graph.labelVertex({vertex:b.coord,label:b.labeledVertex,text:b.vertexLabel,style:b.labelStyle})}};b.drawLabel();b.grab=function(h){h=h||[0,0];E(document).bind("vmousemove.point vmouseup.point",function(e){e.preventDefault();b.dragging=true;T=true;var t=C.add(g.getMouseCoord(e),h);t=f(t);var r=t[0];var n=t[1];var i;var a;if(e.type==="vmousemove"){var o=true;if(_.isFunction(b.onMove)){var s=b.onMove(r,n);if(s===false){o=false}if(_.isArray(s)){r=s[0];n=s[1]}}i=(r-g.range[0][0])*g.scale[0];a=(-n+g.range[1][1])*g.scale[1];if(o){var l=g.unscalePoint([i,a]);b.visibleShape.moveTo(l);b.mouseTarget.moveTo(l);b.coord=[r,n];b.updateLineEnds();E(b).trigger("move")}b.drawLabel()}else if(e.type==="vmouseup"){E(document).unbind(".point");b.dragging=false;T=false;if(_.isFunction(b.onMoveEnd)){var c=b.onMoveEnd(r,n);if(_.isArray(c)){r=c[0];n=c[1];i=(r-g.range[0][0])*g.scale[0];a=(-n+g.range[1][1])*g.scale[1];var u=g.unscalePoint([i,a]);b.visibleShape.moveTo(u);b.mouseTarget.moveTo(u);b.coord=[r,n]}}if(!b.highlight){b.visibleShape.animate(b.normalStyle,50);if(b.onUnhighlight){b.onUnhighlight()}}}})};if(b.visible&&!b.constraints.fixed){if(!b.mouseTarget){var i=g.unscaleVector(16);var a={mouselayer:true,padding:0,disableMouseEventsOnWrapper:true};b.mouseTarget=new l(g,b.coord,i,a);b.mouseTarget.attr({fill:"#000",opacity:0})}var o=E(b.mouseTarget.getMouseTarget());o.css("cursor","move");o.bind("vmousedown vmouseover vmouseout",function(e){if(e.type==="vmouseover"){b.highlight=true;if(!T){b.visibleShape.animate(b.highlightStyle,50);if(b.onHighlight){b.onHighlight()}}}else if(e.type==="vmouseout"){b.highlight=false;if(!b.dragging&&!T){b.visibleShape.animate(b.normalStyle,50);if(b.onUnhighlight){b.onUnhighlight()}}}else if(e.type==="vmousedown"&&(e.which===1||e.which===0)){e.preventDefault();var t=b.coord;var r=g.getMouseCoord(e);var n=!("ontouchstart"in window);var i=n?[0,0]:C.subtract(t,r);b.grab(i)}})}b.moveTo=function(e,t,r){var n=P.getDistance(this.graph.scalePoint([e,t]),this.graph.scalePoint(this.coord));var i=n*5;var a=r&&function(e){b.coord=e;b.updateLineEnds()};this.visibleShape.animateTo([e,t],i,a);this.mouseTarget.animateTo([e,t],i,a);this.coord=[e,t];if(_.isFunction(this.onMove)){this.onMove(e,t)}};b.updateLineEnds=function(){E(this.lineStarts).each(function(){this.coordA=b.coord;this.transform()});E(this.lineEnds).each(function(){this.coordZ=b.coord;this.transform()});E(this.polygonVertices).each(function(){this.transform()})};b.setCoord=function(e){if(this.visible){this.visibleShape.moveTo(e);if(this.mouseTarget!=null){this.mouseTarget.moveTo(e)}}this.coord=e.slice()};b.setCoordConstrained=function(e){this.setCoord(f(e))};b.toBack=function(){if(this.visible){if(this.mouseTarget!=null){this.mouseTarget.toBack()}this.visibleShape.toBack()}};b.toFront=function(){if(this.visible){if(this.mouseTarget!=null){this.mouseTarget.toFront()}this.visibleShape.toFront()}};b.remove=function(){if(this.visibleShape){this.visibleShape.remove()}if(this.mouseTarget){this.mouseTarget.remove()}if(this.labeledVertex){this.labeledVertex.remove()}};return b},addMovableLineSegment:function e(t){var p=E.extend({graph:this,coordA:[0,0],coordZ:[1,1],snapX:0,snapY:0,fixed:false,ticks:0,normalStyle:{},highlightStyle:{stroke:D.INTERACTING,"stroke-width":6},labelStyle:{stroke:D.INTERACTIVE,color:D.INTERACTIVE},highlight:false,dragging:false,tick:[],extendLine:false,extendRay:false,constraints:{fixed:false,constrainX:false,constrainY:false},sideLabel:"",vertexLabels:[],numArrows:0,numTicks:0,movePointsWithLine:false},t);var r=p.fixed?D.DYNAMIC:D.INTERACTIVE;p.normalStyle=_.extend({},{"stroke-width":2,stroke:r},t.normalStyle);p.arrowStyle=_.extend({},p.normalStyle,{color:p.normalStyle.stroke});if(t.pointA!==undefined){p.coordA=t.pointA.coord;p.pointA.lineStarts.push(p)}else if(t.coordA!==undefined){p.coordA=t.coordA.slice()}if(t.pointZ!==undefined){p.coordZ=t.pointZ.coord;p.pointZ.lineEnds.push(p)}else if(t.coordA!==undefined){p.coordA=p.coordA.slice()}var d=p.graph;d.style(p.normalStyle);for(var n=0;n<p.ticks;++n){p.tick[n]=g.bogusShape}var i=P.unscaledSvgPath([[0,0],[1,0]]);for(var a=0;a<p.ticks;++a){var o=.5-(p.ticks-1+a*2)/d.scale[0];i+=P.unscaledSvgPath([[o,-7],[o,7]])}t={thickness:Math.max(p.normalStyle["stroke-width"],p.highlightStyle["stroke-width"])};p.visibleLine=new c(d,[0,0],[1,0],t);p.visibleLine.attr(p.normalStyle);if(!p.fixed){var s={thickness:30,mouselayer:true};p.mouseTarget=new c(d,[0,0],[1,0],s);p.mouseTarget.attr({fill:"#000",opacity:0})}p.transform=function(e){if(e){if(typeof this.pointA==="object"){this.coordA=this.pointA.coord}if(typeof this.pointZ==="object"){this.coordZ=this.pointZ.coord}}var t=function e(t){var r=t.graph.scalePoint(t.coordA);var n=t.graph.scalePoint(t.coordZ);return C.polarDegFromCart(C.subtract(n,r))[1]};var u=function e(t,r,n){t=p.graph;var i=t.range[0][1]-t.range[0][0];var a=t.range[1][1]-t.range[1][0];var o=i+a;var s=t.unscaleVector(C.cartFromPolarDeg([1,n]));var l=C.scale(C.normalize(s),o);var c=C.add(r,l);var u=C.polarDegFromCart(s)[1];var h=t.constrainToBoundsOnAngle(c,4,u*Math.PI/180);return h};var r=t(this);var n=this.coordA;var i=this.coordZ;if(this.extendLine){n=u(d,n,360-r);i=u(d,i,(540-r)%360)}else if(this.extendRay){i=u(d,n,360-r)}var a=[this.visibleLine];if(!this.fixed){a.push(this.mouseTarget)}_.each(a,function(e){e.moveTo(n,i)});var o=function e(i,t){var a=[.75,0];var r=[[-3,4],[-2.75,2.5],[0,.25],a,[0,-.25],[-2.75,-2.5],[-3,-4]];var o=1.4;r=_.map(r,function(e){var t=C.subtract(e,a);var r=C.scale(t,o);return C.add(a,r)});var n=function e(t){var r="M"+t[0][0]+" "+t[0][1];for(var n=1;n<t.length;n+=3){r+="C"+t[n][0]+" "+t[n][1]+" "+t[n+1][0]+" "+t[n+1][1]+" "+t[n+2][0]+" "+t[n+2][1]}return r};var s=_.map(r,i.unscalePoint);var l={center:i.unscalePoint(a),createPath:n};var c=new h(i,s,l);c.attr(_.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},t));c.toCoordAtAngle=function(e,t){var r=i.scalePoint(u(i,e,t));var n=v();c.transform("translateX("+(r[0]+o*a[0])+"px) "+"translateY("+(r[1]+o*a[1])+"px) "+(n?"translateZ(0) ":"")+"rotate("+(360-I.bound(t))+"deg)")};return c};if(this._arrows==null){this._arrows=[];if(this.extendLine){this._arrows.push(o(d,this.normalStyle));this._arrows.push(o(d,this.normalStyle))}else if(this.extendRay){this._arrows.push(o(d,this.normalStyle))}}var s=[this.coordA,this.coordZ];var l=[360-r,(540-r)%360];_.each(this._arrows,function(e,t){e.toCoordAtAngle(s[t],l[t])});_.invoke(this.temp,"remove");this.temp=[];var c=this.coordA[0]<this.coordZ[0]||this.coordA[0]===this.coordZ[0]&&this.coordA[1]>this.coordZ[1];if(this.sideLabel){this.temp.push(this.graph.labelSide({point1:this.coordA,point2:this.coordZ,label:this.labeledSide,text:this.sideLabel,numArrows:this.numArrows,numTicks:this.numTicks,clockwise:c,style:this.labelStyle}))}if(this.vertexLabels.length){this.graph.labelVertex({vertex:this.coordA,point3:this.coordZ,label:this.labeledVertices[0],text:this.vertexLabels[0],clockwise:c,style:this.labelStyle});this.graph.labelVertex({point1:this.coordA,vertex:this.coordZ,label:this.labeledVertices[1],text:this.vertexLabels[1],clockwise:c,style:this.labelStyle})}this.temp=_.flatten(this.temp)};p.toBack=function(){if(!p.fixed){p.mouseTarget.toBack()}p.visibleLine.toBack()};p.toFront=function(){if(!p.fixed){p.mouseTarget.toFront()}p.visibleLine.toFront()};p.remove=function(){if(!p.fixed){p.mouseTarget.remove()}p.visibleLine.remove();if(p.labeledSide){p.labeledSide.remove()}if(p.labeledVertices){_.invoke(p.labeledVertices,"remove")}if(p._arrows){_.invoke(p._arrows,"remove")}if(p.temp.length){_.invoke(p.temp,"remove")}};p.hide=function(){p.visibleLine.hide();if(p.temp.length){_.invoke(p.temp,"hide")}if(p._arrows){_.invoke(p._arrows,"hide")}};p.show=function(){p.visibleLine.show();if(p.temp.length){_.invoke(p.temp,"show")}if(p._arrows){_.invoke(p._arrows,"show")}};if(p.sideLabel){p.labeledSide=this.label([0,0],"","center",p.labelStyle)}if(p.vertexLabels.length){p.labeledVertices=_.map(p.vertexLabels,function(e){return this.label([0,0],"","center",p.labelStyle)},this)}if(!p.fixed&&!p.constraints.fixed){var l=E(p.mouseTarget.getMouseTarget());l.css("cursor","move");l.bind("vmousedown vmouseover vmouseout",function(e){if(e.type==="vmouseover"){if(!T){p.highlight=true;p.visibleLine.animate(p.highlightStyle,50);p.arrowStyle=_.extend({},p.arrowStyle,{color:p.highlightStyle.stroke,stroke:p.highlightStyle.stroke});p.transform()}}else if(e.type==="vmouseout"){p.highlight=false;if(!p.dragging){p.visibleLine.animate(p.normalStyle,50);p.arrowStyle=_.extend({},p.arrowStyle,{color:p.normalStyle.stroke,stroke:p.normalStyle.stroke});p.transform()}}else if(e.type==="vmousedown"&&(e.which===1||e.which===0)){e.preventDefault();var t=(e.pageX-E(d.raphael.canvas.parentNode).offset().left)/d.scale[0]+d.range[0][0];var r=d.range[1][1]-(e.pageY-E(d.raphael.canvas.parentNode).offset().top)/d.scale[1];if(p.snapX>0){t=Math.round(t/p.snapX)*p.snapX}if(p.snapY>0){r=Math.round(r/p.snapY)*p.snapY}var s=[p.coordA[0]-t,p.coordA[1]-r];var l=[p.coordZ[0]-t,p.coordZ[1]-r];var c=-Math.min(d.scaleVector(s)[0],d.scaleVector(l)[0]);var u=Math.max(d.scaleVector(s)[0],d.scaleVector(l)[0]);var h=Math.max(d.scaleVector(s)[1],d.scaleVector(l)[1]);var f=-Math.min(d.scaleVector(s)[1],d.scaleVector(l)[1]);E(document).bind("vmousemove.lineSegment vmouseup.lineSegment",function(e){e.preventDefault();p.dragging=true;T=true;var t=e.pageX-E(d.raphael.canvas.parentNode).offset().left;var r=e.pageY-E(d.raphael.canvas.parentNode).offset().top;t=Math.max(c+10,Math.min(d.xpixels-10-u,t));r=Math.max(h+10,Math.min(d.ypixels-10-f,r));var n=t/d.scale[0]+d.range[0][0];var i=d.range[1][1]-r/d.scale[1];if(p.snapX>0){n=Math.round(n/p.snapX)*p.snapX}if(p.snapY>0){i=Math.round(i/p.snapY)*p.snapY}if(e.type==="vmousemove"){if(p.constraints.constrainX){n=p.coordA[0]-s[0]}if(p.constraints.constrainY){i=p.coordA[1]-s[1]}var a=n+s[0]-p.coordA[0];var o=i+s[1]-p.coordA[1];p.coordA=[n+s[0],i+s[1]];p.coordZ=[n+l[0],i+l[1]];p.transform();if(p.movePointsWithLine){if(typeof p.pointA==="object"){p.pointA.setCoord([p.pointA.coord[0]+a,p.pointA.coord[1]+o])}if(typeof p.pointZ==="object"){p.pointZ.setCoord([p.pointZ.coord[0]+a,p.pointZ.coord[1]+o])}}if(_.isFunction(p.onMove)){p.onMove(a,o)}}else if(e.type==="vmouseup"){E(document).unbind(".lineSegment");p.dragging=false;T=false;if(!p.highlight){p.visibleLine.animate(p.normalStyle,50);p.arrowStyle=_.extend({},p.arrowStyle,{color:p.normalStyle.stroke,stroke:p.normalStyle.stroke});p.transform()}if(_.isFunction(p.onMoveEnd)){p.onMoveEnd()}}E(p).trigger("move")})}})}if(p.pointA!==undefined){p.pointA.toFront()}if(p.pointZ!==undefined){p.pointZ.toFront()}p.transform();return p},addMovablePolygon:function e(t){var x=this;var w=E.extend({snapX:0,snapY:0,fixed:false,constrainToGraph:true,normalStyle:{},highlightStyle:{stroke:D.INTERACTING,"stroke-width":2,fill:D.INTERACTING,"fill-opacity":.05},pointHighlightStyle:{fill:D.INTERACTING,stroke:D.INTERACTING},labelStyle:{stroke:D.DYNAMIC,"stroke-width":1,color:D.DYNAMIC},angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],updateOnPointMove:true,closed:true},_.omit(t,"points"));var r=w.fixed?D.DYNAMIC:D.INTERACTIVE;w.normalStyle=_.extend({"stroke-width":2,"fill-opacity":0,fill:r,stroke:r},t.normalStyle);w.points=t.points;var k=function e(t){return!_.isArray(t)};w.update=function(){var r=w.points.length;w.coords=_.map(w.points,function(e,t){if(k(e)){return e.coord}return e});w.left=_.min(_.pluck(w.coords,0));w.right=_.max(_.pluck(w.coords,0));w.top=_.max(_.pluck(w.coords,1));w.bottom=_.min(_.pluck(w.coords,1));var e=_.map(w.coords,function(e){return x.scalePoint(e)});if(w.closed){e.push(true)}else{e=e.concat(_.clone(e).reverse())}w.path=P.unscaledSvgPath(e);_.invoke(w.temp,"remove");w.temp=[];var n=d(w.coords);if(w.angleLabels.length||w.showRightAngleMarkers.length){_.each(w.labeledAngles,function(e,t){w.temp.push(x.labelAngle({point1:w.coords[(t-1+r)%r],vertex:w.coords[t],point3:w.coords[(t+1)%r],label:e,text:w.angleLabels[t],showRightAngleMarker:w.showRightAngleMarkers[t],numArcs:w.numArcs[t],clockwise:n,style:w.labelStyle}))})}if(w.sideLabels.length){_.each(w.labeledSides,function(e,t){w.temp.push(x.labelSide({point1:w.coords[t],point2:w.coords[(t+1)%r],label:e,text:w.sideLabels[t],numArrows:w.numArrows[t],numTicks:w.numTicks[t],clockwise:n,style:w.labelStyle}))})}if(w.vertexLabels.length){_.each(w.labeledVertices,function(e,t){x.labelVertex({point1:w.coords[(t-1+r)%r],vertex:w.coords[t],point3:w.coords[(t+1)%r],label:e,text:w.vertexLabels[t],clockwise:n,style:w.labelStyle})})}w.temp=_.flatten(w.temp)};w.transform=function(){w.update();w.visibleShape.attr({path:w.path});if(!w.fixed){w.mouseTarget.attr({path:w.path})}};w.remove=function(){w.visibleShape.remove();if(!w.fixed){w.mouseTarget.remove()}if(w.labeledAngles){_.invoke(w.labeledAngles,"remove")}if(w.labeledSides){_.invoke(w.labeledSides,"remove")}if(w.labeledVertices){_.invoke(w.labeledVertices,"remove")}if(w.temp.length){_.invoke(w.temp,"remove")}};w.toBack=function(){if(!w.fixed){w.mouseTarget.toBack()}w.visibleShape.toBack()};w.toFront=function(){if(!w.fixed){w.mouseTarget.toFront()}w.visibleShape.toFront()};if(w.updateOnPointMove){_.each(_.filter(w.points,k),function(e){e.polygonVertices.push(w)})}w.coords=new Array(w.points.length);if(w.angleLabels.length){var n=Math.max(w.angleLabels.length,w.showRightAngleMarkers.length);w.labeledAngles=_.times(n,function(){return this.label([0,0],"","center",w.labelStyle)},this)}if(w.sideLabels.length){w.labeledSides=_.map(w.sideLabels,function(e){return this.label([0,0],"","center",w.labelStyle)},this)}if(w.vertexLabels.length){w.labeledVertices=_.map(w.vertexLabels,function(e){return this.label([0,0],"","center",w.labelStyle)},this)}w.update();w.visibleShape=x.raphael.path(w.path);w.visibleShape.attr(w.normalStyle);if(!w.fixed){w.mouseTarget=x.mouselayer.path(w.path);w.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"});E(w.mouseTarget[0]).bind("vmousedown vmouseover vmouseout",function(e){if(e.type==="vmouseover"){if(!T||w.dragging){w.highlight=true;w.visibleShape.animate(w.highlightStyle,50);_.each(_.filter(w.points,k),function(e){e.visibleShape.animate(w.pointHighlightStyle,50)})}}else if(e.type==="vmouseout"){w.highlight=false;if(!w.dragging){w.visibleShape.animate(w.normalStyle,50);var t=_.filter(w.points,k);if(!_.any(_.pluck(t,"dragging"))){_.each(t,function(e){e.visibleShape.animate(e.normalStyle,50)})}}}else if(e.type==="vmousedown"&&(e.which===1||e.which===0)){e.preventDefault();_.each(_.filter(w.points,k),function(e){e.dragging=true});var h=(e.pageX-E(x.raphael.canvas.parentNode).offset().left)/x.scale[0]+x.range[0][0];var f=x.range[1][1]-(e.pageY-E(x.raphael.canvas.parentNode).offset().top)/x.scale[1];if(w.snapX>0){h=Math.round(h/w.snapX)*w.snapX}if(w.snapY>0){f=Math.round(f/w.snapY)*w.snapY}var p=h;var d=f;var v=w.coords.slice();var m=(h-w.left)*x.scale[0];var g=(w.right-h)*x.scale[0];var y=(w.top-f)*x.scale[1];var b=(f-w.bottom)*x.scale[1];E(document).bind("vmousemove.polygon vmouseup.polygon",function(e){e.preventDefault();w.dragging=true;T=true;var t=e.pageX-E(x.raphael.canvas.parentNode).offset().left;var r=e.pageY-E(x.raphael.canvas.parentNode).offset().top;if(w.constrainToGraph){t=Math.max(m+10,Math.min(x.xpixels-10-g,t));r=Math.max(y+10,Math.min(x.ypixels-10-b,r))}var n=t/x.scale[0]+x.range[0][0];var i=x.range[1][1]-r/x.scale[1];if(w.snapX>0){n=Math.round(n/w.snapX)*w.snapX}if(w.snapY>0){i=Math.round(i/w.snapY)*w.snapY}if(e.type==="vmousemove"){var a=n-h;var o=i-f;var s=true;if(_.isFunction(w.onMove)){var l=w.onMove(a,o);if(l===false){s=false}else if(_.isArray(l)){a=l[0];o=l[1];n=h+a;i=f+o}}var c=function e(t){return[v[t][0]+a,v[t][1]+o]};if(s){_.each(w.points,function(e,t){if(k(e)){e.setCoord(c(t))}else{w.points[t]=c(t)}});w.transform();E(w).trigger("move");p=n;d=i}}else if(e.type==="vmouseup"){E(document).unbind(".polygon");var u=_.filter(w.points,k);_.each(u,function(e){e.dragging=false});w.dragging=false;T=false;if(!w.highlight){w.visibleShape.animate(w.normalStyle,50);_.each(u,function(e){e.visibleShape.animate(e.normalStyle,50)})}if(_.isFunction(w.onMoveEnd)){w.onMoveEnd(p-h,d-f)}}})}})}_.invoke(_.filter(w.points,k),"toFront");return w},constrainToBounds:function e(t,r){var n=this.unscalePoint([r,this.ypixels-r]);var i=this.unscalePoint([this.xpixels-r,r]);var a=Math.max(n[0],Math.min(i[0],t[0]));var o=Math.max(n[1],Math.min(i[1],t[1]));return[a,o]},constrainToBoundsOnAngle:function e(t,r,n){var i=this.unscalePoint([r,this.ypixels-r]);var a=this.unscalePoint([this.xpixels-r,r]);var o=t.slice();if(o[0]<i[0]){o=[i[0],o[1]+(i[0]-o[0])*Math.tan(n)]}else if(o[0]>a[0]){o=[a[0],o[1]-(o[0]-a[0])*Math.tan(n)]}if(o[1]<i[1]){o=[o[0]+(i[1]-o[1])/Math.tan(n),i[1]]}else if(o[1]>a[1]){o=[o[0]-(o[1]-a[1])/Math.tan(n),a[1]]}return o},addMovableAngle:function e(t){return new x(this,t)},addCircleGraph:function e(t){var o=this;var s=this;var l=E.extend({center:[0,0],radius:2,snapX:.5,snapY:.5,snapRadius:.5,minRadius:1,centerConstraints:{},centerNormalStyle:{},centerHighlightStyle:{stroke:D.INTERACTING,fill:D.INTERACTING},circleNormalStyle:{stroke:D.INTERACTIVE,"fill-opacity":0},circleHighlightStyle:{stroke:D.INTERACTING,fill:D.INTERACTING,"fill-opacity":.05}},t);var r=l.centerConstraints.fixed?D.DYNAMIC:D.INTERACTIVE;var n=t?t.centerNormalStyle:null;l.centerNormalStyle=_.extend({},{fill:r,stroke:r},n);l.centerPoint=s.addMovablePoint({graph:s,coord:l.center,normalStyle:l.centerNormalStyle,snapX:l.snapX,snapY:l.snapY,constraints:l.centerConstraints});l.circ=s.circle(l.center,l.radius,l.circleNormalStyle);l.perim=s.mouselayer.circle(s.scalePoint(l.center)[0],s.scalePoint(l.center)[1],s.scaleVector(l.radius)[0]).attr({"stroke-width":20,opacity:.002});if(!l.centerConstraints.fixed){E(l.centerPoint.mouseTarget.getMouseTarget()).on("vmouseover vmouseout",function(e){if(l.centerPoint.highlight||l.centerPoint.dragging){l.circ.animate(l.circleHighlightStyle,50)}else{l.circ.animate(l.circleNormalStyle,50)}})}l.toFront=function(){l.circ.toFront();l.perim.toFront();l.centerPoint.visibleShape.toFront();if(!l.centerConstraints.fixed){l.centerPoint.mouseTarget.toFront()}};l.centerPoint.onMove=function(e,t){l.toFront();l.circ.attr({cx:s.scalePoint(e)[0],cy:s.scalePoint(t)[1]});l.perim.attr({cx:s.scalePoint(e)[0],cy:s.scalePoint(t)[1]});if(l.onMove){l.onMove(e,t)}};E(l.centerPoint).on("move",function(){l.center=this.coord;E(l).trigger("move")});l.setCenter=function(e,t){l.centerPoint.setCoord([e,t]);l.centerPoint.onMove(e,t);l.center=[e,t]};l.setRadius=function(e){l.radius=e;l.perim.attr({r:s.scaleVector(e)[0]});l.circ.attr({rx:s.scaleVector(e)[0],ry:s.scaleVector(e)[1]})};l.remove=function(){l.centerPoint.remove();l.circ.remove();l.perim.remove()};var c=[[Math.PI*-1,Math.PI*-.875,"ew-resize"],[Math.PI*-.875,Math.PI*-.625,"nesw-resize"],[Math.PI*-.625,Math.PI*-.375,"ns-resize"],[Math.PI*-.375,Math.PI*-.125,"nwse-resize"],[Math.PI*-.125,Math.PI*.125,"ew-resize"],[Math.PI*.125,Math.PI*.375,"nesw-resize"],[Math.PI*.375,Math.PI*.625,"ns-resize"],[Math.PI*.625,Math.PI*.875,"nwse-resize"],[Math.PI*.875,Math.PI*1,"ew-resize"]];E(l.perim.node).on("vmousemove",function(e){var t=o.getMouseCoord(e),r=u(t,2),n=r[0],i=r[1];n-=l.center[0];i-=l.center[1];var a=Math.atan2(i,n);c.forEach(function(e){var t=u(e,3),r=t[0],n=t[1],i=t[2];if(a>=r&&a<n){E(l.perim.node).css("cursor",i)}})});E(l.perim.node).css("cursor","nesw-resize");l.perim.node.addEventListener("touchstart",function(e){e.preventDefault()},{passive:false});E(l.perim.node).on("vmouseover vmouseout vmousedown",function(e){if(e.type==="vmouseover"){l.highlight=true;if(!T){l.circ.animate(l.circleHighlightStyle,50);l.centerPoint.visibleShape.animate(l.centerHighlightStyle,50)}}else if(e.type==="vmouseout"){l.highlight=false;if(!l.dragging&&!l.centerPoint.dragging){l.circ.animate(l.circleNormalStyle,50);l.centerPoint.visibleShape.animate(l.centerNormalStyle,50)}}else if(e.type==="vmousedown"&&(e.which===1||e.which===0)){e.preventDefault();l.toFront();var o=l.radius;E(document).on("vmousemove vmouseup",function(e){e.preventDefault();l.dragging=true;T=true;if(e.type==="vmousemove"){var t=s.constrainToBounds(s.getMouseCoord(e),10);var r=P.getDistance(l.centerPoint.coord,t);r=Math.max(l.minRadius,Math.round(r/l.snapRadius)*l.snapRadius);var n=l.radius;var i=true;if(l.onResize){var a=l.onResize(r,n);if(_.isNumber(a)){r=a}else if(a===false){i=false}}if(i){l.setRadius(r);E(l).trigger("move")}}else if(e.type==="vmouseup"){E(document).off("vmousemove vmouseup");l.dragging=false;T=false;if(l.onResizeEnd){l.onResizeEnd(l.radius,o)}}})}});return l},addRotateHandle:function(){var y=function e(s,l,c,t,r,u,n){var i=function e(t,r){var n=c+r;var i=C.cartFromPolarDeg([n,u+t]);var a=C.add(l,i);var o=s.scalePoint(a);return o[0]+","+o[1]};var a=s.scaleVector(c-t);var o=s.scaleVector(c+t);return s.raphael.path(" M"+i(r,-t)+" L"+i(r,-3*t)+" L"+i(2*r,0)+" L"+i(r,3*t)+" L"+i(r,t)+" A"+o[0]+","+o[1]+",0,0,1,"+i(-r,t)+" L"+i(-r,3*t)+" L"+i(-2*r,0)+" L"+i(-r,-3*t)+" L"+i(-r,-t)+" A"+a[0]+","+a[1]+",0,0,0,"+i(r,-t)+" Z").attr({stroke:null,fill:n?D.INTERACTING:D.INTERACTIVE})};return function(l){var a=this;var c=l.center;var e=l.radius;var o=l.lengthAngle||30;var s=l.hideArrow||false;var t=l.mouseTarget;var r=_.uniqueId("rotateHandle");if(_.isArray(c)){c={coord:c}}var n=a.addMovablePoint({coord:S.addVector(c.coord,C.cartFromPolarDeg(e,l.angleDeg||0)),constraints:{fixedDistance:{dist:e,point:c}},mouseTarget:t});c.toFront();var i=c.coord;var u=n.coord;var h=u;var f=false;var p=false;var d;var v=function e(t){if(s){return}var r=C.subtract(t,c.coord);var n=C.polarDegFromCart(r);var i=n[1];if(d){d.remove()}d=y(a,c.coord,l.radius,f||p?l.hoverWidth/2:l.width/2,o,i,f||p)};E(c).on("move."+r,function(){var e=C.subtract(c.coord,i);n.setCoord(C.add(n.coord,e));v(n.coord);i=c.coord;n.constraints.fixedDistance.point=c;u=n.coord});n.onMove=function(e,t){if(!f){h=u;f=true}var r=[e,t];if(l.onMove){var n=C.polarDegFromCart(C.subtract(u,c.coord));var i=C.polarDegFromCart(C.subtract(r,c.coord));var a=n[1];var o=i[1];var s=l.onMove(o,a);if(s!=null&&s!==true){if(s===false){s=a}r=C.add(c.coord,C.cartFromPolarDeg([n[0],s]))}}v(r);u=r;return r};n.onMoveEnd=function(){f=false;v(n.coord);if(l.onMoveEnd){var e=C.polarDegFromCart(C.subtract(h,c.coord));var t=C.polarDegFromCart(C.subtract(n.coord,c.coord));l.onMoveEnd(t[1],e[1])}};n.visibleShape.remove();if(!t){n.mouseTarget.attr({scale:2})}var m=E(n.mouseTarget.getMouseTarget());m.bind("vmouseover",function(e){p=true;v(n.coord)});m.bind("vmouseout",function(e){p=false;v(n.coord)});v(n.coord);var g=n.remove;n.remove=function(){g.call(n);if(d){d.remove()}E(c).off("move."+r)};n.update=function(){v(n.coord)};return n}}(),addReflectButton:function(){var v=function e(t,r,n,i,a,o,s){if(S.equal(n[0],n[1])){n=[n[0],S.addVector(n[0],[1,1])]}var l=C.normalize(C.subtract(n[1],n[0]));var c=C.scale(l,i/2);var u=C.scale(l,a);var h=C.rotateDeg(u,90);var f=C.rotateDeg(u,-90);var p=C.negate(c);var d=C.rotateDeg(c,90);var v=C.rotateDeg(c,-90);var m=S.addVectors(r,h);var g=S.addVectors(r,f);var y=S.addVectors(r,h,c,d);var b=S.addVectors(r,h,p,d);var x=S.addVectors(r,f,c,v);var w=S.addVectors(r,f,p,v);var k=t.path([m,y,b,true],o);var M=t.path([g,x,w,true],s);return{remove:function e(){k.remove();M.remove()}}};return function(n){var i=this;var a=n.line;var o=i.addMovablePoint({constraints:n.constraints,coord:m.midpoint([a.pointA.coord,a.pointZ.coord]),snapX:i.snap[0],snapY:i.snap[1],onMove:function e(t,r){return false},onMoveEnd:function e(t,r){if(n.onMoveEnd){n.onMoveEnd.call(this,t,r)}}});var t=false;var r=false;var s;var l=function e(){return t};var c=_.map([0,1],function(e){var t=e?n.highlightStyle:n.normalStyle;return _.map([0,1],function(e){return _.defaults({"fill-opacity":e},t)})});var u=function e(t){if(r){t=!t}return c[+l()][+t]};var h=function e(t,r){if(s){s.remove()}s=v(i,t,r,l()?n.size*1.5:n.size,l()?n.size*.125:.25,u(0),u(1))};var e=function e(t,r){t=t||a.pointA.coord;r=r||a.pointZ.coord;var n=m.midpoint([t,r]);o.setCoord(n);h(n,[t,r])};E(a).on("move",_.bind(e,o,null,null));var f=E(o.mouseTarget.getMouseTarget());f.on("vclick",function(){var e=n.onClick();if(e!==false){r=!r;h(o.coord,[a.pointA.coord,a.pointZ.coord])}});a.pointA.toFront();a.pointZ.toFront();o.visibleShape.remove();var p=i.scaleVector(n.size)[0]/20;o.mouseTarget.attr({scale:1.5*p});f.css("cursor","pointer");f.bind("vmouseover",function(e){t=true;h(o.coord,[a.pointA.coord,a.pointZ.coord])});f.bind("vmouseout",function(e){t=false;h(o.coord,[a.pointA.coord,a.pointZ.coord])});var d=o.remove;o.remove=function(){s.remove();d.call(o)};o.update=e;o.isFlipped=function(){return r};e();return o}}(),protractor:function e(t){return new y(this,t)},ruler:function e(t){return new b(this,t||{})},addPoints:N});function y(s,l){this.set=s.raphael.set();this.cx=l[0];this.cy=l[1];var c=this;var u=s.unscaleVector(180.5)[0];var e=s.scalePoint([this.cx-u,this.cy+u-s.unscaleVector(10.5)[1]]);var t=s.mouselayer.image("https://ka-perseus-graphie.s3.amazonaws.com/e9d032f2ab8b95979f674fbfa67056442ba1ff6a.png",e[0],e[1],360,180);this.set.push(t);t.node.addEventListener("touchstart",function(e){e.preventDefault()},{passive:false});var r=function e(t,r){var n=s.scaleVector(u);n[0]-=16;n[1]-=16;var i=s.scalePoint(l);var a=Math.sin((t+90)*Math.PI/180)*(n[0]+r)+i[0];var o=Math.cos((t+90)*Math.PI/180)*(n[1]+r)+i[1];return a+","+o};var n=s.raphael.path(" M"+r(180,6)+" L"+r(180,2)+" L"+r(183,10)+" L"+r(180,18)+" L"+r(180,14)+" A"+(s.scaleVector(u)[0]+10)+","+(s.scaleVector(u)[1]+10)+",0,0,1,"+r(170,14)+" L"+r(170,18)+" L"+r(167,10)+" L"+r(170,2)+" L"+r(170,6)+" A"+(s.scaleVector(u)[0]+10)+","+(s.scaleVector(u)[1]+10)+",0,0,0,"+r(180,6)+" Z").attr({stroke:null,fill:D.INTERACTIVE});this.set.push(n);this.centerPoint=s.addMovablePoint({coord:l,visible:false});this.rotateHandle=s.addMovablePoint({bounded:false,coord:[Math.sin(275*Math.PI/180)*u+this.cx,Math.cos(275*Math.PI/180)*u+this.cy],onMove:function e(t,r){var n=Math.atan2(c.centerPoint.coord[1]-r,c.centerPoint.coord[0]-t)*180/Math.PI;c.rotate(-n-5,true)}});this.rotateHandle.constraints.fixedDistance.dist=u;this.rotateHandle.constraints.fixedDistance.point=this.centerPoint;this.rotateHandle.visibleShape.remove();this.rotateHandle.mouseTarget.attr({scale:2});var i=false;var a=false;var o=function e(){return a||i};var h=this;var f=E(h.rotateHandle.mouseTarget.getMouseTarget());f.bind("vmousedown",function(e){i=true;f.css("cursor","-webkit-grabbing");f.css("cursor","grabbing");n.animate({scale:1.5,fill:D.INTERACTING},50);E(document).bind("vmouseup.rotateHandle",function(e){i=false;f.css("cursor","-webkit-grab");f.css("cursor","grab");if(!o()){n.animate({scale:1,fill:D.INTERACTIVE},50)}E(document).unbind("vmouseup.rotateHandle")})});f.bind("vmouseover",function(e){a=true;n.animate({scale:1.5,fill:D.INTERACTING},50)});f.bind("vmouseout",function(e){a=false;if(!o()){n.animate({scale:1,fill:D.INTERACTIVE},50)}});var p=E.map(this.set,function(e){return e.node});this.makeTranslatable=function e(){E(p).css("cursor","move");f.css("cursor","-webkit-grab");f.css("cursor","grab");E(p).bind("vmousedown",function(e){e.preventDefault();var a=e.pageX-E(s.raphael.canvas.parentNode).offset().left;var o=e.pageY-E(s.raphael.canvas.parentNode).offset().top;E(document).bind("vmousemove.protractor",function(e){var t=e.pageX-E(s.raphael.canvas.parentNode).offset().left;var r=e.pageY-E(s.raphael.canvas.parentNode).offset().top;t=Math.max(10,Math.min(s.xpixels-10,t));r=Math.max(10,Math.min(s.ypixels-10,r));var n=t-a;var i=r-o;E.each(c.set.items,function(){this.translate(n,i)});c.centerPoint.setCoord([c.centerPoint.coord[0]+n/s.scale[0],c.centerPoint.coord[1]-i/s.scale[1]]);c.rotateHandle.setCoord([c.rotateHandle.coord[0]+n/s.scale[0],c.rotateHandle.coord[1]-i/s.scale[1]]);a=t;o=r});E(document).one("vmouseup",function(e){E(document).unbind("vmousemove.protractor")})})};this.rotation=0;this.rotate=function(e,t){var r=s.scalePoint(this.centerPoint.coord);if(t){this.rotation=0}this.set.rotate(this.rotation+e,r[0],r[1]);this.rotation=this.rotation+e;return this};this.moveTo=function e(t,r){var n=s.scalePoint(c.centerPoint.coord);var i=s.scalePoint([t,r]);var a=P.getDistance(n,i)*2;E({x:n[0],y:n[1]}).animate({x:i[0],y:i[1]},{duration:a,step:function e(t,r){var n=0;var i=0;if(r.prop==="x"){n=t-s.scalePoint(c.centerPoint.coord)[0]}else if(r.prop==="y"){i=t-s.scalePoint(c.centerPoint.coord)[1]}E.each(c.set.items,function(){this.translate(n,i)});c.centerPoint.setCoord([c.centerPoint.coord[0]+n/s.scale[0],c.centerPoint.coord[1]-i/s.scale[1]]);c.rotateHandle.setCoord([c.rotateHandle.coord[0]+n/s.scale[0],c.rotateHandle.coord[1]-i/s.scale[1]])}})};this.rotateTo=function e(t){if(Math.abs(this.rotation-t)>180){this.rotation+=360}var r=Math.abs(this.rotation-t)*5;E({0:this.rotation}).animate({0:t},{duration:r,step:function e(t,r){c.rotate(t,true);c.rotateHandle.setCoord([Math.sin((t+275)*Math.PI/180)*u+c.centerPoint.coord[0],Math.cos((t+275)*Math.PI/180)*u+c.centerPoint.coord[1]])}})};this.remove=function(){this.set.remove()};this.makeTranslatable();return this}function b(h,c){_.defaults(c,{center:[0,0],pixelsPerUnit:40,ticksPerUnit:10,units:10,label:"",style:{fill:null,stroke:D.GRAY}});var u=_.extend({},c.style,{strokeWidth:1});var f=_.extend({},c.style,{strokeWidth:2});var e=c.units*c.pixelsPerUnit;var t=50;var r=h.unscalePoint(C.subtract(h.scalePoint(c.center),C.scale([e,-t],.5)));var p=c.pixelsPerUnit/h.scale[0];var d=t/h.scale[0];var n=C.add(r,[c.units*p,d]);var i=1;var a;if(c.ticksPerUnit===10){a={10:i,5:i*.55,1:i*.35}}else{var o=[1,.6,.45,.3];a={};for(var s=c.ticksPerUnit;s>=1;s/=2){a[s]=i*(o.shift()||.2)}}var l=_.keys(a).sort(function(e,t){return t-e});function v(e){for(var t=0;t<l.length;t++){var r=l[t];if(e%r===0){return a[r]}}}var m=r[0];var g=r[1];var y=n[0];var b=n[1];var x=c.units*c.ticksPerUnit+1;var w=h.raphael.set();var k=1/h.scale[0];w.push(h.line([m-k,g],[y+k,g],f));w.push(h.line([m-k,b],[y+k,b],f));_.times(x,function(e){var t=e/c.ticksPerUnit;var r=m+t*p;var n=v(e)*d;var i=e===0||e===x-1?f:u;w.push(h.line([r,g],[r,g+n],i));if(t%1===0){var a=h.scalePoint([r,b]);var o;var s;if(t===0){o=c.label;s={mm:13,cm:11,m:8,km:11,in:8,ft:8,yd:10,mi:10}[o]||3*o.toString().length}else{o=t;s=-3*(t.toString().length+1)}var l=h.raphael.text(a[0]+s,a[1]+10,o);l.attr({"font-family":"KaTeX_Main","font-size":"12px",color:"#444"});w.push(l)}});var M=h.mouselayer.path(P.svgPath([r,[m,b],n,[y,g],true]));M.attr({fill:"#000",opacity:0,stroke:"#000","stroke-width":2});w.push(M);M.node.addEventListener("touchstart",function(e){e.preventDefault()},{passive:false});var S=E.map(w,function(e){return e.node});E(S).css("cursor","move");E(S).bind("vmousedown",function(e){e.preventDefault();var a=e.pageX-E(h.raphael.canvas.parentNode).offset().left;var o=e.pageY-E(h.raphael.canvas.parentNode).offset().top;E(document).bind("vmousemove.ruler",function(e){var t=e.pageX-E(h.raphael.canvas.parentNode).offset().left;var r=e.pageY-E(h.raphael.canvas.parentNode).offset().top;t=Math.max(10,Math.min(h.xpixels-10,t));r=Math.max(10,Math.min(h.ypixels-10,r));var n=t-a;var i=r-o;w.translate(n,i);A.setCoord([A.coord[0]+n/h.scale[0],A.coord[1]-i/h.scale[1]]);T.setCoord([T.coord[0]+n/h.scale[0],T.coord[1]-i/h.scale[1]]);a=t;o=r});E(document).one("vmouseup",function(e){E(document).unbind("vmousemove.ruler")})});var A=h.addMovablePoint({coord:r,normalStyle:{fill:D.INTERACTIVE,"fill-opacity":0,stroke:D.INTERACTIVE},highlightStyle:{fill:D.INTERACTING,"fill-opacity":.1,stroke:D.INTERACTING},pointSize:6,onMove:function e(t,r){var n=T.coord[1]-r;var i=T.coord[0]-t;var a=Math.atan2(n,i)*180/Math.PI;var o=C.scale(C.add([t,r],T.coord),.5);var s=h.scalePoint(o);var l=C.scale(C.add(A.coord,T.coord),.5);var c=h.scalePoint(l);var u=C.subtract(s,c);w.rotate(-a,c[0],c[1]);w.translate(u[0],u[1])}});var T=h.addMovablePoint({coord:[y,g],normalStyle:{fill:D.INTERACTIVE,"fill-opacity":0,stroke:D.INTERACTIVE},highlightStyle:{fill:D.INTERACTING,"fill-opacity":.1,stroke:D.INTERACTING},pointSize:6,onMove:function e(t,r){var n=r-A.coord[1];var i=t-A.coord[0];var a=Math.atan2(n,i)*180/Math.PI;var o=C.scale(C.add([t,r],A.coord),.5);var s=h.scalePoint(o);var l=C.scale(C.add(A.coord,T.coord),.5);var c=h.scalePoint(l);var u=C.subtract(s,c);w.rotate(-a,c[0],c[1]);w.translate(u[0],u[1])}});A.constraints.fixedDistance.dist=e/h.scale[0];A.constraints.fixedDistance.point=T;T.constraints.fixedDistance.dist=e/h.scale[0];T.constraints.fixedDistance.point=A;this.remove=function(){w.remove();A.remove();T.remove()};return this}function x(t,e){this.graphie=t;_.extend(this,e);_.defaults(this,{normalStyle:{stroke:D.INTERACTIVE,"stroke-width":2,fill:D.INTERACTIVE},highlightStyle:{stroke:D.INTERACTING,"stroke-width":2,fill:D.INTERACTING},labelStyle:{stroke:D.DYNAMIC,"stroke-width":1,color:D.DYNAMIC},angleStyle:{stroke:D.DYNAMIC,"stroke-width":1,color:D.DYNAMIC},allowReflex:true});if(!this.points||this.points.length!==3){throw new n.KAError("MovableAngle requires 3 points",n.Errors.Internal)}this.points=_.map(e.points,function(e){if(_.isArray(e)){return t.addMovablePoint({coord:e,visible:false,constraints:{fixed:true},normalStyle:this.normalStyle})}return e},this);this.coords=_.pluck(this.points,"coord");if(this.reflex==null){if(this.allowReflex){this.reflex=this._getClockwiseAngle(this.coords)>180}else{this.reflex=false}}this.rays=_.map([0,2],function(e){return t.addMovableLineSegment({pointA:this.points[1],pointZ:this.points[e],fixed:true,extendRay:true})},this);this.temp=[];this.labeledAngle=t.label([0,0],"","center",this.labelStyle);if(!this.fixed){this.addMoveHandlers();this.addHighlightHandlers()}this.update()}_.extend(x.prototype,{points:[],snapDegrees:0,snapOffsetDeg:0,angleLabel:"",numArcs:1,pushOut:0,fixed:false,addMoveHandlers:function e(){var l=this.graphie;function c(e,t){var r=30;var n=P.getDistance(l.scalePoint(e),l.scalePoint(t));return n<r}var u=this.points;u[1].onMove=function(e,t){var r=u[1].coord;var i=[e,t];var a=N(i,O(r));var o=true;var s={};_.each([0,2],function(e){var t=u[e].coord;var r=N(t,a);var n=P.findAngle(i,r);n*=Math.PI/180;r=l.constrainToBoundsOnAngle(r,10,n);s[e]=r;if(c(i,r)){o=false}});if(o){_.each(s,function(e,t){u[t].setCoord(e)})}return o};var o=this.snapDegrees;var s=this.snapOffsetDeg;_.each([0,2],function(e){u[e].onMove=function(e,t){var r=[e,t];var n=u[1].coord;if(c(n,r)){return false}if(o){var i=P.findAngle(r,n);i=Math.round((i-s)/o)*o+s;var a=P.getDistance(r,n);return N(n,l.polar(a,i))}return true}});E(u).on("move",function(){this.update();E(this).trigger("move")}.bind(this))},addHighlightHandlers:function e(){var t=this.points[1];t.onHighlight=function(){_.each(this.points,function(e){e.visibleShape.animate(this.highlightStyle,50)},this);_.each(this.rays,function(e){e.visibleLine.animate(this.highlightStyle,50);e.arrowStyle=_.extend({},e.arrowStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke})},this);this.angleStyle=_.extend({},this.angleStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke});this.update()}.bind(this);t.onUnhighlight=function(){_.each(this.points,function(e){e.visibleShape.animate(this.normalStyle,50)},this);_.each(this.rays,function(e){e.visibleLine.animate(e.normalStyle,50);e.arrowStyle=_.extend({},e.arrowStyle,{color:e.normalStyle.stroke,stroke:e.normalStyle.stroke})},this);this.angleStyle=_.extend({},this.angleStyle,{color:D.DYNAMIC,stroke:D.DYNAMIC});this.update()}.bind(this)},_getClockwiseAngle:function e(t){var r=P.findAngle(t[2],t[0],t[1]);var n=r+360%360;return n},isReflex:function e(){return this.reflex},isClockwise:function e(){var t=this._getClockwiseAngle(this.coords)>180;return t===this.reflex},getClockwiseCoords:function e(){if(this.isClockwise()){return _.clone(this.coords)}return _.clone(this.coords).reverse()},update:function e(t){var r=this.coords;this.coords=_.pluck(this.points,"coord");_.invoke(this.points,"updateLineEnds");var n=this._getClockwiseAngle(r);var i=this._getClockwiseAngle(this.coords);var a=n>180;var o=i>180;if(this.allowReflex){if(t==null){t=a!==o&&Math.abs(i-n)<180}if(t){this.reflex=!this.reflex}}_.invoke(this.temp,"remove");this.temp=this.graphie.labelAngle({point1:this.coords[0],vertex:this.coords[1],point3:this.coords[2],label:this.labeledAngle,text:this.angleLabel,numArcs:this.numArcs,pushOut:this.pushOut,clockwise:this.reflex===o,style:this.angleStyle})},remove:function e(){_.invoke(this.rays,"remove");_.invoke(this.temp,"remove");this.labeledAngle.remove()}});e.exports=g},"6mNK":function(e,t,r){"use strict";r("ma9I");var l=r("e2gc");function n(){var e=document.createElement("bootstrap");var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var r in t){if(e.style[r]!==undefined){return{end:t[r]}}}return false}l.fn.emulateTransitionEnd=function(e){var t=false;var r=this;l(this).one("bsTransitionEnd",function(){t=true});var n=function e(){if(!t){l(r).trigger(l.support.transition.end)}};setTimeout(n,e);return this};l(function(){l.support.transition=n();if(!l.support.transition){return}l.event.special.bsTransitionEnd={bindType:l.support.transition.end,delegateType:l.support.transition.end,handle:function e(t){if(l(t.target).is(this)){return t.handleObj.handler.apply(this,arguments)}}}});function i(e,t){var r=window.scrollX;var n=window.scrollY;var i=document.querySelector("meta[name=viewport]");if(i){i.setAttribute("content",e)}else{l("head").append('<meta name="viewport" content="'.concat(e,'">'))}document.body.style.opacity=.9999;setTimeout(function(){document.body.style.opacity=1;window.scrollTo(r,n);t&&setTimeout(t,0)},0)}function a(){}a.prototype._initialize=function(e){if(this._$document){return}this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null;this._$document=l(document);this._$window=l(window);this._$body=l(document.body);this._boundClick=l.proxy(this._clickHandler,this);this._enableMobilePinch=e};a.prototype.handleZoomClick=function(e,t){var r=this;this._initialize(t);var n=e.target;if(!n||n.tagName!=="IMG"){return}if(this._$body.hasClass("zoom-overlay-open")){return}if(e.metaKey||e.ctrlKey){return window.open(e.target.src,"_blank")}if(!t&&n.width>=window.innerWidth-o.getOffset()){return}this._activeZoomClose(true);if(t){i("width=device-width, initial-scale=1, minimum-scale=1",function(){return r._zoom(n)})}else{this._zoom(n)}if(!t){this._$window.on("scroll.zoom",l.proxy(this._scrollHandler,this));this._$document.on("keyup.zoom",l.proxy(this._keyHandler,this));this._$document.on("touchstart.zoom",l.proxy(this._touchStart,this))}document.addEventListener("click",this._boundClick,true);e.stopPropagation()};a.prototype._zoom=function(e){this._activeZoom=new o(e,this._enableMobilePinch);this._activeZoom.zoomImage()};a.prototype._activeZoomClose=function(e){var t=this;if(!this._activeZoom){return}if(e){this._activeZoom.dispose();this._disposeActiveZoom()}else{i("width=device-width, initial-scale=1, minimum-scale=1,\n            maximum-scale=1",function(){if(t._activeZoom){t._activeZoom.close();t._disposeActiveZoom()}})}};a.prototype._disposeActiveZoom=function(){this._$window.off(".zoom");this._$document.off(".zoom");document.removeEventListener("click",this._boundClick,true);this._activeZoom=null};a.prototype._scrollHandler=function(e){if(this._initialScrollPosition===null){this._initialScrollPosition=window.scrollY}var t=this._initialScrollPosition-window.scrollY;if(Math.abs(t)>=40){this._activeZoomClose()}};a.prototype._keyHandler=function(e){if(e.keyCode===27){this._activeZoomClose()}};a.prototype._clickHandler=function(e){e.stopPropagation();e.preventDefault();this._activeZoomClose()};a.prototype._touchStart=function(e){this._initialTouchPosition=e.originalEvent.touches[0].pageY;l(e.target).on("touchmove.zoom",l.proxy(this._touchMove,this))};a.prototype._touchMove=function(e){if(Math.abs(e.originalEvent.touches[0].pageY-this._initialTouchPosition)>10){this._activeZoomClose();l(e.target).off("touchmove.zoom")}};function o(e,t){this._fullHeight=this._fullWidth=this._overlay=null;this._targetImage=e;this._enableMobilePinch=t;this._$body=l(document.body)}o._OFFSET=80;o._MAX_WIDTH=2560;o._MAX_HEIGHT=4096;o.getOffset=function(e){return e?0:o._OFFSET};o.prototype.getOffset=function(){return o.getOffset(this._enableMobilePinch)};o.prototype.zoomImage=function(){var n=document.createElement("img");var i=l(n);n.onload=function(){this._fullHeight=Number(n.height);this._fullWidth=Number(n.width);var e=this._imageOffset=l(this._targetImage).offset();var t=this._left=e.left-l(window).scrollLeft();var r=this._top=e.top-l(window).scrollTop();i.css({left:t,top:r,width:this._targetImage.width,height:this._targetImage.height});this._zoomOriginal()}.bind(this);n.src=this._targetImage.src;this.$zoomedImage=i};o.prototype._zoomOriginal=function(){this.$zoomedImage.addClass("zoom-img").attr("data-action","zoom-out");l(this._targetImage).css("visibility","hidden");this._backdrop=document.createElement("div");this._backdrop.className="zoom-backdrop";document.body.appendChild(this._backdrop);this._overlay=document.createElement("div");this._overlay.className="zoom-overlay";document.body.appendChild(this._overlay);this._overlay.appendChild(this.$zoomedImage[0]);this._calculateZoom();this._triggerAnimation()};o.prototype._calculateZoom=function(){var e=this._fullWidth;var t=this._fullHeight;var r=window.innerHeight-this.getOffset();var n=window.innerWidth-this.getOffset();var i=e/this._targetImage.width;var a=e/t;var o=n/r;if(e<n&&t<r){this._imgScaleFactor=i}else if(a<o){this._imgScaleFactor=r/t*i}else{this._imgScaleFactor=n/e*i}};o.prototype._triggerAnimation=function(){var e=l(window).scrollTop()+window.innerHeight/2;var t=l(window).scrollLeft()+window.innerWidth/2;var r=this._imgScaleFactor;var n=this._imageOffset.top+this._targetImage.height/2;var i=this._imageOffset.left+this._targetImage.width/2;this._translateY=(e-n)/r;this._translateX=(t-i)/r;this._zoomedInTransformString="\n        scale(".concat(r,")\n        translate3d(").concat(this._translateX,"px, ").concat(this._translateY,"px, 0)\n    ");this.$zoomedImage.css({transform:this._zoomedInTransformString}).addClass("zoom-transition").one(l.support.transition.end,l.proxy(this._onZoomInFinish,this)).emulateTransitionEnd(300);this._$body.addClass("zoom-overlay-open")};o.prototype._onZoomInFinish=function(){var e=this._targetImage.height*this._imgScaleFactor;var t=this._targetImage.width*this._imgScaleFactor;var r=0;var n=0;var i=0;var a=0;var o=0;var s=0;if(t<window.innerWidth){r="50%";i=-t/2}else{o=(t-window.innerWidth)/2}if(e<window.innerHeight){n="50%";a=-e/2}else{s=(e-window.innerHeight)/2}this.$zoomedImage.css({height:e,left:r,marginLeft:i,marginTop:a,top:n,transform:"",width:t}).removeClass("zoom-transition");l(this._overlay).scrollLeft(o).scrollTop(s)};o.prototype.close=function(){var e=this;this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning");this.$zoomedImage.css({height:this._targetImage.height,left:this._left,marginLeft:0,marginTop:0,top:this._top,transform:this._zoomedInTransformString,width:this._targetImage.width}).removeClass("zoom-transition");l(this._overlay).scrollLeft(0).scrollTop(0);setTimeout(function(){e.$zoomedImage.css({transform:"scale(1)"}).addClass("zoom-transition").one(l.support.transition.end,l.proxy(e.dispose,e)).emulateTransitionEnd(300)},10)};o.prototype.dispose=function(){if(this.$zoomedImage&&this.$zoomedImage[0].parentNode){this.$zoomedImage.remove();this.$zoomedImage=null;this._overlay.parentNode.removeChild(this._overlay);this._backdrop.parentNode.removeChild(this._backdrop);this._$body.removeClass("zoom-overlay-transitioning")}l(this._targetImage).css("visibility","visible")};t.ZoomService=new a},"7BBF":function(e,t,r){"use strict";r("ma9I");r("yXV3");r("2B1R");r("Rm1S");r("UxlC");r("EnZy");r("SYor");var i=r("4PhQ");var m=r("e2gc");var _=r("F/us");var i18n=r("HEOz");var l=r("rTmL");var g=r("XwLL");var n=Math.pow(2,-42);var y={predicate:{defaultForms:"integer, proper, improper, mixed, decimal",createValidatorFunctional:function e(u,h){h=_.extend({simplify:"required",ratio:false,forms:y.predicate.defaultForms},h);var t;if(!_.isArray(h.forms)){t=h.forms.split(/\s*,\s*/)}else{t=h.forms}if(h.inexact===undefined){h.maxError=0}h.maxError=+h.maxError+n;if(_.contains(t,"percent")){t=_.without(t,"percent");t.push("percent")}var d=function e(t){t=t.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").replace(/(^\s*)|(\s*$)/gi,"");var r=t.match(/^([+-]?\d+)\s*\/\s*([+-]?\d+)$/);var n=t.match(/^([+-]?)\\frac\{([+-]?\d+)\}\{([+-]?\d+)\}$/);var i=parseInt(t,10);if(r||n){var a;var o;var s=true;if(r){a=parseFloat(r[1]);o=parseFloat(r[2])}else{a=parseFloat(n[2]);if(n[1]==="-"){if(a<0){s=false}a=-a}o=parseFloat(n[3])}s=s&&o>0&&(h.ratio||o!==1)&&g.getGCD(a,o)===1;return[{value:a/o,exact:s}]}if(!isNaN(i)&&""+i===t){return[{value:i,exact:true}]}return[]};var v={integer:function e(t){var r=v.decimal(t);var n=v.decimal(t,1);if(r[0].value!=null&&r[0].value===n[0].value||r[1].value!=null&&r[1].value===n[1].value){return r}return[]},proper:function e(t){return m.map(d(t),function(e){if(Math.abs(e.value)<1){return[e]}return[]})},improper:function e(t){return m.map(d(t),function(e){if(Math.abs(e.value)>=1){return[e]}return[]})},pi:function e(r){var t;var n=[];r=r.replace(/\u2212/,"-");if(t=r.match(/^([+-]?)\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){n=[{value:parseFloat(t[1]+"1"),exact:true}]}else if(t=r.match(/^([+-]?\s*\d+\s*(?:\/\s*[+-]?\s*\d+)?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){n=d(t[1])}else if(t=r.match(/^([+-]?)\s*(\d+)\s*([+-]?\d+)\s*\/\s*([+-]?\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){var i=parseFloat(t[1]+"1");var a=parseFloat(t[2]);var o=parseFloat(t[3]);var s=parseFloat(t[4]);var l=o<s&&g.getGCD(o,s)===1;n=[{value:i*(a+o/s),exact:l}]}else if(t=r.match(/^([+-]?\s*\d+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\s*\d+))?$/i)){n=d(t[1]+"/"+t[3])}else if(t=r.match(/^([+-]?)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)\s*(?:\/\s*([+-]?\d+))?$/i)){n=d(t[1]+"1/"+t[3])}else if(r==="0"){n=[{value:0,exact:true}]}else if(t=r.match(/^(.+)\s*\*?\s*(\\?pi|p|\u03c0|\\?tau|t|\u03c4|pau)$/i)){n=v.decimal(t[1])}else{n=_.reduce(y.predicate.defaultForms.split(/\s*,\s*/),function(e,t){return e.concat(v[t](r))},[]);var c=false;var u=parseFloat(r);if(!isNaN(u)&&u!==parseInt(r)){var h=Math.PI/12;var f=h*Math.round(u/h);if(Math.abs(u-f)<.01){c=true}}else if(r.match(/\/\s*7/)){c=true}if(c){_.each(n,function(e){e.piApprox=true})}return n}var p=Math.PI;if(r.match(/\\?tau|t|\u03c4/)){p=Math.PI*2}if(r.match(/pau/)){p=Math.PI*1.5}m.each(n,function(e,t){t.value*=p});return n},coefficient:function e(t){var r=[];t=t.replace(/\u2212/,"-");if(t===""){r=[{value:1,exact:true}]}else if(t==="-"){r=[{value:-1,exact:true}]}return r},log:function e(t){var r;var n=[];t=t.replace(/\u2212/,"-");t=t.replace(/[ \(\)]/g,"");if(r=t.match(/^log\s*(\S+)\s*$/i)){n=v.decimal(r[1])}else if(t==="0"){n=[{value:0,exact:true}]}return n},percent:function e(t){t=m.trim(t);var r=false;if(t.indexOf("%")===t.length-1){t=m.trim(t.substring(0,t.length-1));r=true}var n=v.decimal(t);m.each(n,function(e,t){t.exact=r;t.value=t.value/100});return n},mixed:function e(t){var r=t.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?)(\d+)\s+(\d+)\s*\/\s*(\d+)$/);if(r){var n=parseFloat(r[1]+"1");var i=parseFloat(r[2]);var a=parseFloat(r[3]);var o=parseFloat(r[4]);var s=a<o&&g.getGCD(a,o)===1;return[{value:n*(i+a/o),exact:s}]}return[]},decimal:function e(t,a){if(a==null){a=1e10}var r=function e(t){t=m.trim(t);var r=t.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1").match(/^([+-]?(?:\d{1,3}(?:[, ]?\d{3})*\.?|\d{0,3}(?:[, ]?\d{3})*\.(?:\d{3}[, ]?)*\d{1,3}))$/);var n=t.match(/^0[0,]*,/);if(r&&!n){var i=parseFloat(r[1].replace(/[, ]/g,""));if(h.inexact===undefined){i=Math.round(i*a)/a}return i}};var n=function e(t){t=t.replace(/([\.,])/g,function(_,e){return e==="."?",":"."});return r(t)};return[{value:r(t),exact:true},{value:n(t),exact:true}]}};return function(l){var e=h.fallback!=null?""+h.fallback:"";l=m.trim(l)||e;var c={empty:l==="",correct:false,message:null,guess:l};m.each(t,function(e,t){var r=v[t](l);for(var n=0,i=r.length;n<i;n++){var a=r[n].value;var o=r[n].exact;var s=r[n].piApprox;if(u(a,h.maxError)){if(o||h.simplify==="optional"){c.correct=true;c.message=h.message||null;c.empty=false}else if(t==="percent"){c.empty=true;c.message=i18n._("Your answer is almost correct, "+"but it is missing a "+"<code>\\%</code> at the end.")}else{if(h.simplify!=="enforced"){c.empty=true}c.message=i18n._("Your answer is almost correct, "+"but it needs to be simplified.")}return false}if(s&&u(a,Math.abs(a*.001))){c.empty=true;c.message=i18n._("Your answer is close, but you may "+"have approximated pi. Enter your "+"answer as a multiple of pi, like "+"<code>12\\ \\text{pi}</code> or "+"<code>2/3\\ \\text{pi}</code>")}}});if(c.correct===false){var r=false;_.each(v,function(e){var t=_.any(e(l),function(e){return e.value!=null&&!_.isNaN(e.value)});if(t){r=true}});if(!r){c.empty=true;c.message=i18n._("We could not understand your "+"answer. Please check your answer for extra "+"text or symbols.");return c}}return c}}},number:{convertToPredicate:function e(t,r){var n=parseFloat(m.trim(t));return[function(e,t){return Math.abs(e-n)<t},m.extend({},r,{type:"predicate"})]},createValidatorFunctional:function e(t,r){var n;return(n=y.predicate).createValidatorFunctional.apply(n,y.number.convertToPredicate(t,r))}},expression:{parseSolution:function e(t,r){var n=l.parse(t,r);if(!n.parsed){throw new i.KAError("The provided solution ("+t+") didn't parse.",i.Errors.Internal)}else if(r.simplified&&!n.expr.isSimplified()){throw new i.KAError("The provided solution ("+t+") isn't fully expanded and simplified.",i.Errors.Internal)}else{n=n.expr}return n},createValidatorFunctional:function e(o,s){return function(e){var t={empty:false,correct:false,message:null,guess:e,ungraded:false};if(!e){t.empty=true;return t}var r=l.parse(e,s);if(!r.parsed){t.empty=true;return t}if(typeof o==="string"){o=y.expression.parseSolution(o,s)}var n=l.compare(r.expr,o,s);if(n.equal){t.correct=true}else if(n.wrongVariableNames||n.wrongVariableCase){t.ungraded=true;t.message=n.wrongVariableCase?i18n._("Your answer includes use of a variable with the wrong case."):i18n._("Your answer includes a wrong variable letter.");t.suppressAlmostThere=true}else if(n.message){t.message=n.message}else{var i=l.parse(e.replace(/[xX]/g,"*"),s);if(i.parsed){var a=l.compare(i.expr,o,s);if(a.equal){t.ungraded=true;t.message=i18n._("I'm a computer. I only understand "+"multiplication if you use an asterisk "+"(*) as the multiplication sign.")}else if(a.message){t.message=a.message+" Also, I'm a computer. I only understand "+"multiplication if you use an "+"asterisk (*) as the multiplication "+"sign."}}}return t}}}};e.exports=y},"7kT3":function(e,t,r){"use strict";r("TeQF");var n=r("4PhQ");var i=r("uBl0");var a=i.nestedMap;var o=i.deepEq;var _=r("F/us");function s(e){_.extend(this,e)}var l=function e(){throw new n.KAError("Abstract method! Must be implemented by Graphie Movable"+this.constructor.displayName,n.Errors.Internal)};_.extend(s.prototype,{movableProps:[],add:l,modify:l,remove:l,toFront:function e(){},componentDidMount:function e(){}});var c=function e(t,r){return _.extend({},t,{children:_.filter(_.flatten(r),_.identity)})};var u=function e(t){var r=function e(t){if(!(this instanceof e)){throw new n.KAError("Use createElement or JSX with graphie movables",n.Errors.Internal)}this.props=c(t,t.children||[]);return this};t.displayName=t.displayName||_.uniqueId("GraphieClass");r.displayName=t.displayName;r.prototype=new s(t);r.prototype.constructor=r;return r};var h=function e(r){return u({displayName:r.name||_.uniqueId("GraphieSimpleClass"),movableProps:["children"],add:function e(t){this._elements=r(t,this.props);this._prevProps=this.props},modify:function e(t){if(!o(this.props,this._prevProps)){this.remove();this.add(t);this._prevProps=this.props;return"reordered"}},remove:function e(){a(this._elements,function(e){if(e){e.remove()}});this._elements=null;this._prevProps=null},toFront:function e(){a(this._elements,function(e){if(_.isFunction(e.toFront)){e.toFront()}})}})};e.exports={GraphieMovable:s,createClass:u,createSimpleClass:h}},APgo:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("5DmW");r("FZtP");var l=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){i(t,e,r[e])})}return t}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=r("17x9");var o=function e(t){var r=t.path,n=t.width,i=t.height,a=t.style,o=a===void 0?{}:a,s=t.title;return l.createElement("svg",{role:"img","aria-hidden":!s,style:c({verticalAlign:"middle"},o),width:"".concat(n/i,"em"),height:"1em",viewBox:"0 0 ".concat(n," ").concat(i)},!!s&&l.createElement("title",null,s),l.createElement("path",{d:r,fill:"currentColor"}))};o.propTypes={path:a.string.isRequired,height:a.number.isRequired,width:a.number.isRequired,style:a.object,title:a.string};e.exports=o},BGgb:function(e,t,r){"use strict";r("5DmW");r("NBAS");var o=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return u(e)}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var d={PENDING:"pending",LOADING:"loading",LOADED:"loaded",FAILED:"failed"};var v=function(e){h(t,e);function t(e){var a;i(this,t);a=l(this,c(t).call(this,e));p(u(a),"createLoader",function(){a.destroyLoader();a.img=new Image;a.img.onload=a.handleLoad;a.img.onerror=a.handleError;a.img.src=a.props.src});p(u(a),"destroyLoader",function(){if(a.img){a.img.onload=null;a.img.onerror=null;a.img=null}});p(u(a),"handleLoad",function(e){a.destroyLoader();a.setState({status:d.LOADED});if(a.props.onLoad){a.props.onLoad(e)}});p(u(a),"handleError",function(e){a.destroyLoader();a.setState({status:d.FAILED});if(a.props.onError){a.props.onError(e)}});p(u(a),"renderImg",function(){var e=a.props,t=e.src,r=e.imgProps;var n={src:t};for(var i in r){if(r.hasOwnProperty(i)){n[i]=r[i]}}return o.createElement("img",n)});a.state={status:e.src?d.LOADING:d.PENDING};return a}s(t,[{key:"componentDidMount",value:function e(){if(this.state.status===d.LOADING){this.createLoader()}}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){if(this.props.src!==t.src){this.setState({status:t.src?d.LOADING:d.PENDING})}}},{key:"componentDidUpdate",value:function e(t,r){if(this.state.status===d.LOADING&&!this.img){this.createLoader()}if(r.status!==this.state.status){this.props.onUpdate(this.state.status)}}},{key:"componentWillUnmount",value:function e(){this.destroyLoader()}},{key:"render",value:function e(){switch(this.state.status){case d.LOADED:return this.renderImg();case d.FAILED:if(this.props.children){return this.props.children}break;default:if(this.props.preloader){return this.props.preloader()}}return null}}]);return t}(o.Component);e.exports=v},FVCV:function(e,t,r){"use strict";var _=r("F/us");var c=r("e2gc");var n=r("p8fL");var u=n.normalizeOptions;var h=n.assert;var f=r("eAf/").point;var p=["add","modify","draw","remove","onMoveStart","onMove","onMoveEnd","onClick"];var i={cursor:null};var a={added:false,isHovering:false,isMouseOver:false,isDragging:false,mouseTarget:null};var o=function e(t,r){_.extend(this,{graphie:t,state:{id:_.uniqueId("movable")}});this.modify(_.extend({},a,r))};n.createGettersFor(o,_.extend({},i,a));n.addMovableHelperMethodsTo(o);_.extend(o.prototype,{cloneState:function e(){return _.clone(this.state)},_createDefaultState:function e(){return _.extend({id:this.state.id,add:[],modify:[],draw:[],remove:[],onMoveStart:[],onMove:[],onMoveEnd:[],onClick:[]},i)},modify:function e(t){this.update(_.extend({},this._createDefaultState(),t))},grab:function e(t){h(f.is(t));var n=this;var i=n.graphie;var a=n.state;a.isHovering=true;a.isDragging=true;i.isDragging=true;var r=t;var o=r;n._fireEvent(a.onMoveStart,r,r);var s=function e(t){t.preventDefault();var r=i.getMouseCoord(t);n._fireEvent(a.onMove,r,o);n.draw();o=r};var l=function e(t){c(document).unbind("vmousemove",s);c(document).unbind("vmouseup",e);if(a.isHovering){n._fireEvent(a.onClick,o,r)}a.isHovering=n.state.isMouseOver;a.isDragging=false;i.isDragging=false;n._fireEvent(a.onMoveEnd,o,r);n.draw()};c(document).bind("vmousemove",s);c(document).bind("vmouseup",l)},update:function e(t){var r=this;var n=r.graphie;var i=r.cloneState();var a=_.extend(r.state,u(p,t));if(a.mouseTarget&&!i.mouseTarget){var o;if(a.mouseTarget.getMouseTarget){o=c(a.mouseTarget.getMouseTarget())}else{o=c(a.mouseTarget[0])}var s=!("ontouchstart"in window);if(s){o.on("vmouseover",function(){a.isMouseOver=true;if(!n.isDragging){a.isHovering=true}if(r.state.added){r.draw()}});o.on("vmouseout",function(){a.isMouseOver=false;if(!a.isDragging){a.isHovering=false}if(r.state.added){r.draw()}})}o[0].addEventListener("touchstart",function(e){e.preventDefault()},{passive:false});o.on("vmousedown",function(e){if(e.which!==0&&e.which!==1){return}e.preventDefault();var t=n.getMouseCoord(e);r.grab(t)})}if(a.mouseTarget&&a.cursor!==undefined){var l;if(a.mouseTarget.getMouseTarget){l=c(a.mouseTarget.getMouseTarget())}else{l=c(a.mouseTarget[0])}l.css("cursor",a.cursor||"")}if(!a.added){r._fireEvent(a.modify,r.cloneState(),{});a.added=true;r.prevState=r.cloneState()}r._fireEvent(a.modify,r.cloneState(),r.prevState)},remove:function e(){this.state.added=false;this._fireEvent(this.state.remove);if(this.state.mouseTarget){c(this.state.mouseTarget).off();this.state.mouseTarget.remove();this.state.mouseTarget=null}},toBack:function e(){if(this.state.mouseTarget){this.state.mouseTarget.toBack()}},toFront:function e(){if(this.state.mouseTarget){this.state.mouseTarget.toFront()}}});e.exports=o},Giaf:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");var n=i(r("q1tI"));var d=i(r("4PhQ"));function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return u(e)}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function v(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var p=r("17x9");var m=r("i8i4");var _=r("F/us");var g=r("e2gc");var y=r("7kT3");var b=r("kPsx");var x=y.GraphieMovable;var w=r("uBl0").deepEq;var k=r("uBl0").nestedMap;var M=r("p8fL").assert;var S=r("NT9k");var A=S.createGraphie;var T=function(e){h(i,e);function i(){var e;var p;a(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}p=l(this,(e=c(i)).call.apply(e,[this].concat(r)));v(u(p),"getGraphie",function(){return p._graphie});v(u(p),"_range",function(){return _.map(p.props.range,function(e){if(e[0]>=e[1]){return[-10,10]}return e})});v(u(p),"_box",function(){return _.map(p.props.box,function(e){return e>0?e:340})});v(u(p),"_scale",function(){var e=p._box();var n=p._range();return _.map(e,function(e,t){var r=n[t][1]-n[t][0];return e/r})});v(u(p),"_setupGraphie",function(){p._removeMovables();var e=m.findDOMNode(p.refs.graphieDiv);g(e).empty();var t=p._graphie=A(e);t.init({range:p._range(),scale:p._scale(),isMobile:p.props.isMobile});if(p.props.addMouseLayer){t.addMouseLayer({onClick:p.props.onClick,onMouseDown:p.props.onMouseDown,onMouseUp:p.props.onMouseUp,onMouseMove:p.props.onMouseMove,setDrawingAreaAvailable:p.props.setDrawingAreaAvailable})}t.snap=p.props.options.snapStep||[1,1];if(p.props.responsive){g(e).css({width:"100%",height:"100%"});t.raphael.setSize("100%","100%")}p.props.setup(t,_.extend({range:p._range(),scale:p._scale()},p.props.options))});v(u(p),"_removeMovables",function(){_.invoke(p._movables,"remove");p._movables={}});v(u(p),"_renderMovables",function(e,s){var l=s.graphie;var c=s.oldMovables;var u=s.newMovables;var h=function e(t){_.each(t.movableProps,function(e){t.props[e]=p._renderMovables(t.props[e],s)})};var f=false;return k(e,function(e){if(!e){s.nextKey++;return e}var t=new e.type(e.props);M(t instanceof x,"All children of a Graphie component must be Graphie "+"movables");var r=e.key;var n=r==null?"_no_id_"+s.nextKey:r;s.nextKey++;var i=e.ref;h(t);var a=c[n];if(!a){t.add(l);f=true;u[n]=t}else if(t.constructor===a.constructor){a.props=t.props;var o=a.modify(l);if(o==="reordered"){f=true}u[n]=a}else{if(r==null){d.default.error("Replacing a <Graphie> child with a "+"child of a different type. Please add keys "+"to your <Graphie> children",d.Errors.Internal)}a.remove();t.add(l);f=true;u[n]=t}if(f){u[n].toFront()}if(i){p.movables[i]=u[n]}return u[n]})});v(u(p),"_updateMovables",function(){var e=p._graphie;var t=p._movables;var r={};p._movables=r;p.movables={};p._renderMovables(p.props.children,{nextKey:1,graphie:e,oldMovables:t,newMovables:r});_.each(t,function(e,t){if(!r[t]){e.remove()}})});return p}s(i,[{key:"componentDidMount",value:function e(){this._setupGraphie();this._updateMovables()}},{key:"shouldComponentUpdate",value:function e(t){return!_.isEqual(this.props,t)}},{key:"componentDidUpdate",value:function e(t){if(this.props.setup!==t.setup){d.default.error("<Graphie> was given a new setup function. "+"This is a bad idea; please refactor your code to give "+"the same setup function reference to <Graphie> on "+"every render.",d.Errors.Internal)}if(!w(this.props.options,t.options)||!w(this.props.box,t.box)||!w(this.props.range,t.range)){this._setupGraphie()}this._updateMovables()}},{key:"render",value:function e(){return n.createElement("div",{className:"graphie-container"},n.createElement("div",{className:"graphie",ref:"graphieDiv"}))}}]);return i}(n.Component);v(T,"propTypes",{addMouseLayer:p.bool,box:p.arrayOf(p.number).isRequired,children:p.node,isMobile:p.bool,onClick:p.func,onMouseDown:p.func,onMouseMove:p.func,onMouseUp:p.func,options:p.shape({snapStep:p.arrayOf(p.number)}),range:p.arrayOf(p.arrayOf(p.number)),responsive:p.bool,setDrawingAreaAvailable:p.func,setup:p.func.isRequired});v(T,"defaultProps",{range:[[-10,10],[-10,10]],options:{},responsive:false,addMouseLayer:true});_.extend(T,y);_.extend(T,b);e.exports=T},KSpR:function(e,t,r){"use strict";r("ma9I");r("hByQ");r("EnZy");(function(f,e,t,p){if(typeof f==="undefined"){return}var s="virtualMouseBindings",c="virtualTouchID",r="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),d="clientX clientY pageX pageY screenX screenY".split(" "),n=f.event.mouseHooks?f.event.mouseHooks.props:[],v=f.event.props.concat(n),l={},i=0,o=0,u=0,a=false,h=[],m=false,g=false,y="addEventListener"in t,b=f(t),x=1,w=0;f.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function k(e){while(e&&typeof e.originalEvent!=="undefined"){e=e.originalEvent}return e}function M(e,t){var r=e.type,n,i,a,o,s,l,c,u,h;e=f.Event(e);e.type=t;n=e.originalEvent;i=f.event.props;if(r.search(/mouse/)>-1){i=v}if(n){for(c=i.length,o;c;){o=i[--c];e[o]=n[o]}}if(r.search(/mouse(down|up)|click/)>-1&&!e.which){e.which=1}if(r.search(/^touch/)!==-1){a=k(n);r=a.touches;s=a.changedTouches;l=r&&r.length?r[0]:s&&s.length?s[0]:p;if(l){for(u=0,h=d.length;u<h;u++){o=d[u];e[o]=l[o]}}}return e}function S(e){var t={},r,n;while(e){r=f.data(e,s);for(n in r){if(r[n]){t[n]=t.hasVirtualBinding=true}}e=e.parentNode}return t}function A(e,t){var r;while(e){r=f.data(e,s);if(r&&(!t||r[t])){return e}e=e.parentNode}return null}function T(){g=false}function E(){g=true}function P(){w=0;h.length=0;m=false;E()}function C(){T()}function I(){D();i=setTimeout(function(){i=0;P()},f.vmouse.resetTimerDuration)}function D(){if(i){clearTimeout(i);i=0}}function N(e,t,r){var n;if(r&&r[e]||!r&&A(t.target,e)){n=M(t,e);f(t.target).trigger(n)}return n}function O(e){var t=f.data(e.target,c);if(!m&&(!w||w!==t)){var r=N("v"+e.type,e);if(r){if(r.isDefaultPrevented()){e.preventDefault()}if(r.isPropagationStopped()){e.stopPropagation()}if(r.isImmediatePropagationStopped()){e.stopImmediatePropagation()}}}}function F(e){var t=k(e).touches,r,n;if(t&&t.length===1){r=e.target;n=S(r);if(n.hasVirtualBinding){w=x++;f.data(r,c,w);D();C();a=false;var i=k(e).touches[0];o=i.pageX;u=i.pageY;N("vmouseover",e,n);N("vmousedown",e,n)}}}function L(e){if(g){return}if(!a){N("vmousecancel",e,S(e.target))}a=true;I()}function R(e){if(g){return}var t=k(e).touches[0],r=i,n=f.vmouse.moveDistanceThreshold,i=i||Math.abs(t.pageX-o)>n||Math.abs(t.pageY-u)>n,a=S(e.target);if(i&&!r){N("vmousecancel",e,a)}N("vmousemove",e,a);I()}function q(e){if(g){return}E();var t=S(e.target),r;N("vmouseup",e,t);if(!a){var n=N("vclick",e,t);if(n&&n.isDefaultPrevented()){r=k(e).changedTouches[0];h.push({touchID:w,x:r.clientX,y:r.clientY});m=true}}N("vmouseout",e,t);a=false;I()}function B(e){var t=f.data(e,s),r;if(t){for(r in t){if(t[r]){return true}}}return false}function G(){}function z(a){var o=a.substr(1);return{setup:function e(t,r){if(!B(this)){f.data(this,s,{})}var n=f.data(this,s);n[a]=true;l[a]=(l[a]||0)+1;if(l[a]===1){b.bind(o,O)}f(this).bind(o,G);if(y){l["touchstart"]=(l["touchstart"]||0)+1;if(l["touchstart"]===1){b.bind("touchstart",F).bind("touchend",q).bind("touchmove",R).bind("scroll",L)}}},teardown:function e(t,r){--l[a];if(!l[a]){b.unbind(o,O)}if(y){--l["touchstart"];if(!l["touchstart"]){b.unbind("touchstart",F).unbind("touchmove",R).unbind("touchend",q).unbind("scroll",L)}}var n=f(this),i=f.data(this,s);if(i){i[a]=false}n.unbind(o,G);if(!B(this)){n.removeData(s)}}}}for(var j=0;j<r.length;j++){f.event.special[r[j]]=z(r[j])}if(y){t.addEventListener("click",function(e){var t=h.length,r=e.target,n,i,a,o,s,l;if(t){n=e.clientX;i=e.clientY;threshold=f.vmouse.clickDistanceThreshold;a=r;while(a){for(o=0;o<t;o++){s=h[o];l=0;if(a===r&&Math.abs(s.x-n)<threshold&&Math.abs(s.y-i)<threshold||f.data(a,c)===s.touchID){e.preventDefault();e.stopPropagation();return}}a=a.parentNode}}},true)}})(window.jQuery,window,document)},KmI1:function(e,t,r){"use strict";r("fbCW");r("UxlC");var f=r("yBUS");var p=r("Lp/H");var d=r("e2gc");r("IR3g");var v=r("XwLL");function m(e,t){var r=d(e).find("."+t);if(r.length===0){return d("<span>").addClass(t).appendTo(d(e))}return r}function g(r,n){var i=0;(function e(){var t=r.scrollHeight;if(t>18||i>=10){n()}else{i++;setTimeout(e,100)}})()}e.exports={processMath:function e(t,r,n,i){var a=d(t);if(a.attr("data-math-formula")==null||n){var o=m(a,"katex-holder");var s=m(a,"mathjax-holder");var l=s.find("script[type='math/tex']")[0];if(r==null){if(a.attr("data-math-formula")){r=a.attr("data-math-formula")}else if(l){r=l.text||l.textContent}}r=r!=null?r+"":"";r=v.cleanMath(r);a.attr("data-math-formula",r);var c=(0,f.getKaTeX)();try{c.render(r,o[0],{colorIsTextColor:true});if(a.attr("data-math-type")==="mathjax"){var u=MathJax.Hub.getJaxFor(l);if(u){var h=u.SourceElement();if(h.previousSibling&&h.previousSibling.className){u.Remove()}}}a.attr("data-math-type","katex");if(i){g(t,i)}return}catch(e){(0,p.logKaTeXError)(r,e);if(e.__proto__!==c.ParseError.prototype){throw e}}a.attr("data-math-type","mathjax");if(!l){s.append("<script type='math/tex'>"+r.replace(/<\//g,"< /")+"<\/script>")}else{if("text"in l){l.text=r}else{l.textContent=r}}if(typeof MathJax!=="undefined"){MathJax.Hub.Queue(["Reprocess",MathJax.Hub,s[0]]);if(i){MathJax.Hub.Queue(function(){var e=MathJax.Callback(function(){});g(t,function(){i();e()});return e})}}}},cleanupMath:function e(t){var r=d(t);if(r.attr("data-math-formula")){if(typeof MathJax!=="undefined"){var n=MathJax.Hub.getJaxFor(r.find("script")[0]);if(n){var i=n.SourceElement();if(i.previousSibling&&i.previousSibling.className){n.Remove()}}}r.text(r.attr("data-math-formula"));r.attr("data-math-formula",null);r.attr("data-math-type",null)}return t},retrieveMathFormula:function e(t){return d(t).attr("data-math-formula")}}},LU9M:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");r("EnZy");var o=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}function l(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return u(e)}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var d=r("17x9");var v=r("i8i4");var m=r("mR6N"),g=m.StyleSheet,y=m.css;var b=r("UcaO");var x=r("APgo");var w=r("whzC");var k={path:"M6 11a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-9a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1z",height:12,width:12};var M=function(e){h(i,e);function i(){var e;var a;s(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}a=l(this,(e=c(i)).call.apply(e,[this].concat(r)));p(u(a),"state",{tooltipAbove:true});p(u(a),"getPosition",function(){var e=v.findDOMNode(u(a)).getBoundingClientRect();a.setState({tooltipAbove:e.top>100})});p(u(a),"renderLink",function(e){var t=a.state.tooltipAbove;var r;var n;var i;if(a.props.severity===1){r=S.indicatorError;n="Error";i=S.publishBlockingError}else if(a.props.severity===2){r=S.indicatorWarning;n="Warning";i=S.warning}else{r=S.indicatorGuideline;n="Recommendation";i=S.warning}return o.createElement("a",{href:w.safeLinkTo("https://khanacademy.org/r/linter-rules#".concat(a.props.ruleName)),target:"lint-help-window",className:y(e)},o.createElement("span",{className:y(S.indicator,r)},a.props.severity===1&&o.createElement(x,k)),o.createElement("div",{className:y(S.tooltip,t&&S.tooltipAbove)},a.props.message.split("\n\n").map(function(e,t){return o.createElement("p",{key:t,className:y(S.tooltipParagraph)},o.createElement("span",{className:y(i)},n,":"," "),e)}),o.createElement("div",{className:y(S.tail,t&&S.tailAbove)})))});return a}a(i,[{key:"componentDidMount",value:function e(){this._positionTimeout=window.setTimeout(this.getPosition)}},{key:"componentWillUnmount",value:function e(){window.clearTimeout(this._positionTimeout)}},{key:"render",value:function e(){var t=this.props,r=t.children,n=t.inline,i=t.blockHighlight,a=t.insideTable;if(a){if(n){return o.createElement("span",{"data-lint-inside-table":"true"},r)}return o.createElement("div",{"data-lint-inside-table":"true"},r)}if(i){return o.createElement("span",{className:y(S.lintContainer,S.lintContainerBlock)},this.renderLink(S.radioWidgetHoverTarget),o.createElement("span",null,r))}if(n){return o.createElement("span",{className:y(S.lintContainer)},this.renderLink(S.inlineHoverTarget),o.createElement("span",null,r))}return o.createElement("div",{className:y(S.lintContainer)},this.renderLink(S.hoverTarget),o.createElement("div",null,r))}}]);return i}(o.Component);p(M,"propTypes",{children:d.node,inline:d.bool,message:d.string.isRequired,ruleName:d.string.isRequired,insideTable:d.bool.isRequired,blockHighlight:d.bool,severity:d.number});var S=g.create({lintContainer:{position:"relative"},lintContainerBlock:{display:"block"},hoverTarget:{position:"absolute",top:0,right:-40,display:"block",width:24,height:24,":hover > span":{backgroundColor:b.warningColorHover},":hover div":{display:"block"},":hover ~ div":{outline:"1px solid "+b.warningColor},":hover ~ div div[data-lint-inside-table]":{outline:"1px solid "+b.warningColor},":hover ~ div span[data-lint-inside-table]":{backgroundColor:b.warningColor,color:b.white}},inlineHoverTarget:{float:"right",position:"relative",marginRight:-40,display:"block",width:24,height:24,":hover > span":{backgroundColor:b.warningColorHover},":hover div":{display:"block"},":hover ~ span":{backgroundColor:b.warningColor,color:b.white}},radioWidgetHoverTarget:{position:"absolute",left:-40,display:"block",width:24,height:24,minWidth:264,":hover > span":{backgroundColor:b.warningColorHover},":hover > div":{display:"block",padding:8,width:280},":hover > div > div":{left:8},":hover ~ span":{backgroundColor:b.warningColor,color:b.white}},indicator:{alignItems:"center",borderRadius:4,color:"white",display:"flex",fontSize:12,height:8,justifyContent:"center",margin:8,width:8},indicatorError:{backgroundColor:"#be2612",borderRadius:8,height:16,width:16},indicatorWarning:{backgroundColor:"#f86700"},indicatorGuideline:{backgroundColor:"#ffbe26"},tooltip:{position:"absolute",right:-12,display:"none",zIndex:"1000",color:b.white,backgroundColor:b.gray17,opacity:"0.9",fontFamily:b.baseFontFamily,fontSize:"12px",lineHeight:"15px",width:"320px",borderRadius:"4px"},tooltipAbove:{bottom:32},tail:{position:"absolute",top:-12,right:16,width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderBottom:"12px solid "+b.gray17},tailAbove:{bottom:-12,borderBottom:"none",borderTop:"12px solid "+b.gray17,top:"auto"},tooltipParagraph:{margin:12},warning:{color:b.warningColor,fontFamily:b.boldFontFamily},publishBlockingError:{color:b.publishBlockingErrorColor}});e.exports=M},NT9k:function(e,t,r){"use strict";var n=r("2BsJ");r("4vmB");e.exports=n},QVWj:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("4mDm");r("pDQq");r("5DmW");r("07d7");r("EnZy");r("FZtP");r("3bBZ");var s=r("4PhQ");function l(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){i(t,e,r[e])})}return t}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var _=r("F/us");var c=r("eAf/").point;function o(e,t){return e+":"+t}function u(e){return e.split(":")[0]}var n={_fireEvent:function e(t,r,n){_.invoke(t,"call",this,r,n)},_applyConstraints:function e(t,n,i){var a=this;var o=false;return _.reduce(this.state.constraints,function(e,t){if(e===false){return false}if(o){return e}var r=t.call(a,e,n,l({onSkipRemaining:function e(){o=true}},i));if(r===false){return false}if(c.is(r,2)){return r}if(r===true||r==null){return e}throw new s.KAError("Constraint returned invalid result: "+r,s.Errors.Internal)},t,this)},draw:function e(){var t=this.cloneState();n._fireEvent.call(this,this.state.draw,t,this.prevState);this.prevState=t},listen:function e(t,r,n){this._listenerMap=this._listenerMap||{};var i=o(t,r);var a=this._listenerMap[i]=this._listenerMap[i]||this.state[t].length;this.state[t][a]=n},unlisten:function e(t,r){this._listenerMap=this._listenerMap||{};var n=o(t,r);var i=this._listenerMap[n];if(i!==undefined){this.state[t].splice(i,1);delete this._listenerMap[n];var a=_.keys(this._listenerMap);_.each(a,function(e){if(u(e)===t&&this._listenerMap[e]>i){this._listenerMap[e]--}},this)}}};e.exports=n},T2HF:function(e,t,r){"use strict";var _=r("F/us");var f=r("p8fL");var n=r("xc4a");var s=r("eAf/").point;var p=r("eAf/").vector;var d=r("XwLL");var l={thickness:2,mouselayer:false};var i=function e(t,r,n,i){i=_.extend({},l,i);var a=[t.range[0][0],0];var o=[t.range[0][1],0];_.extend(this,t.fixedLine(a,o,i.thickness));this.visibleShape.attr(i.normalStyle);_.extend(this,{graphie:t,initialPoint:t.scalePoint(a),initialLength:s.distanceToPoint(t.scalePoint(a),t.scalePoint(o))});if(i.mouselayer){this.wrapper.style.touchAction="none";this.graphie.addToMouseLayerWrapper(this.wrapper)}else{this.graphie.addToVisibleLayerWrapper(this.wrapper)}this.moveTo(r,n)};_.extend(i.prototype,n,{getMouseTarget:function e(){return this.wrapper},moveTo:function e(t,r){var n=this.graphie.scalePoint(t);var i=this.graphie.scalePoint(r);var a=p.polarDegFromCart(p.subtract(i,n));var o=a[0];var s=d.bound(a[1]);var l=p.subtract(n,this.initialPoint);var c=d.bound(o/this.initialLength);var u=f.getCanUse3dTransform();var h="translateX("+l[0]+"px) "+"translateY("+l[1]+"px) "+(u?" translateZ(0)":"")+"rotate("+s+"deg) "+"scaleX("+c+") scaleY(1)";this.transform(h)}});e.exports=i},Tqif:function(e,t,r){"use strict";r("ma9I");r("yXV3");var h=/\\+([ !#$%*,.:;\[\]\^_{|}]|[a-zA-Z]*)/g;var n=["blue","blueA","blueB","blueC","blueD","blueE","goldA","goldB","goldC","goldD","goldE","gray","grayA","grayB","grayC","grayD","grayE","grayF","grayG","grayH","grayI","green","greenA","greenB","greenC","greenD","greenE","kaBlue","kaGreen","maroonA","maroonB","maroonC","maroonD","maroonE","mintA","mintB","mintC","orange","pink","purple","purpleA","purpleB","purpleC","purpleD","purpleE","red","redA","redB","redC","redD","redE","tealA","tealB","tealC","tealD","tealE"];var i=[].concat(n,[" ","!","#","%","*",",",".",":",";","[","]","^","_","{","|","}","Alpha","alpha","angle","approx","arccos","arcctg","arcsin","arctan","arctg","arg","argmax","argmin","arrow","bar","barwedge","begin","Beta","beta","bf","big","Big","bigg","Bigg","bigl","Bigl","bigr","Bigr","bigstar","bigtriangledown","bigtriangleup","binom","blacklozenge","boldsymbol","Box","boxdot","boxed","bullet","cancel","cap","cdot","cdots","ce","ch","checkmark","Chi","chi","circ","circledcirc","clubsuit","colon","color","cong","cos","cosec","cosh","cot","cotg","coth","csc","ctg","cth","cup","curvearrowright","dagger","dbinom","ddots","deg","degree","delta","Delta","det","dfrac","diamond","diamondsuit","digamma","dim","displaystyle","div","dot","dots","downarrow","Downarrow","ell","end","enspace","Epsilon","epsilon","equiv","Eta","eta","exp","fbox","flat","footnotesize","frac","frown","gamma","Gamma","gcd","gcf","ge","geq","gg","gt","hat","hbox","heartsuit","hline","hom","hphantom","huge","Huge","iff","iiint","iint","implies","in","inf","infty","int","intercal","Iota","iota","it","Kappa","kappa","ker","kern","Lambda","lambda","langle","large","Large","LARGE","lcm","ldots","le","left","leftarrow","leftrightarrow","Leftrightarrow","leftrightharpoons","leftroot","leq","lfloor","lg","lim","liminf","limits","limsup","llap","ln","log","longrightarrow","Longrightarrow","lozenge","lt","lvert","mathbb","mathbf","mathbin","mathcal","mathllap","mathop","mathrm","mathsf","max","mbox","mid","min","mp","Mu","mu","nabla","ne","nearrow","neq","ngeq","ngtr","nleq","nless","normalsize","not","Nu","nu","nx","odot","oint","omega","Omega","Omicron","omicron","operatorname","oplus","oslash","otimes","overbrace","overleftarrow","overleftrightarrow","overline","overrightarrow","overset","parallel","partial","perp","phantom","phi","Phi","Pi","pi","plim","pm","Pr","prime","propto","psi","Psi","qquad","quad","raise","rangle","rfloor","Rho","rho","right","rightarrow","Rightarrow","rightleftharpoons","rvert","scriptsize","scriptstyle","searrow","sec","setminus","sh","sharp","sigma","Sigma","sim","simeq","sin","sinh","small","space","sqrt","square","stackrel","star","substack","sum","sup","swarrow","tan","tan","tanh","Tau","tau","text","textbf","textit","textrm","tfrac","tg","th","therefore","theta","Theta","thetasym","tilde","times","tiny","to","triangle","triangleleft","triangleright","underbrace","underline","underset","uparrow","uproot","Upsilon","upsilon","varDelta","varepsilon","varGamma","varkappa","varLambda","varOmega","varPhi","varphi","varpi","varPi","varPsi","varrho","varSigma","varsigma","varTheta","vartheta","varUpsilon","varXi","vdots","vec","veebar","vert","vphantom","widehat","xi","Xi","xrightarrow","Zeta","zeta","Begin","End","inte","lamba","textb"]);var a=i.reduce(function(e,t){e[t]=null;return e},{});var o={n:"\n",r:"\r",t:"\t","\\":"\\"};var f=function e(t){var r=0;while(r<t.length&&t[r]==="\\"){r++}if(r===0){return 2}if(r%2===0){return 3}var n=t.substring(r);if(n==="$"){return r===1?4:1}return a.hasOwnProperty(n)?6:0};var p=function e(t){var r=0;var n="";while(r<t.length){var i=t[r];if(i==="\\"){r+=1;if(r===t.length){return null}var a=t[r];if(o.hasOwnProperty(a)){n+=o[a]}else{return null}}else{n+=i}r+=1}return n};var s=function e(t){if(!t||t.indexOf("\\")<0){return false}var r=0;var n=0;var i=false;var a=false;var o;h.lastIndex=0;while((o=h.exec(t))!==null){var s=o[0];var l=p(s);if(l===null){return false}var c=f(s);if(c===0){i=true}var u=f(l);if(u===0){a=true}r+=c;n+=u}if(i!==a){return i}return n>=r};var l=function e(t){if(s(t)){return p(t)}return t};var c=function e(t,r){if(s(t)){return[p(t),p(r)]}return[t,r]};e.exports={maybeUnescape:l,maybeUnescapeAccordingToSource:c,shouldUnescape:s}},UcaO:function(e,t,r){"use strict";e.exports={baseFontFamily:"'Proxima Nova',sans-serif",boldFontFamily:"'Proxima Nova Semibold',sans-serif",green:"#76A005",kaGreen:"#71B307",blue:"#1C758A",gray:"#AAAAAA",red:"#FFBABA",grayLight:"#AAAAAA",grayLighter:"#DDDDDD",learnstormBlue:"#4898FC",white:"#FFFFFF",gray98:"#FAFAFA",gray97:"#F6F7F7",gray95:"#F0F1F2",gray90:"#E3E5E6",gray85:"#D6D8DA",gray76:"#BABEC2",gray68:"#888D93",gray41:"#626569",gray25:"#3B3e40",gray17:"#21242c",black:"#000000",warning1:"#F86700",warning3:"#C75300",pureSmMin:"568px",pureMdMin:"768px",pureLgMin:"1024px",pureXlMin:"1280px",pureXsMax:"567px",pureSmMax:"767px",pureMdMax:"1023px",pureLgMax:"1279px",tableBackgroundAccent:"#F9F9F9",gtpBlue:"#4c00ff",gtpIncorrectColor:"#babec2",gtpCorrectColor:"#ffbe26",satBlue:"#0084CE",satSelectedBackgroundColor:"#E4F3F9",satActiveBackgroundColor:"#D0EDF4",satCorrectColor:"#009900",satCorrectBorderColor:"#00CC00",satCorrectBackgroundColor:"#E4F7E4",satIncorrectColor:"#990000",satIncorrectBorderColor:"#CC5252",satIncorrectBackgroundColor:"#F2EBEB",zIndexScratchPad:"1",zIndexAboveScratchpad:"2",zIndexInteractiveComponent:"3",zIndexCurrentlyDragging:"4",zIndexCalculator:"5",phoneMargin:16,negativePhoneMargin:-16,hintBorderWidth:4,baseUnitPx:16,interactiveSizes:{defaultBoxSize:400,defaultBoxSizeSmall:288},circleSize:24,radioMarginWidth:2,warningColor:"#f86700",warningColorHover:"#df5c00",warningColorActive:"#c75300",publishBlockingErrorColor:"#be2612"};e.exports.radioBorderColor=e.exports.gray76;e.exports.checkedColor=e.exports.kaGreen},"WCF/":function(e,t,r){"use strict";r("toAj");r("5DmW");var h=n(r("q1tI"));function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}var f=r("TSYQ");var i=r("17x9");var a=r("fhzG");var o=r("UcaO"),p=o.negativePhoneMargin;var s=480;var l=a({displayName:"FixedToResponsive",propTypes:{width:i.number.isRequired,height:i.number.isRequired,className:i.string,constrainHeight:i.bool,allowFullBleed:i.bool},getDefaultProps:function e(){return{className:"",constrainHeight:false,allowFullBleed:false}},getInitialState:function e(){return{viewportHeight:null,viewportWidth:null}},componentDidMount:function e(){this._isMounted=true;if(window.innerHeight<s){setTimeout(this._cacheViewportSize,800)}else{this._cacheViewportSize()}},componentWillUnmount:function e(){this._isMounted=false},_cacheViewportSize:function e(){if(this._isMounted){this.setState({viewportHeight:Math.max(s,window.innerHeight),viewportWidth:window.innerWidth})}},render:function e(){var t=this.props.width/this.props.height;var r=h.createElement("div",{style:{paddingBottom:(1/t).toFixed(4)*100+"%"}});var n=this.props,i=n.width,a=n.height;if(this.props.constrainHeight&&this.state.viewportHeight){var o=2/3*this.state.viewportHeight;if(this.props.height>=o){a=o;i=o*t}}var s={maxWidth:i,maxHeight:a};var l=f("fixed-to-responsive",this.props.className);var c=h.createElement("div",{className:l,style:s},r,this.props.children);var u=this.props.allowFullBleed&&this.state.viewportWidth&&i>=this.state.viewportWidth;if(u){return h.createElement("div",{style:{marginLeft:p,marginRight:p}},c)}return c}});e.exports=l},XwLL:function(e,t,r){"use strict";r("+2oP");r("toAj");r("Rm1S");r("UxlC");r("SYor");var _=r("F/us");var i=r("e2gc");var d=r("eAf/").number;var h={cleanMath:function e(t){return typeof t==="string"?t.replace(/\+\s*-/g,"- ").replace(/-\s*-/g,"+ ").replace(/\^1/g,""):t},bound:function e(t){if(t===0){return t}if(t<0){return-h.bound(-t)}return Math.max(1e-6,Math.min(t,1e20))},factorial:function e(t){if(t<=1){return t}return t*h.factorial(t-1)},getGCD:function e(t,r){if(arguments.length>2){var n=[].slice.call(arguments,1);return h.getGCD(t,h.getGCD.apply(h,n))}var i;t=Math.abs(t);r=Math.abs(r);while(r){i=t%r;t=r;r=i}return t},getLCM:function e(t,r){if(arguments.length>2){var n=[].slice.call(arguments,1);return h.getLCM(t,h.getLCM.apply(h,n))}return Math.abs(t*r)/h.getGCD(t,r)},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97],isPrime:function e(r){if(r<=1){return false}if(r<101){return!!i.grep(h.primes,function(e,t){return Math.abs(e-r)<=.5}).length}if(r<=1||r>2&&r%2===0){return false}for(var t=3,n=Math.sqrt(r);t<=n;t+=2){if(r%t===0){return false}}return true},getPrimeFactorization:function e(t){if(t===1){return[]}if(h.isPrime(t)){return[t]}var r=Math.sqrt(t);for(var n=2;n<=r;n++){if(t%n===0){return i.merge(h.getPrimeFactorization(n),h.getPrimeFactorization(t/n))}}},roundToNearest:function e(t,r){return Math.round(r/t)*t},roundTo:function e(t,r){var n=Math.pow(10,t).toFixed(5);return Math.round((r*n).toFixed(5))/n},toFixedApprox:function e(t,r){var n=t.toFixed(r);if(d.equal(+n,t)){return n}return"\\approx "+n},roundToApprox:function e(t,r){var n=h.roundTo(r,t);if(d.equal(n,t)){return String(n)}return h.toFixedApprox(t,r)},toFraction:function e(t,r){if(r==null){r=Math.pow(2,-46)}if(t<0||t>1){var n=t%1;n+=n<0?1:0;var i=h.toFraction(n,r);i[0]+=Math.round(t-n)*i[1];return i}if(Math.abs(Math.round(Number(t))-t)<=r){return[Math.round(t),1]}var a=0;var o=1;var s=1;var l=1;var c=1;var u=2;while(true){if(Math.abs(Number(c/u)-t)<=r){return[c,u]}if(c/u<t){a=c;o=u}else{s=c;l=u}c=a+s;u=o+l}},getNumericFormat:function e(t){t=i.trim(t);t=t.replace(/\u2212/,"-").replace(/([+-])\s+/g,"$1");if(t.match(/^[+-]?\d+$/)){return"integer"}if(t.match(/^[+-]?\d+\s+\d+\s*\/\s*\d+$/)){return"mixed"}var r=t.match(/^[+-]?(\d+)\s*\/\s*(\d+)$/);if(r){return parseFloat(r[1])>parseFloat(r[2])?"improper":"proper"}if(t.replace(/[,. ]/g,"").match(/^\d+$/)){return"decimal"}if(t.match(/(pi?|\u03c0|t(?:au)?|\u03c4|pau)/)){return"pi"}return null},toNumericString:function e(t,r){if(t==null){return""}if(t===0){return"0"}if(r==="percent"){return t*100+"%"}if(r==="pi"){var n=d.toFraction(t/Math.PI);var i=Math.abs(n[0]);var a=n[1];if(d.isInteger(i)){var o=t<0?"-":"";var s="";return o+(i===1?"":i)+s+(a===1?"":"/"+a)}}if(_(["proper","improper","mixed","fraction"]).contains(r)){var l=d.toFraction(t);var c=Math.abs(l[0]);var u=l[1];var h=t<0?"-":"";if(u===1){return h+c}if(r==="mixed"){var f=c%u;var p=(c-f)/u;return h+(p?p+" ":"")+f+"/"+u}return h+c+"/"+u}return String(t)}};e.exports=h},bHYm:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("zKZe");r("5DmW");r("FZtP");function l(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){i(t,e,r[e])})}return t}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=r("FVCV");var o=r("p6EO");var s=r("uN08");var c=r("+vEw");var u=r("yfnS");var h={MovablePoint:o,addMovablePoint:function e(t,r){var n=new a(t,{});return new o(t,n,r)},MovableLine:s,addMovableLine:function e(t,r){var n=new a(t,{});return new s(t,n,r)},MovablePolygon:c,addMovablePolygon:function e(t,r){var n=new a(t,{});return new c(t,n,r)},addMaybeMobileMovablePoint:function e(t,r){var n=t.props.apiOptions.isMobile;var i=n?{stroke:"#ffffff","stroke-width":3,fill:u.INTERACTIVE}:{stroke:u.INTERACTIVE,fill:u.INTERACTIVE};var a=Object.assign(i,r.normalStyle);var o=Object.assign(n?l({},i,{"stroke-width":0,scale:.75}):{},r.highlightStyle);var s=Object.assign({normalStyle:a,highlightStyle:o,shadow:n,tooltip:n&&t.props.showTooltips,showHairlines:t.showHairlines,hideHairlines:t.hideHairlines},n?{pointSize:7}:{});return h.addMovablePoint(t.graphie,Object.assign(r,s))}};e.exports=h},d773:function(e,t,r){"use strict";r("TeQF");var _=r("F/us");var n=r("xc4a");var l=r("p8fL");var c=r("eAf/").vector;var u={maxScale:1,mouselayer:false,shadow:false,disableMouseEventsOnWrapper:false};var i=function e(t,r,n,i){i=_.extend({},u,i);var a=t.fixedEllipse(r,n,i.maxScale,i.padding);_.extend(this,a,{graphie:t,initialPoint:r});if(i.mouselayer){this.wrapper.style.touchAction="none";this.graphie.addToMouseLayerWrapper(this.wrapper)}else{this.graphie.addToVisibleLayerWrapper(this.wrapper)}if(i.shadow){var o="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";var s=this.wrapper;s.style.webkitFilter=o;s.style.filter=o;this.moveTo=function(e){var t=c.subtract(this.graphie.scalePoint(e),this.graphie.scalePoint(this.initialPoint));var r=l.getCanUse3dTransform();var n="translateX("+Math.round(t[0])+"px) "+"translateY("+Math.round(t[1])+"px)"+(r?" translateZ(0)":"");this.transform(n)}}if(i.disableMouseEventsOnWrapper){this.wrapper.style.pointerEvents="none";this.visibleShape.node.style.pointerEvents="auto"}};_.extend(i.prototype,n);e.exports=i},e1hl:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("+2oP");var _=r("F/us");var h=r("eAf/").point;var f=r("eAf/").vector;function n(e){return _.reduce(e,function(e,t){return e+t},0)}function l(e){var t=_.zip(e,e.slice(1).concat(e.slice(0,1)));var r=_.map(t,function(e){var t=e[0];var r=e[1];return(r[0]-t[0])*(r[1]+t[1])});return n(r)>0}var i={constrain:function e(){this.constrain()},pointsToFront:function e(t){_.invoke(t.points,"toFront")}};i.standard=[i.constrain,i.pointsToFront];var a={draw:function e(){this.draw()}};a.standard=[a.draw];var o={basic:function e(t,r){var n=this.graphie;var i=this.path(t);if(!this.state.visibleShape){this.state.visibleShape=n.raphael.path(i);this.state.visibleShape.attr(this.normalStyle())}if(t.normalStyle!==r.normalStyle&&!_.isEqual(t.normalStyle,r.normalStyle)){this.state.visibleShape.attr(this.normalStyle())}this.state.visibleShape.attr({path:i});if(this.mouseTarget()){this.mouseTarget().attr({path:i})}},labels:function e(r,t){var n=this.graphie;var i=this;var a=_.invoke(r.points,"coord");var o=l(a);var s=a.length;if(i.state._labelCache!=null){_.invoke(i.state._labelCache,"remove")}i.state._labelCache=[];if(r.angleLabels.length||r.showRightAngleMarkers.length){if(i.state._labeledAngles==null){i.state._labeledAngles=_.times(Math.max(r.angleLabels.length,r.showRightAngleMarkers.length),function(){return n.label([0,0],"","center",r.labelStyle)})}_.each(i.state._labeledAngles,function(e,t){i.state._labelCache.push(n.labelAngle({point1:a[(t-1+s)%s],vertex:a[t],point3:a[(t+1)%s],label:e,text:r.angleLabels[t],showRightAngleMarker:r.showRightAngleMarkers[t],numArcs:r.numArcs[t],clockwise:o,style:r.labelStyle}))})}if(r.sideLabels.length){if(i.state._labeledSides==null){i.state._labeledSides=_.map(r.sideLabels,function(e){return n.label([0,0],"","center",r.labelStyle)})}_.each(i.state._labeledSides,function(e,t){i.state._labelCache.push(n.labelSide({point1:a[t],point2:a[(t+1)%s],label:e,text:r.sideLabels[t],numArrows:r.numArrows[t],numTicks:r.numTicks[t],clockwise:o,style:r.labelStyle}))})}if(r.vertexLabels.length){if(i.state._labeledVertices==null){i.state._labeledVertices=_.map(r.vertexLabels,function(e){return n.label([0,0],"","center",r.labelStyle)})}_.each(i.state._labeledVertices,function(e,t){i.state._labelCache.push(n.labelVertex({point1:a[(t-1+s)%s],vertex:a[t],point3:a[(t+1)%s],label:e,text:r.vertexLabels[t],clockwise:o,style:r.labelStyle}))})}i.state._labelCache=_.flatten(i.state._labelCache)},highlight:function e(t,r){if(t.isHovering&&!r.isHovering){t.visibleShape.animate(this.highlightStyle(),50)}else if(!t.isHovering&&r.isHovering){t.visibleShape.animate(this.normalStyle(),50)}}};o.standard=[o.basic,o.labels,o.highlight];var s={basic:function e(){if(this.state.visibleShape){this.state.visibleShape.remove()}},labels:function e(){var e=[this.state._labeledSides,this.state._labeledVertices,this.state._labeledAngles,this.state._labelCache];_.each(e,function(e){if(e!=null&&e.length){_.invoke(e,"remove")}})}};s.standard=[s.basic,s.labels];var c={fixed:function e(){return function(){return false}},snap:function e(t){return function(e){if(t===null){return true}t=t||this.graphie.snap;return h.roundTo(e,t)}},bound:function e(t,c,u){if(u===undefined){if(t===undefined){u=10}else{u=0}}return function(e,t){var r=this.graphie;var n=f.subtract(e,t);var i=i||r.range;if(c===undefined){c=r.snap}var a=r.unscalePoint([u,r.ypixels-u]);var o=r.unscalePoint([r.xpixels-u,u]);if(c){a=h.ceilTo(a,c);o=h.floorTo(o,c)}var s=_.map(this.coords(),function(e,t){var r=f.subtract(o,e);var n=f.subtract(a,e);return[n,r]});var l=_.reduce(s,function(e,t){var r=t[0];var n=t[1];var i=Math.max(r[0],Math.min(n[0],e[0]));var a=Math.max(r[1],Math.min(n[1],e[1]));return[i,a]},n);return f.add(t,l)}}};c.standard=null;var u={updatePoints:function e(t,r){var n=f.subtract(t,r);_.each(this.state.points,function(e){e.setCoord(f.add(e.coord(),n))})}};u.standard=null;e.exports={add:i,modify:a,draw:o,remove:s,onMoveStart:{standard:null},constraints:c,onMove:u,onMoveEnd:{standard:null},onClick:{standard:null}}},f3EM:function(e,t,r){"use strict";var _=r("F/us");var n=r("xc4a");var i={center:null,createPath:null,mouselayer:false};var a=function e(t,r,n){n=_.extend({},i,n);_.extend(this,t.fixedPath(r,n.center,n.createPath));_.extend(this,{graphie:t,initialPoint:t.scalePoint(_.head(r))});if(n.mouselayer){this.wrapper.style.touchAction="none";this.graphie.addToMouseLayerWrapper(this.wrapper)}else{this.graphie.addToVisibleLayerWrapper(this.wrapper)}};_.extend(a.prototype,n);e.exports=a},kPsx:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("zKZe");r("5DmW");r("Rm1S");r("FZtP");var i=n(r("XDp7"));function n(e){return e&&e.__esModule?e:{default:e}}function o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){a(t,e,r[e])})}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var u=r("e2gc");var _=r("F/us");var s=r("7kT3");var l=r("bHYm");var c=r("yfnS");var h=r("Tqif"),f=h.maybeUnescape;var p=s.createClass({displayName:"MovablePoint",movableProps:["children"],_getProps:function e(){if(this.props.isMobile){var t=this.props.isMobile;var r=t?{stroke:"#ffffff","stroke-width":3,fill:c.INTERACTIVE}:{stroke:c.INTERACTIVE,fill:c.INTERACTIVE};var n=t?Object.assign(r,this.props.mobileStyleOverride||{}):Object.assign(r,this.props.normalStyle);var i=t?o({},r,{"stroke-width":0,scale:.75}):this.props.highlightStyle;var a=Object.assign({normalStyle:n,highlightStyle:i,shadow:t,tooltip:t&&this.props.showTooltips},t?{pointSize:7}:{});return Object.assign(this.props,a)}return this.props},add:function e(t){this.point=l.addMovablePoint(t,this._getProps())},modify:function e(){this.point.modify(this._getProps())},remove:function e(){this.point.remove()},toFront:function e(){this.point.toFront()},grab:function e(t){this.point.grab(t)}});_.extend(p,l.MovablePoint);var d=s.createClass({displayName:"MovableLine",movableProps:["children"],add:function e(t){var r=_.pluck(this.props.children,"point");var n=_.extend({},this.props,{points:r});this.line=l.addMovableLine(t,n)},modify:function e(){var t=_.pluck(this.props.children,"point");var r=_.extend({},this.props,{points:t});this.line.modify(r)},remove:function e(){this.line.remove()},toFront:function e(){this.line.toFront()}});_.extend(d,l.MovableLine);var v=[];if(i.default.useJIPT){i.default.domInsertChecks.push(function(e,t,r){var n=u(t).data("jipt-label-movables-index");if(t&&typeof n!=="undefined"){var i=v[n],a=i.label,o=i.useMath;a.text("");e=f(e);if(o==="undefined"||o){var s=/^\$(.*)\$$/;var l=e.match(s);var c=l?l[1]:"\\color{red}{\\text{Invalid Math}}";a.processMath(c,true)}else{a.processText(e)}return false}return e})}var m=s.createSimpleClass(function(e,t){var r=t.coord;if(t.unscaled){r=e.unscalePoint(r)}var n=null;if(i.default.useJIPT){n=e.label(r,t.text,t.direction,false,t.style);u(n).data("jipt-label-movables-index",v.length);v.push({label:n,useMath:t.tex})}else{n=e.label(r,t.text,t.direction,t.tex,t.style)}return n});var g=s.createClass({displayName:"Line",movableProps:["children"],add:function e(t){var r=this.props;this.graphie=t;this.line=this.graphie.line(r.start,r.end,r.style)},modify:function e(){var t=this.props;var r=this.graphie.svgPath([t.start,t.end]);this.line.attr(_.extend({},t.style,{path:r}))},remove:function e(){this.line.remove()},toFront:function e(){this.line.toFront()}});var y=s.createClass({displayName:"Parabola",movableProps:["children"],add:function e(t){var r=this.props;this.graphie=t;this.parabola=this.graphie.parabola(r.a,r.b,r.c,r.style)},modify:function e(){var t=this.props;var r=this.graphie.svgParabolaPath(t.a,t.b,t.c);this.parabola.attr(_.extend({},t.style,{path:r}))},remove:function e(){this.parabola.remove()},toFront:function e(){this.parabola.toFront()}});var b=s.createClass({displayName:"Sinusoid",movableProps:["children"],add:function e(t){var r=this.props;this.graphie=t;this.sinusoid=this.graphie.sinusoid(r.a,r.b,r.c,r.d,r.style)},modify:function e(){var t=this.props;var r=this.graphie.svgSinusoidPath(t.a,t.b,t.c,t.d);this.sinusoid.attr(_.extend({},t.style,{path:r}))},remove:function e(){this.sinusoid.remove()},toFront:function e(){this.sinusoid.toFront()}});var x=s.createSimpleClass(function(e,t){return e.plot(t.fn,t.range,t.style)});var w=s.createSimpleClass(function(e,t){return e.plotParametric(t.fn,t.range,t.style)});var k=s.createSimpleClass(function(e,t){return e.ellipse(t.coord,e.unscaleVector([4,4]),{fill:t.color||c.BLACK,stroke:t.color||c.BLACK})});var M=s.createClass({displayName:"Path",movableProps:["children"],add:function e(t){var r=this.props;this.graphie=t;this.path=this.graphie.path(r.coords,r.style)},modify:function e(){var t=this.props;var r=this.graphie.svgPath(t.coords);this.path.attr({path:r})},remove:function e(){this.path.remove()},toFront:function e(){this.path.toFront()}});var S=s.createSimpleClass(function(e,t){var r=t.center;var n=t.radius;if(t.unscaled){r=e.unscalePoint(r);n=e.unscaleVector(n)}return e.arc(r,n,t.startAngle,t.endAngle,t.sector,t.style)});var A=s.createSimpleClass(function(e,t){return e.circle(t.center,t.radius,t.style)});var T=s.createSimpleClass(function(e,t){return e.rect(t.x,t.y,t.width,t.height,t.style)});e.exports={Arc:S,Circle:A,Label:m,Line:g,MovableLine:d,MovablePoint:p,Parabola:y,Path:M,Plot:x,PlotParametric:w,Point:k,Sinusoid:b,Rect:T}},nL9U:function(It,e){
/*!
 * Raphael 1.5.2 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://raphaeljs.com/license.html) license.
 */
(function(){var q;if("".trim){q=function(e,t,r){e.setAttribute(t,String(r).trim())}}else{q=function(e,t,r){e.setAttribute(t,String(r))}}function E(){if(E.is(arguments[0],g)){var e=arguments[0],t=We[m](E,e.splice(0,3+E.is(e[0],D))),r=t.set();for(var n=0,i=e[Z];n<i;n++){var a=e[n]||{};o[C](a.type)&&r[b](t[a.type]().attr(a))}return r}return We[m](E,arguments)}E.version="1.5.2";var P=/[, ]+/,o={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},n=/\{(\d+)\}/g,l="prototype",C="hasOwnProperty",S=document,s=window,e={was:Object[l][C].call(s,"Raphael"),is:s.Raphael},u=function(){this.customAttributes={}},i,A="appendChild",m="apply",Y="concat",c="createTouch"in S,B="",G=" ",I=String,U="split",t="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[U](G),h={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},W="join",Z="length",T=I[l].toLowerCase,X=Math,k=X.max,M=X.min,K=X.abs,w=X.pow,Q=X.PI,D="number",f="string",g="array",y="toString",N="fill",r=Object[l][y],a={},b="push",O=/^url\(['"]?([^\)]+?)['"]?\)$/i,p=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,d={NaN:1,Infinity:1,"-Infinity":1},F=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,L=X.round,R=parseFloat,z=parseInt,j=" progid:DXImageTransform.Microsoft",H=I[l].toUpperCase,V={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},$={along:"along",blur:D,"clip-rect":"csv",cx:D,cy:D,fill:"colour","fill-opacity":D,"font-size":D,height:D,opacity:D,path:"path",r:D,rotation:"csv",rx:D,ry:D,scale:"csv",stroke:"colour","stroke-opacity":D,"stroke-width":D,translation:"csv",width:D,x:D,y:D},J="replace",ee=/^(from|to|\d+%?)$/,v=/\s*,\s*/,x={hs:1,rg:1},te=/,?([achlmqrstvxz]),?/gi,re=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,ne=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,ie=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,ae=function(e,t){return e.key-t.key};E.type=s.SVGAngle||S.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(E.type=="VML"){var oe=S.createElement("div"),se;oe.innerHTML='<v:shape adj="1"/>';se=oe.firstChild;se.style.behavior="url(#default#VML)";if(!(se&&typeof se.adj=="object")){return E.type=null}oe=null}E.svg=!(E.vml=E.type=="VML");u[l]=E[l];i=u[l];E._id=0;E._oid=0;E.fn={};E.is=function(e,t){t=T.call(t);if(t=="finite"){return!d[C](+e)}return t=="null"&&e===null||t==typeof e||t=="object"&&e===Object(e)||t=="array"&&Array.isArray&&Array.isArray(e)||r.call(e).slice(8,-1).toLowerCase()==t};E.angle=function(e,t,r,n,i,a){if(i==null){var o=e-r,s=t-n;if(!o&&!s){return 0}return((o<0)*180+X.atan(-s/-o)*180/Q+360)%360}else{return E.angle(e,t,i,a)-E.angle(r,n,i,a)}};E.rad=function(e){return e%360*Q/180};E.deg=function(e){return e*180/Q%360};E.snapTo=function(e,t,r){r=E.is(r,"finite")?r:10;if(E.is(e,g)){var n=e.length;while(n--)if(K(e[n]-t)<=r){return e[n]}}else{e=+e;var i=t%e;if(i<r){return t-i}if(i>e-r){return t-i+e}}return t};function le(){var e=[],t=0;for(;t<32;t++){e[t]=(~~(X.random()*16))[y](16)}e[12]=4;e[16]=(e[16]&3|8)[y](16);return"r-"+e[W]("")}E.setWindow=function(e){s=e;S=s.document};var ce=function(e){if(E.vml){var r=/^\s+|\s+$/g;var n;try{var t=new ActiveXObject("htmlfile");t.write("<body>");t.close();n=t.body}catch(e){n=createPopup().document.body}var i=n.createTextRange();ce=pe(function(e){try{n.style.color=I(e)[J](r,B);var t=i.queryCommandValue("ForeColor");t=(t&255)<<16|t&65280|(t&16711680)>>>16;return"#"+("000000"+t[y](16)).slice(-6)}catch(e){return"none"}})}else{var a=S.createElement("i");a.title="Raphal Colour Picker";a.style.display="none";S.body[A](a);ce=pe(function(e){a.style.color=e;return S.defaultView.getComputedStyle(a,B).getPropertyValue("color")})}return ce(e)},ue=function(){return"hsb("+[this.h,this.s,this.b]+")"},he=function(){return"hsl("+[this.h,this.s,this.l]+")"},fe=function(){return this.hex};E.hsb2rgb=function(e,t,r,n){if(E.is(e,"object")&&"h"in e&&"s"in e&&"b"in e){r=e.b;t=e.s;e=e.h;n=e.o}return E.hsl2rgb(e,t,r/2,n)};E.hsl2rgb=function(e,t,r,n){if(E.is(e,"object")&&"h"in e&&"s"in e&&"l"in e){r=e.l;t=e.s;e=e.h}if(e>1||t>1||r>1){e/=360;t/=100;r/=100}var i={},a=["r","g","b"],o,s,l,c,u,h;if(!t){i={r:r,g:r,b:r}}else{if(r<.5){o=r*(1+t)}else{o=r+t-r*t}s=2*r-o;for(var f=0;f<3;f++){l=e+1/3*-(f-1);l<0&&l++;l>1&&l--;if(l*6<1){i[a[f]]=s+(o-s)*6*l}else if(l*2<1){i[a[f]]=o}else if(l*3<2){i[a[f]]=s+(o-s)*(2/3-l)*6}else{i[a[f]]=s}}}i.r*=255;i.g*=255;i.b*=255;i.hex="#"+(16777216|i.b|i.g<<8|i.r<<16).toString(16).slice(1);E.is(n,"finite")&&(i.opacity=n);i.toString=fe;return i};E.rgb2hsb=function(e,t,r){if(t==null&&E.is(e,"object")&&"r"in e&&"g"in e&&"b"in e){r=e.b;t=e.g;e=e.r}if(t==null&&E.is(e,f)){var n=E.getRGB(e);e=n.r;t=n.g;r=n.b}if(e>1||t>1||r>1){e/=255;t/=255;r/=255}var i=k(e,t,r),a=M(e,t,r),o,s,l=i;if(a==i){return{h:0,s:0,b:i,toString:ue}}else{var c=i-a;s=c/i;if(e==i){o=(t-r)/c}else if(t==i){o=2+(r-e)/c}else{o=4+(e-t)/c}o/=6;o<0&&o++;o>1&&o--}return{h:o,s:s,b:l,toString:ue}};E.rgb2hsl=function(e,t,r){if(t==null&&E.is(e,"object")&&"r"in e&&"g"in e&&"b"in e){r=e.b;t=e.g;e=e.r}if(t==null&&E.is(e,f)){var n=E.getRGB(e);e=n.r;t=n.g;r=n.b}if(e>1||t>1||r>1){e/=255;t/=255;r/=255}var i=k(e,t,r),a=M(e,t,r),o,s,l=(i+a)/2,c;if(a==i){c={h:0,s:0,l:l}}else{var u=i-a;s=l<.5?u/(i+a):u/(2-i-a);if(e==i){o=(t-r)/u}else if(t==i){o=2+(r-e)/u}else{o=4+(e-t)/u}o/=6;o<0&&o++;o>1&&o--;c={h:o,s:s,l:l}}c.toString=he;return c};E._path2string=function(){return this.join(",")[J](te,"$1")};function pe(i,a,o){function s(){var e=Array[l].slice.call(arguments,0),t=e[W](""),r=s.cache=s.cache||{},n=s.count=s.count||[];if(r[C](t)){return o?o(r[t]):r[t]}n[Z]>=1e3&&delete r[n.shift()];n[b](t);r[t]=i[m](a,e);return o?o(r[t]):r[t]}return s}E.getRGB=pe(function(e){if(!e||!!((e=I(e)).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(e=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}!(x[C](e.toLowerCase().substring(0,2))||e.charAt()=="#")&&(e=ce(e));var t,r,n,i,a,o,s,l=e.match(p);if(l){if(l[2]){i=z(l[2].substring(5),16);n=z(l[2].substring(3,5),16);r=z(l[2].substring(1,3),16)}if(l[3]){i=z((o=l[3].charAt(3))+o,16);n=z((o=l[3].charAt(2))+o,16);r=z((o=l[3].charAt(1))+o,16)}if(l[4]){s=l[4][U](v);r=R(s[0]);s[0].slice(-1)=="%"&&(r*=2.55);n=R(s[1]);s[1].slice(-1)=="%"&&(n*=2.55);i=R(s[2]);s[2].slice(-1)=="%"&&(i*=2.55);l[1].toLowerCase().slice(0,4)=="rgba"&&(a=R(s[3]));s[3]&&s[3].slice(-1)=="%"&&(a/=100)}if(l[5]){s=l[5][U](v);r=R(s[0]);s[0].slice(-1)=="%"&&(r*=2.55);n=R(s[1]);s[1].slice(-1)=="%"&&(n*=2.55);i=R(s[2]);s[2].slice(-1)=="%"&&(i*=2.55);(s[0].slice(-3)=="deg"||s[0].slice(-1)=="")&&(r/=360);l[1].toLowerCase().slice(0,4)=="hsba"&&(a=R(s[3]));s[3]&&s[3].slice(-1)=="%"&&(a/=100);return E.hsb2rgb(r,n,i,a)}if(l[6]){s=l[6][U](v);r=R(s[0]);s[0].slice(-1)=="%"&&(r*=2.55);n=R(s[1]);s[1].slice(-1)=="%"&&(n*=2.55);i=R(s[2]);s[2].slice(-1)=="%"&&(i*=2.55);(s[0].slice(-3)=="deg"||s[0].slice(-1)=="")&&(r/=360);l[1].toLowerCase().slice(0,4)=="hsla"&&(a=R(s[3]));s[3]&&s[3].slice(-1)=="%"&&(a/=100);return E.hsl2rgb(r,n,i,a)}l={r:r,g:n,b:i};l.hex="#"+(16777216|i|n<<8|r<<16).toString(16).slice(1);E.is(a,"finite")&&(l.opacity=a);return l}return{r:-1,g:-1,b:-1,hex:"none",error:1}},E);E.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},r=this.hsb2rgb(t.h,t.s,t.b);t.h+=.075;if(t.h>1){t.h=0;t.s-=.2;t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})}return r.hex};E.getColor.reset=function(){delete this.start};E.parsePathString=pe(function(e){if(!e){return null}var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=[];if(E.is(e,g)&&E.is(e[0],g)){o=ve(e)}if(!o[Z]){I(e)[J](re,function(e,t,r){var n=[],i=T.call(t);r[J](ne,function(e,t){t&&n[b](+t)});if(i=="m"&&n[Z]>2){o[b]([t][Y](n.splice(0,2)));i="l";t=t=="m"?"l":"L"}while(n[Z]>=a[i]){o[b]([t][Y](n.splice(0,a[i])));if(!a[i]){break}}})}o[y]=E._path2string;return o});E.findDotsAtSegment=function(e,t,r,n,i,a,o,s,l){var c=1-l,u=w(c,3)*e+w(c,2)*3*l*r+c*3*l*l*i+w(l,3)*o,h=w(c,3)*t+w(c,2)*3*l*n+c*3*l*l*a+w(l,3)*s,f=e+2*l*(r-e)+l*l*(i-2*r+e),p=t+2*l*(n-t)+l*l*(a-2*n+t),d=r+2*l*(i-r)+l*l*(o-2*i+r),v=n+2*l*(a-n)+l*l*(s-2*a+n),m=(1-l)*e+l*r,g=(1-l)*t+l*n,y=(1-l)*i+l*o,b=(1-l)*a+l*s,x=90-X.atan((f-d)/(p-v))*180/Q;(f>d||p<v)&&(x+=180);return{x:u,y:h,m:{x:f,y:p},n:{x:d,y:v},start:{x:m,y:g},end:{x:y,y:b},alpha:x}};var de=pe(function(e){if(!e){return{x:0,y:0,width:0,height:0}}e=Me(e);var t=0,r=0,n=[],i=[],a;for(var o=0,s=e[Z];o<s;o++){a=e[o];if(a[0]=="M"){t=a[1];r=a[2];n[b](t);i[b](r)}else{var l=ke(t,r,a[1],a[2],a[3],a[4],a[5],a[6]);n=n[Y](l.min.x,l.max.x);i=i[Y](l.min.y,l.max.y);t=a[5];r=a[6]}}var c=M[m](0,n),u=M[m](0,i);return{x:c,y:u,width:k[m](0,n)-c,height:k[m](0,i)-u}}),ve=function(e){var t=[];if(!E.is(e,g)||!E.is(e&&e[0],g)){e=E.parsePathString(e)}for(var r=0,n=e[Z];r<n;r++){t[r]=[];for(var i=0,a=e[r][Z];i<a;i++){t[r][i]=e[r][i]}}t[y]=E._path2string;return t},me=pe(function(e){if(!E.is(e,g)||!E.is(e&&e[0],g)){e=E.parsePathString(e)}var t=[],r=0,n=0,i=0,a=0,o=0;if(e[0][0]=="M"){r=e[0][1];n=e[0][2];i=r;a=n;o++;t[b](["M",r,n])}for(var s=o,l=e[Z];s<l;s++){var c=t[s]=[],u=e[s];if(u[0]!=T.call(u[0])){c[0]=T.call(u[0]);switch(c[0]){case"a":c[1]=u[1];c[2]=u[2];c[3]=u[3];c[4]=u[4];c[5]=u[5];c[6]=+(u[6]-r).toFixed(3);c[7]=+(u[7]-n).toFixed(3);break;case"v":c[1]=+(u[1]-n).toFixed(3);break;case"m":i=u[1];a=u[2];default:for(var h=1,f=u[Z];h<f;h++){c[h]=+(u[h]-(h%2?r:n)).toFixed(3)}}}else{c=t[s]=[];if(u[0]=="m"){i=u[1]+r;a=u[2]+n}for(var p=0,d=u[Z];p<d;p++){t[s][p]=u[p]}}var v=t[s][Z];switch(t[s][0]){case"z":r=i;n=a;break;case"h":r+=+t[s][v-1];break;case"v":n+=+t[s][v-1];break;default:r+=+t[s][v-2];n+=+t[s][v-1]}}t[y]=E._path2string;return t},0,ve),ge=pe(function(e){if(!E.is(e,g)||!E.is(e&&e[0],g)){e=E.parsePathString(e)}var t=[],r=0,n=0,i=0,a=0,o=0;if(e[0][0]=="M"){r=+e[0][1];n=+e[0][2];i=r;a=n;o++;t[0]=["M",r,n]}for(var s=o,l=e[Z];s<l;s++){var c=t[s]=[],u=e[s];if(u[0]!=H.call(u[0])){c[0]=H.call(u[0]);switch(c[0]){case"A":c[1]=u[1];c[2]=u[2];c[3]=u[3];c[4]=u[4];c[5]=u[5];c[6]=+(u[6]+r);c[7]=+(u[7]+n);break;case"V":c[1]=+u[1]+n;break;case"H":c[1]=+u[1]+r;break;case"M":i=+u[1]+r;a=+u[2]+n;default:for(var h=1,f=u[Z];h<f;h++){c[h]=+u[h]+(h%2?r:n)}}}else{for(var p=0,d=u[Z];p<d;p++){t[s][p]=u[p]}}switch(c[0]){case"Z":r=i;n=a;break;case"H":r=c[1];break;case"V":n=c[1];break;case"M":i=t[s][t[s][Z]-2];a=t[s][t[s][Z]-1];default:r=t[s][t[s][Z]-2];n=t[s][t[s][Z]-1]}}t[y]=E._path2string;return t},null,ve),ye=function(e,t,r,n){return[e,t,r,n,r,n]},be=function(e,t,r,n,i,a){var o=1/3,s=2/3;return[o*e+s*r,o*t+s*n,o*i+s*r,o*a+s*n,i,a]},xe=function(e,t,r,n,i,a,o,s,l,c){var u=Q*120/180,h=Q/180*(+i||0),f=[],p,d=pe(function(e,t,r){var n=e*X.cos(r)-t*X.sin(r),i=e*X.sin(r)+t*X.cos(r);return{x:n,y:i}});if(!c){p=d(e,t,-h);e=p.x;t=p.y;p=d(s,l,-h);s=p.x;l=p.y;var v=X.cos(Q/180*i),m=X.sin(Q/180*i),g=(e-s)/2,y=(t-l)/2;var b=g*g/(r*r)+y*y/(n*n);if(b>1){b=X.sqrt(b);r=b*r;n=b*n}var x=r*r,w=n*n,k=(a==o?-1:1)*X.sqrt(K((x*w-x*y*y-w*g*g)/(x*y*y+w*g*g))),M=k*r*y/n+(e+s)/2,S=k*-n*g/r+(t+l)/2,A=X.asin(((t-S)/n).toFixed(9)),T=X.asin(((l-S)/n).toFixed(9));A=e<M?Q-A:A;T=s<M?Q-T:T;A<0&&(A=Q*2+A);T<0&&(T=Q*2+T);if(o&&A>T){A=A-Q*2}if(!o&&T>A){T=T-Q*2}}else{A=c[0];T=c[1];M=c[2];S=c[3]}var E=T-A;if(K(E)>u){var P=T,C=s,I=l;T=A+u*(o&&T>A?1:-1);s=M+r*X.cos(T);l=S+n*X.sin(T);f=xe(s,l,r,n,i,0,o,C,I,[T,P,M,S])}E=T-A;var D=X.cos(A),N=X.sin(A),O=X.cos(T),F=X.sin(T),L=X.tan(E/4),R=4/3*r*L,q=4/3*n*L,B=[e,t],G=[e+R*N,t-q*D],z=[s+R*F,l-q*O],j=[s,l];G[0]=2*B[0]-G[0];G[1]=2*B[1]-G[1];if(c){return[G,z,j][Y](f)}else{f=[G,z,j][Y](f)[W]()[U](",");var H=[];for(var V=0,$=f[Z];V<$;V++){H[V]=V%2?d(f[V-1],f[V],h).y:d(f[V],f[V+1],h).x}return H}},we=function(e,t,r,n,i,a,o,s,l){var c=1-l;return{x:w(c,3)*e+w(c,2)*3*l*r+c*3*l*l*i+w(l,3)*o,y:w(c,3)*t+w(c,2)*3*l*n+c*3*l*l*a+w(l,3)*s}},ke=pe(function(e,t,r,n,i,a,o,s){var l=i-2*r+e-(o-2*i+r),c=2*(r-e)-2*(i-r),u=e-r,h=(-c+X.sqrt(c*c-4*l*u))/2/l,f=(-c-X.sqrt(c*c-4*l*u))/2/l,p=[t,s],d=[e,o],v;K(h)>"1e12"&&(h=.5);K(f)>"1e12"&&(f=.5);if(h>0&&h<1){v=we(e,t,r,n,i,a,o,s,h);d[b](v.x);p[b](v.y)}if(f>0&&f<1){v=we(e,t,r,n,i,a,o,s,f);d[b](v.x);p[b](v.y)}l=a-2*n+t-(s-2*a+n);c=2*(n-t)-2*(a-n);u=t-n;h=(-c+X.sqrt(c*c-4*l*u))/2/l;f=(-c-X.sqrt(c*c-4*l*u))/2/l;K(h)>"1e12"&&(h=.5);K(f)>"1e12"&&(f=.5);if(h>0&&h<1){v=we(e,t,r,n,i,a,o,s,h);d[b](v.x);p[b](v.y)}if(f>0&&f<1){v=we(e,t,r,n,i,a,o,s,f);d[b](v.x);p[b](v.y)}return{min:{x:M[m](0,d),y:M[m](0,p)},max:{x:k[m](0,d),y:k[m](0,p)}}}),Me=pe(function(e,t){var a=ge(e),o=t&&ge(t),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=function(e,t){var r,n;if(!e){return["C",t.x,t.y,t.x,t.y,t.x,t.y]}!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1];t.Y=e[2];break;case"A":e=["C"][Y](xe[m](0,[t.x,t.y][Y](e.slice(1))));break;case"S":r=t.x+(t.x-(t.bx||t.x));n=t.y+(t.y-(t.by||t.y));e=["C",r,n][Y](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x));t.qy=t.y+(t.y-(t.qy||t.y));e=["C"][Y](be(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1];t.qy=e[2];e=["C"][Y](be(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][Y](ye(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][Y](ye(t.x,t.y,e[1],t.y));break;case"V":e=["C"][Y](ye(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][Y](ye(t.x,t.y,t.X,t.Y));break}return e},s=function(e,t){if(e[t][Z]>7){e[t].shift();var r=e[t];while(r[Z]){e.splice(t++,0,["C"][Y](r.splice(0,6)))}e.splice(t,1);u=k(a[Z],o&&o[Z]||0)}},l=function(e,t,r,n,i){if(e&&t&&e[i][0]=="M"&&t[i][0]!="M"){t.splice(i,0,["M",n.x,n.y]);r.bx=0;r.by=0;r.x=e[i][1];r.y=e[i][2];u=k(a[Z],o&&o[Z]||0)}};for(var c=0,u=k(a[Z],o&&o[Z]||0);c<u;c++){a[c]=i(a[c],r);s(a,c);o&&(o[c]=i(o[c],n));o&&s(o,c);l(a,o,r,n,c);l(o,a,n,r,c);var h=a[c],f=o&&o[c],p=h[Z],d=o&&f[Z];r.x=h[p-2];r.y=h[p-1];r.bx=R(h[p-4])||r.x;r.by=R(h[p-3])||r.y;n.bx=o&&(R(f[d-4])||n.x);n.by=o&&(R(f[d-3])||n.y);n.x=o&&f[d-2];n.y=o&&f[d-1]}return o?[a,o]:a},null,ve),_e=pe(function(e){var t=[];for(var r=0,n=e[Z];r<n;r++){var i={},a=e[r].match(/^([^:]*):?([\d\.]*)/);i.color=E.getRGB(a[1]);if(i.color.error){return null}i.color=i.color.hex;a[2]&&(i.offset=a[2]+"%");t[b](i)}for(r=1,n=t[Z]-1;r<n;r++){if(!t[r].offset){var o=R(t[r-1].offset||0),s=0;for(var l=r+1;l<n;l++){if(t[l].offset){s=t[l].offset;break}}if(!s){s=100;l=n}s=R(s);var c=(s-o)/(l-r+1);for(;r<l;r++){o+=c;t[r].offset=o+"%"}}}return t}),Se=function(e,t,r,n){var i;if(E.is(e,f)||E.is(e,"object")){i=E.is(e,f)?S.getElementById(e):e;if(i.tagName){if(t==null){return{container:i,width:i.style.pixelWidth||i.offsetWidth,height:i.style.pixelHeight||i.offsetHeight}}else{return{container:i,width:t,height:r}}}}else{return{container:1,x:e,y:t,width:r,height:n}}},Ae=function(t,e){var r=this;for(var n in e){if(e[C](n)&&!(n in t)){switch(typeof e[n]){case"function":(function(e){t[n]=t===r?e:function(){return e[m](r,arguments)}})(e[n]);break;case"object":t[n]=t[n]||{};Ae.call(this,t[n],e[n]);break;default:t[n]=e[n];break}}}},Te=function(e,t){e==t.top&&(t.top=e.prev);e==t.bottom&&(t.bottom=e.next);e.next&&(e.next.prev=e.prev);e.prev&&(e.prev.next=e.next)},Ee=function(e,t){if(t.top===e){return}Te(e,t);e.next=null;e.prev=t.top;t.top.next=e;t.top=e},Pe=function(e,t){if(t.bottom===e){return}Te(e,t);e.next=t.bottom;e.prev=null;t.bottom.prev=e;t.bottom=e},Ce=function(e,t,r){Te(e,r);t==r.top&&(r.top=e);t.next&&(t.next.prev=e);e.next=t.next;e.prev=t;t.next=e},Ie=function(e,t,r){Te(e,r);t==r.bottom&&(r.bottom=e);t.prev&&(t.prev.next=e);e.prev=t.prev;t.prev=e;e.next=t},De=function(e){return function(){throw new Error("Raphal: you are calling to method "+e+" of removed object")}};E.pathToRelative=me;if(E.svg){i.svgns="http://www.w3.org/2000/svg";i.xlink="http://www.w3.org/1999/xlink";L=function(e){return+e+(~~e===e)*.5};var Ne=function(e,t){if(t){for(var r in t){if(t[C](r)){q(e,r,I(t[r]))}}}else{e=S.createElementNS(i.svgns,e);e.style.webkitTapHighlightColor="rgba(0,0,0,0)";return e}};E[y]=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var Oe=function(e,t){var r=Ne("path");t.canvas&&t.canvas[A](r);var n=new Ge(r,t);n.type="path";Re(n,{fill:"none",stroke:"#000",path:e});return n};var Fe=function(e,t,r){var i="linear",a=.5,o=.5,n=e.style;t=I(t)[J](ie,function(e,t,r){i="radial";if(t&&r){a=R(t);o=R(r);var n=(o>.5)*2-1;w(a-.5,2)+w(o-.5,2)>.25&&(o=X.sqrt(.25-w(a-.5,2))*n+.5)&&o!=.5&&(o=o.toFixed(5)-1e-5*n)}return B});t=t[U](/\s*\-\s*/);if(i=="linear"){var s=t.shift();s=-R(s);if(isNaN(s)){return null}var l=[0,0,X.cos(s*Q/180),X.sin(s*Q/180)],c=1/(k(K(l[2]),K(l[3]))||1);l[2]*=c;l[3]*=c;if(l[2]<0){l[0]=-l[2];l[2]=0}if(l[3]<0){l[1]=-l[3];l[3]=0}}var u=_e(t);if(!u){return null}var h=e.getAttribute(N);h=h.match(/^url\(#(.*)\)$/);h&&r.defs.removeChild(S.getElementById(h[1]));var f=Ne(i+"Gradient");f.id=le();Ne(f,i=="radial"?{fx:a,fy:o}:{x1:l[0],y1:l[1],x2:l[2],y2:l[3]});r.defs[A](f);for(var p=0,d=u[Z];p<d;p++){var v=Ne("stop");Ne(v,{offset:u[p].offset?u[p].offset:!p?"0%":"100%","stop-color":u[p].color||"#fff"});f[A](v)}Ne(e,{fill:"url(#"+f.id+")",opacity:1,"fill-opacity":1});n.fill=B;n.opacity=1;n.fillOpacity=1;return 1};var Le=function(e){var t=e.getBBox();Ne(e.pattern,{patternTransform:E.format("translate({0},{1})",t.x,t.y)})};var Re=function(e,o){var s={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},l=e.node,t=e.attrs,r=e.rotate(),n=function(e,t){t=s[T.call(t)];if(t){var r=e.attrs["stroke-width"]||"1",n={round:r,square:r,butt:0}[e.attrs["stroke-linecap"]||o["stroke-linecap"]]||0,i=[];var a=t[Z];while(a--){i[a]=t[a]*r+(a%2?1:-1)*n}Ne(l,{"stroke-dasharray":i[W](",")})}};o[C]("rotation")&&(r=o.rotation);var i=I(r)[U](P);if(!(i.length-1)){i=null}else{i[1]=+i[1];i[2]=+i[2]}R(r)&&e.rotate(0,true);for(var a in o){if(o[C](a)){if(!V[C](a)){continue}var c=o[a];t[a]=c;switch(a){case"blur":e.blur(c);break;case"rotation":e.rotate(c,true);break;case"href":case"title":case"target":var u=l.parentNode;if(T.call(u.tagName)!="a"){var h=Ne("a");u.insertBefore(h,l);h[A](l);u=h}if(a=="target"&&c=="blank"){u.setAttributeNS(e.paper.xlink,"show","new")}else{u.setAttributeNS(e.paper.xlink,a,c)}break;case"cursor":l.style.cursor=c;break;case"clip-rect":var f=I(c)[U](P);if(f[Z]==4){e.clip&&e.clip.parentNode.parentNode.removeChild(e.clip.parentNode);var p=Ne("clipPath"),d=Ne("rect");p.id=le();Ne(d,{x:f[0],y:f[1],width:f[2],height:f[3]});p[A](d);e.paper.defs[A](p);Ne(l,{"clip-path":"url(#"+p.id+")"});e.clip=d}if(!c){var v=S.getElementById(l.getAttribute("clip-path")[J](/(^url\(#|\)$)/g,B));v&&v.parentNode.removeChild(v);Ne(l,{"clip-path":B});delete e.clip}break;case"path":if(e.type=="path"){Ne(l,{d:c?t.path=ge(c):"M0,0"})}break;case"width":q(l,a,c);if(t.fx){a="x";c=t.x}else{break}case"x":if(t.fx){c=-t.x-(t.width||0)}case"rx":if(a=="rx"&&e.type=="rect"){break}case"cx":i&&(a=="x"||a=="cx")&&(i[1]+=c-t[a]);q(l,a,c);e.pattern&&Le(e);break;case"height":q(l,a,c);if(t.fy){a="y";c=t.y}else{break}case"y":if(t.fy){c=-t.y-(t.height||0)}case"ry":if(a=="ry"&&e.type=="rect"){break}case"cy":i&&(a=="y"||a=="cy")&&(i[2]+=c-t[a]);q(l,a,c);e.pattern&&Le(e);break;case"r":if(e.type=="rect"){Ne(l,{rx:c,ry:c})}else{q(l,a,c)}break;case"src":if(e.type=="image"){l.setAttributeNS(e.paper.xlink,"href",c)}break;case"stroke-width":l.style.strokeWidth=c;q(l,a,c);if(t["stroke-dasharray"]){n(e,t["stroke-dasharray"])}break;case"stroke-dasharray":n(e,c);break;case"translation":var m=I(c)[U](P);m[0]=+m[0]||0;m[1]=+m[1]||0;if(i){i[1]+=m[0];i[2]+=m[1]}At.call(e,m[0],m[1]);break;case"scale":m=I(c)[U](P);e.scale(+m[0]||1,+m[1]||+m[0]||1,isNaN(R(m[2]))?null:+m[2],isNaN(R(m[3]))?null:+m[3]);break;case N:var g=I(c).match(O);if(g){p=Ne("pattern");var y=Ne("image");p.id=le();Ne(p,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});Ne(y,{x:0,y:0});y.setAttributeNS(e.paper.xlink,"href",g[1]);p[A](y);var b=S.createElement("img");b.style.cssText="position:absolute;left:-9999em;top-9999em";b.onload=function(){Ne(p,{width:this.offsetWidth,height:this.offsetHeight});Ne(y,{width:this.offsetWidth,height:this.offsetHeight});S.body.removeChild(this);e.paper.safari()};S.body[A](b);b.src=g[1];e.paper.defs[A](p);l.style.fill="url(#"+p.id+")";Ne(l,{fill:"url(#"+p.id+")"});e.pattern=p;e.pattern&&Le(e);break}var x=E.getRGB(c);if(!x.error){delete o.gradient;delete t.gradient;!E.is(t.opacity,"undefined")&&E.is(o.opacity,"undefined")&&Ne(l,{opacity:t.opacity});!E.is(t["fill-opacity"],"undefined")&&E.is(o["fill-opacity"],"undefined")&&Ne(l,{"fill-opacity":t["fill-opacity"]})}else if(({circle:1,ellipse:1}[C](e.type)||I(c).charAt()!="r")&&Fe(l,c,e.paper)){t.gradient=c;t.fill="none";break}x[C]("opacity")&&Ne(l,{"fill-opacity":x.opacity>1?x.opacity/100:x.opacity});case"stroke":x=E.getRGB(c);q(l,a,x.hex);a=="stroke"&&x[C]("opacity")&&Ne(l,{"stroke-opacity":x.opacity>1?x.opacity/100:x.opacity});break;case"gradient":({circle:1,ellipse:1}[C](e.type)||I(c).charAt()!="r")&&Fe(l,c,e.paper);break;case"opacity":if(t.gradient&&!t[C]("stroke-opacity")){Ne(l,{"stroke-opacity":c>1?c/100:c})}case"fill-opacity":if(t.gradient){var w=S.getElementById(l.getAttribute(N)[J](/^url\(#|\)$/g,B));if(w){var k=w.getElementsByTagName("stop");q(k[k[Z]-1],"stop-opacity",c)}break}default:a=="font-size"&&(c=z(c,10)+"px");var M=a[J](/(\-.)/g,function(e){return H.call(e.substring(1))});l.style[M]=c;q(l,a,c);break}}}Be(e,o);if(i){e.rotate(i.join(G))}else{R(r)&&e.rotate(r,true)}};var qe=1.2,Be=function(e,t){if(e.type!="text"||!(t[C]("text")||t[C]("font")||t[C]("font-size")||t[C]("x")||t[C]("y"))){return}var r=e.attrs,n=e.node,i=n.firstChild?z(S.defaultView.getComputedStyle(n.firstChild,B).getPropertyValue("font-size"),10):10;if(t[C]("text")){r.text=t.text;while(n.firstChild){n.removeChild(n.firstChild)}var a=I(t.text)[U]("\n");for(var o=0,s=a[Z];o<s;o++)if(a[o]){var l=Ne("tspan");o&&Ne(l,{dy:i*qe,x:r.x});l[A](S.createTextNode(a[o]));n[A](l)}}else{a=n.getElementsByTagName("tspan");for(o=0,s=a[Z];o<s;o++){o&&Ne(a[o],{dy:i*qe,x:r.x})}}Ne(n,{y:r.y});var c=e.getBBox(),u=r.y-(c.y+c.height/2);u&&E.is(u,"finite")&&Ne(n,{y:r.y+u})},Ge=function(e,t){var r=0,n=0;this[0]=e;this.id=E._oid++;this.node=e;e.raphael=this;this.paper=t;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!t.bottom&&(t.bottom=this);this.prev=t.top;t.top&&(t.top.next=this);t.top=this;this.next=null};var ze=Ge[l];Ge[l].rotate=function(e,t,r){if(this.removed){return this}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][W](G)}return this._.rt.deg}var n=this.getBBox();e=I(e)[U](P);if(e[Z]-1){t=R(e[1]);r=R(e[2])}e=R(e[0]);if(t!=null&&t!==false){this._.rt.deg=e}else{this._.rt.deg+=e}r==null&&(t=null);this._.rt.cx=t;this._.rt.cy=r;t=t==null?n.x+n.width/2:t;r=r==null?n.y+n.height/2:r;if(this._.rt.deg){this.transformations[0]=E.format("rotate({0} {1} {2})",this._.rt.deg,t,r);this.clip&&Ne(this.clip,{transform:E.format("rotate({0} {1} {2})",-this._.rt.deg,t,r)})}else{this.transformations[0]=B;this.clip&&Ne(this.clip,{transform:B})}Ne(this.node,{transform:this.transformations[W](G)});return this};Ge[l].hide=function(){!this.removed&&(this.node.style.display="none");return this};Ge[l].show=function(){!this.removed&&(this.node.style.display="");return this};Ge[l].remove=function(){if(this.removed){return}Te(this,this.paper);this.node.parentNode.removeChild(this.node);for(var e in this){delete this[e]}this.removed=true};Ge[l].getBBox=function(){if(this.removed){return this}if(this.type=="path"){return de(this.attrs.path)}if(this.node.style.display=="none"){this.show();var e=true}var t={};try{t=this.node.getBBox()}catch(e){}finally{t=t||{}}if(this.type=="text"){t={x:t.x,y:Infinity,width:0,height:0};for(var r=0,n=this.node.getNumberOfChars();r<n;r++){var i=this.node.getExtentOfChar(r);i.y<t.y&&(t.y=i.y);i.y+i.height-t.y>t.height&&(t.height=i.y+i.height-t.y);i.x+i.width-t.x>t.width&&(t.width=i.x+i.width-t.x)}}e&&this.hide();return t};Ge[l].attr=function(e,t){if(this.removed){return this}if(e==null){var r={};for(var n in this.attrs)if(this.attrs[C](n)){r[n]=this.attrs[n]}this._.rt.deg&&(r.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(r.scale=this.scale());r.gradient&&r.fill=="none"&&(r.fill=r.gradient)&&delete r.gradient;return r}if(t==null&&E.is(e,f)){if(e=="translation"){return At.call(this)}if(e=="rotation"){return this.rotate()}if(e=="scale"){return this.scale()}if(e==N&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[e]}if(t==null&&E.is(e,g)){var i={};for(var a=0,o=e.length;a<o;a++){i[e[a]]=this.attr(e[a])}return i}if(t!=null){var s={};s[e]=t}else if(e!=null&&E.is(e,"object")){s=e}for(var l in this.paper.customAttributes)if(this.paper.customAttributes[C](l)&&s[C](l)&&E.is(this.paper.customAttributes[l],"function")){var c=this.paper.customAttributes[l].apply(this,[][Y](s[l]));this.attrs[l]=s[l];for(var u in c)if(c[C](u)){s[u]=c[u]}}Re(this,s);return this};Ge[l].toFront=function(){if(this.removed){return this}this.node.parentNode[A](this.node);var e=this.paper;e.top!=this&&Ee(this,e);return this};Ge[l].toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);Pe(this,this.paper);var e=this.paper}return this};Ge[l].insertAfter=function(e){if(this.removed){return this}var t=e.node||e[e.length-1].node;if(t.nextSibling){t.parentNode.insertBefore(this.node,t.nextSibling)}else{t.parentNode[A](this.node)}Ce(this,e,this.paper);return this};Ge[l].insertBefore=function(e){if(this.removed){return this}var t=e.node||e[0].node;t.parentNode.insertBefore(this.node,t);Ie(this,e,this.paper);return this};Ge[l].blur=function(e){var t=this;if(+e!==0){var r=Ne("filter"),n=Ne("feGaussianBlur");t.attrs.blur=e;r.id=le();Ne(n,{stdDeviation:+e||1.5});r.appendChild(n);t.paper.defs.appendChild(r);t._blur=r;Ne(t.node,{filter:"url(#"+r.id+")"})}else{if(t._blur){t._blur.parentNode.removeChild(t._blur);delete t._blur;delete t.attrs.blur}t.node.removeAttribute("filter")}};var je=function(e,t,r,n){var i=Ne("circle");e.canvas&&e.canvas[A](i);var a=new Ge(i,e);a.attrs={cx:t,cy:r,r:n,fill:"none",stroke:"#000"};a.type="circle";Ne(i,a.attrs);return a},He=function(e,t,r,n,i,a){var o=Ne("rect");e.canvas&&e.canvas[A](o);var s=new Ge(o,e);s.attrs={x:t,y:r,width:n,height:i,r:a||0,rx:a||0,ry:a||0,fill:"none",stroke:"#000"};s.type="rect";Ne(o,s.attrs);return s},Ve=function(e,t,r,n,i){var a=Ne("ellipse");e.canvas&&e.canvas[A](a);var o=new Ge(a,e);o.attrs={cx:t,cy:r,rx:n,ry:i,fill:"none",stroke:"#000"};o.type="ellipse";Ne(a,o.attrs);return o},$e=function(e,t,r,n,i,a){var o=Ne("image");Ne(o,{x:r,y:n,width:i,height:a,preserveAspectRatio:"none"});o.setAttributeNS(e.xlink,"href",t);e.canvas&&e.canvas[A](o);var s=new Ge(o,e);s.attrs={x:r,y:n,width:i,height:a,src:t};s.type="image";return s},Ye=function(e,t,r,n){var i=Ne("text");Ne(i,{x:t,y:r,"text-anchor":"middle"});e.canvas&&e.canvas[A](i);var a=new Ge(i,e);a.attrs={x:t,y:r,"text-anchor":"middle",text:n,font:V.font,stroke:"none",fill:"#000"};a.type="text";Re(a,a.attrs);return a},Ue=function(e,t){this.width=e||this.width;this.height=t||this.height;q(this.canvas,"width",this.width);q(this.canvas,"height",this.height);return this},We=function(){var e=Se[m](0,arguments),t=e&&e.container,r=e.x,n=e.y,i=e.width,a=e.height;if(!t){throw new Error("SVG container not found.")}var o=Ne("svg");r=r||0;n=n||0;i=i||512;a=a||342;Ne(o,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:i,height:a});if(t==1){o.style.cssText="position:absolute;left:"+r+"px;top:"+n+"px";S.body[A](o)}else{if(t.firstChild){t.insertBefore(o,t.firstChild)}else{t[A](o)}}t=new u;t.width=i;t.height=a;t.canvas=o;Ae.call(t,t,E.fn);t.clear();return t};i.clear=function(){var e=this.canvas;while(e.firstChild){e.removeChild(e.firstChild)}this.bottom=this.top=null;(this.desc=Ne("desc"))[A](S.createTextNode("Created with Raphal"));e[A](this.desc);e[A](this.defs=Ne("defs"))};i.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this){this[e]=De(e)}}}if(E.vml){var Ze={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Xe=/([clmz]),?([^clmz]*)/gi,Ke=/ progid:\S+Blur\([^\)]+\)/g,Qe=/-?[^,\s-]+/g,Je=1e3+G+1e3,et=10,tt={path:1,rect:1},rt=function(e){var t=/[ahqstv]/gi,r=ge;I(e).match(t)&&(r=Me);t=/[clmz]/g;if(r==ge&&!I(e).match(t)){var n=I(e)[J](Xe,function(e,t,r){var n=[],i=T.call(t)=="m",a=Ze[t];r[J](Qe,function(e){if(i&&n[Z]==2){a+=n+Ze[t=="m"?"l":"L"];n=[]}n[b](L(e*et))});return a+n});return n}var i=r(e),a,o;n=[];for(var s=0,l=i[Z];s<l;s++){a=i[s];o=T.call(i[s][0]);o=="z"&&(o="x");for(var c=1,u=a[Z];c<u;c++){o+=L(a[c]*et)+(c!=u-1?",":B)}n[b](o)}return n[W](G)};E[y]=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};Oe=function(e,t){var r=it("group");r.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px";r.coordsize=t.coordsize;r.coordorigin=t.coordorigin;var n=it("shape"),i=n.style;i.width=t.width+"px";i.height=t.height+"px";n.coordsize=Je;n.coordorigin=t.coordorigin;r[A](n);var a=new Ge(n,r,t),o={fill:"none",stroke:"#000"};e&&(o.path=e);a.type="path";a.path=[];a.Path=B;Re(a,o);t.canvas[A](r);return a};Re=function(e,t){e.attrs=e.attrs||{};var r=e.node,n=e.attrs,i=r.style,a,o=(t.x!=n.x||t.y!=n.y||t.width!=n.width||t.height!=n.height||t.r!=n.r)&&e.type=="rect",s=e;for(var l in t)if(t[C](l)){n[l]=t[l]}if(o){n.path=nt(n.x,n.y,n.width,n.height,n.r);e.X=n.x;e.Y=n.y;e.W=n.width;e.H=n.height}t.href&&(r.href=t.href);t.title&&(r.title=t.title);t.target&&(r.target=t.target);t.cursor&&(i.cursor=t.cursor);"blur"in t&&e.blur(t.blur);if(t.path&&e.type=="path"||o){r.path=rt(n.path)}if(t.rotation!=null){e.rotate(t.rotation,true)}if(t.translation){a=I(t.translation)[U](P);At.call(e,a[0],a[1]);if(e._.rt.cx!=null){e._.rt.cx+=+a[0];e._.rt.cy+=+a[1];e.setBox(e.attrs,a[0],a[1])}}if(t.scale){a=I(t.scale)[U](P);e.scale(+a[0]||1,+a[1]||+a[0]||1,+a[2]||null,+a[3]||null)}if("clip-rect"in t){var c=I(t["clip-rect"])[U](P);if(c[Z]==4){c[2]=+c[2]+ +c[0];c[3]=+c[3]+ +c[1];var u=r.clipRect||S.createElement("div"),h=u.style,f=r.parentNode;h.clip=E.format("rect({1}px {2}px {3}px {0}px)",c);if(!r.clipRect){h.position="absolute";h.top=0;h.left=0;h.width=e.paper.width+"px";h.height=e.paper.height+"px";f.parentNode.insertBefore(u,f);u[A](f);r.clipRect=u}}if(!t["clip-rect"]){r.clipRect&&(r.clipRect.style.clip=B)}}if(e.type=="image"&&t.src){r.src=t.src}if(e.type=="image"&&t.opacity){r.filterOpacity=j+".Alpha(opacity="+t.opacity*100+")";i.filter=(r.filterMatrix||B)+(r.filterOpacity||B)}t.font&&(i.font=t.font);t["font-family"]&&(i.fontFamily='"'+t["font-family"][U](",")[0][J](/^['"]+|['"]+$/g,B)+'"');t["font-size"]&&(i.fontSize=t["font-size"]);t["font-weight"]&&(i.fontWeight=t["font-weight"]);t["font-style"]&&(i.fontStyle=t["font-style"]);if(t.opacity!=null||t["stroke-width"]!=null||t.fill!=null||t.stroke!=null||t["stroke-width"]!=null||t["stroke-opacity"]!=null||t["fill-opacity"]!=null||t["stroke-dasharray"]!=null||t["stroke-miterlimit"]!=null||t["stroke-linejoin"]!=null||t["stroke-linecap"]!=null){r=e.shape||r;var p=r.getElementsByTagName(N)&&r.getElementsByTagName(N)[0],d=false;!p&&(d=p=it(N));if("fill-opacity"in t||"opacity"in t){var v=((+n["fill-opacity"]+1||2)-1)*((+n.opacity+1||2)-1)*((+E.getRGB(t.fill).o+1||2)-1);v=M(k(v,0),1);p.opacity=v}t.fill&&(p.on=true);if(p.on==null||t.fill=="none"){p.on=false}if(p.on&&t.fill){var m=t.fill.match(O);if(m){p.src=m[1];p.type="tile"}else{p.color=E.getRGB(t.fill).hex;p.src=B;p.type="solid";if(E.getRGB(t.fill).error&&(s.type in{circle:1,ellipse:1}||I(t.fill).charAt()!="r")&&Fe(s,t.fill)){n.fill="none";n.gradient=t.fill}}}d&&r[A](p);var g=r.getElementsByTagName("stroke")&&r.getElementsByTagName("stroke")[0],y=false;!g&&(y=g=it("stroke"));if(t.stroke&&t.stroke!="none"||t["stroke-width"]||t["stroke-opacity"]!=null||t["stroke-dasharray"]||t["stroke-miterlimit"]||t["stroke-linejoin"]||t["stroke-linecap"]){g.on=true}(t.stroke=="none"||g.on==null||t.stroke==0||t["stroke-width"]==0)&&(g.on=false);var b=E.getRGB(t.stroke);g.on&&t.stroke&&(g.color=b.hex);v=((+n["stroke-opacity"]+1||2)-1)*((+n.opacity+1||2)-1)*((+b.o+1||2)-1);var x=(R(t["stroke-width"])||1)*.75;v=M(k(v,0),1);t["stroke-width"]==null&&(x=n["stroke-width"]);t["stroke-width"]&&(g.weight=x);x&&x<1&&(v*=x)&&(g.weight=1);g.opacity=v;t["stroke-linejoin"]&&(g.joinstyle=t["stroke-linejoin"]||"miter");g.miterlimit=t["stroke-miterlimit"]||8;t["stroke-linecap"]&&(g.endcap=t["stroke-linecap"]=="butt"?"flat":t["stroke-linecap"]=="square"?"square":"round");if(t["stroke-dasharray"]){var w={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};g.dashstyle=w[C](t["stroke-dasharray"])?w[t["stroke-dasharray"]]:B}y&&r[A](g)}if(s.type=="text"){i=s.paper.span.style;n.font&&(i.font=n.font);n["font-family"]&&(i.fontFamily=n["font-family"]);n["font-size"]&&(i.fontSize=n["font-size"]);n["font-weight"]&&(i.fontWeight=n["font-weight"]);n["font-style"]&&(i.fontStyle=n["font-style"]);s.node.string&&(s.paper.span.innerHTML=I(s.node.string)[J](/</g,"&#60;")[J](/&/g,"&#38;")[J](/\n/g,"<br>"));s.W=n.w=s.paper.span.offsetWidth;s.H=n.h=s.paper.span.offsetHeight;s.X=n.x;s.Y=n.y+L(s.H/2);switch(n["text-anchor"]){case"start":s.node.style["v-text-align"]="left";s.bbx=L(s.W/2);break;case"end":s.node.style["v-text-align"]="right";s.bbx=-L(s.W/2);break;default:s.node.style["v-text-align"]="center";break}}};Fe=function(e,t){e.attrs=e.attrs||{};var r=e.attrs,n,i="linear",a=".5 .5";e.attrs.gradient=t;t=I(t)[J](ie,function(e,t,r){i="radial";if(t&&r){t=R(t);r=R(r);w(t-.5,2)+w(r-.5,2)>.25&&(r=X.sqrt(.25-w(t-.5,2))*((r>.5)*2-1)+.5);a=t+G+r}return B});t=t[U](/\s*\-\s*/);if(i=="linear"){var o=t.shift();o=-R(o);if(isNaN(o)){return null}}var s=_e(t);if(!s){return null}e=e.shape||e.node;n=e.getElementsByTagName(N)[0]||it(N);!n.parentNode&&e.appendChild(n);if(s[Z]){n.on=true;n.method="none";n.color=s[0].color;n.color2=s[s[Z]-1].color;var l=[];for(var c=0,u=s[Z];c<u;c++){s[c].offset&&l[b](s[c].offset+G+s[c].color)}n.colors&&(n.colors.value=l[Z]?l[W]():"0% "+n.color);if(i=="radial"){n.type="gradientradial";n.focus="100%";n.focussize=a;n.focusposition=a}else{n.type="gradient";n.angle=(270-o)%360}}return 1};Ge=function(e,t,r){var n=0,i=0,a=0,o=1;this[0]=e;this.id=E._oid++;this.node=e;e.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=t;this.paper=r;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!r.bottom&&(r.bottom=this);this.prev=r.top;r.top&&(r.top.next=this);r.top=this;this.next=null};ze=Ge[l];ze.rotate=function(e,t,r){if(this.removed){return this}if(e==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy][W](G)}return this._.rt.deg}e=I(e)[U](P);if(e[Z]-1){t=R(e[1]);r=R(e[2])}e=R(e[0]);if(t!=null){this._.rt.deg=e}else{this._.rt.deg+=e}r==null&&(t=null);this._.rt.cx=t;this._.rt.cy=r;this.setBox(this.attrs,t,r);this.Group.style.rotation=this._.rt.deg;return this};ze.setBox=function(e,t,r){if(this.removed){return this}var n=this.Group.style,i=this.shape&&this.shape.style||this.node.style;e=e||{};for(var a in e)if(e[C](a)){this.attrs[a]=e[a]}t=t||this._.rt.cx;r=r||this._.rt.cy;var o=this.attrs,s,l,c,u;switch(this.type){case"circle":s=o.cx-o.r;l=o.cy-o.r;c=u=o.r*2;break;case"ellipse":s=o.cx-o.rx;l=o.cy-o.ry;c=o.rx*2;u=o.ry*2;break;case"image":s=+o.x;l=+o.y;c=o.width||0;u=o.height||0;break;case"text":this.textpath.v=["m",L(o.x),", ",L(o.y-2),"l",L(o.x)+1,", ",L(o.y-2)][W](B);s=o.x-L(this.W/2);l=o.y-this.H/2;c=this.W;u=this.H;break;case"rect":case"path":if(!this.attrs.path){s=0;l=0;c=this.paper.width;u=this.paper.height}else{var h=de(this.attrs.path);s=h.x;l=h.y;c=h.width;u=h.height}break;default:s=0;l=0;c=this.paper.width;u=this.paper.height;break}t=t==null?s+c/2:t;r=r==null?l+u/2:r;var f=t-this.paper.width/2,p=r-this.paper.height/2,d;n.left!=(d=f+"px")&&(n.left=d);n.top!=(d=p+"px")&&(n.top=d);this.X=tt[C](this.type)?-f:s;this.Y=tt[C](this.type)?-p:l;this.W=c;this.H=u;if(tt[C](this.type)){i.left!=(d=-f*et+"px")&&(i.left=d);i.top!=(d=-p*et+"px")&&(i.top=d)}else if(this.type=="text"){i.left!=(d=-f+"px")&&(i.left=d);i.top!=(d=-p+"px")&&(i.top=d)}else{n.width!=(d=this.paper.width+"px")&&(n.width=d);n.height!=(d=this.paper.height+"px")&&(n.height=d);i.left!=(d=s-f+"px")&&(i.left=d);i.top!=(d=l-p+"px")&&(i.top=d);i.width!=(d=c+"px")&&(i.width=d);i.height!=(d=u+"px")&&(i.height=d)}};ze.hide=function(){!this.removed&&(this.Group.style.display="none");return this};ze.show=function(){!this.removed&&(this.Group.style.display="block");return this};ze.getBBox=function(){if(this.removed){return this}if(tt[C](this.type)){return de(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};ze.remove=function(){if(this.removed){return}Te(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this){delete this[e]}this.removed=true};ze.attr=function(e,t){if(this.removed){return this}if(e==null){var r={};for(var n in this.attrs)if(this.attrs[C](n)){r[n]=this.attrs[n]}this._.rt.deg&&(r.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(r.scale=this.scale());r.gradient&&r.fill=="none"&&(r.fill=r.gradient)&&delete r.gradient;return r}if(t==null&&E.is(e,"string")){if(e=="translation"){return At.call(this)}if(e=="rotation"){return this.rotate()}if(e=="scale"){return this.scale()}if(e==N&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}return this.attrs[e]}if(this.attrs&&t==null&&E.is(e,g)){var i,a={};for(n=0,i=e[Z];n<i;n++){a[e[n]]=this.attr(e[n])}return a}var o;if(t!=null){o={};o[e]=t}t==null&&E.is(e,"object")&&(o=e);if(o){for(var s in this.paper.customAttributes)if(this.paper.customAttributes[C](s)&&o[C](s)&&E.is(this.paper.customAttributes[s],"function")){var l=this.paper.customAttributes[s].apply(this,[][Y](o[s]));this.attrs[s]=o[s];for(var c in l)if(l[C](c)){o[c]=l[c]}}if(o.text&&this.type=="text"){this.node.string=o.text}Re(this,o);if(o.gradient&&({circle:1,ellipse:1}[C](this.type)||I(o.gradient).charAt()!="r")){Fe(this,o.gradient)}(!tt[C](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};ze.toFront=function(){!this.removed&&this.Group.parentNode[A](this.Group);this.paper.top!=this&&Ee(this,this.paper);return this};ze.toBack=function(){if(this.removed){return this}if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);Pe(this,this.paper)}return this};ze.insertAfter=function(e){if(this.removed){return this}if(e.constructor==Pt){e=e[e.length-1]}if(e.Group.nextSibling){e.Group.parentNode.insertBefore(this.Group,e.Group.nextSibling)}else{e.Group.parentNode[A](this.Group)}Ce(this,e,this.paper);return this};ze.insertBefore=function(e){if(this.removed){return this}if(e.constructor==Pt){e=e[0]}e.Group.parentNode.insertBefore(this.Group,e.Group);Ie(this,e,this.paper);return this};ze.blur=function(e){var t=this.node.runtimeStyle,r=t.filter;r=r.replace(Ke,B);if(+e!==0){this.attrs.blur=e;t.filter=r+G+j+".Blur(pixelradius="+(+e||1.5)+")";t.margin=E.format("-{0}px 0 0 -{0}px",L(+e||1.5))}else{t.filter=r;t.margin=0;delete this.attrs.blur}};je=function(e,t,r,n){var i=it("group"),a=it("oval"),o=a.style;i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";i.coordsize=Je;i.coordorigin=e.coordorigin;i[A](a);var s=new Ge(a,i,e);s.type="circle";Re(s,{stroke:"#000",fill:"none"});s.attrs.cx=t;s.attrs.cy=r;s.attrs.r=n;s.setBox({x:t-n,y:r-n,width:n*2,height:n*2});e.canvas[A](i);return s};function nt(e,t,r,n,i){if(i){return E.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",e+i,t,r-i*2,i,-i,n-i*2,i*2-r,i*2-n)}else{return E.format("M{0},{1}l{2},0,0,{3},{4},0z",e,t,r,n,-r)}}He=function(e,t,r,n,i,a){var o=nt(t,r,n,i,a),s=e.path(o),l=s.attrs;s.X=l.x=t;s.Y=l.y=r;s.W=l.width=n;s.H=l.height=i;l.r=a;l.path=o;s.type="rect";return s};Ve=function(e,t,r,n,i){var a=it("group"),o=it("oval"),s=o.style;a.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";a.coordsize=Je;a.coordorigin=e.coordorigin;a[A](o);var l=new Ge(o,a,e);l.type="ellipse";Re(l,{stroke:"#000"});l.attrs.cx=t;l.attrs.cy=r;l.attrs.rx=n;l.attrs.ry=i;l.setBox({x:t-n,y:r-i,width:n*2,height:i*2});e.canvas[A](a);return l};$e=function(e,t,r,n,i,a){var o=it("group"),s=it("image");o.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";o.coordsize=Je;o.coordorigin=e.coordorigin;s.src=t;o[A](s);var l=new Ge(s,o,e);l.type="image";l.attrs.src=t;l.attrs.x=r;l.attrs.y=n;l.attrs.w=i;l.attrs.h=a;l.setBox({x:r,y:n,width:i,height:a});e.canvas[A](o);return l};Ye=function(e,t,r,n){var i=it("group"),a=it("shape"),o=a.style,s=it("path"),l=s.style,c=it("textpath");i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px";i.coordsize=Je;i.coordorigin=e.coordorigin;s.v=E.format("m{0},{1}l{2},{1}",L(t*10),L(r*10),L(t*10)+1);s.textpathok=true;o.width=e.width;o.height=e.height;c.string=I(n);c.on=true;a[A](c);a[A](s);i[A](a);var u=new Ge(c,i,e);u.shape=a;u.textpath=s;u.type="text";u.attrs.text=n;u.attrs.x=t;u.attrs.y=r;u.attrs.w=1;u.attrs.h=1;Re(u,{font:V.font,stroke:"none",fill:"#000"});u.setBox();e.canvas[A](i);return u};Ue=function(e,t){var r=this.canvas.style;e==+e&&(e+="px");t==+t&&(t+="px");r.width=e;r.height=t;r.clip="rect(0 "+e+" "+t+" 0)";return this};var it;S.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!S.namespaces.rvml&&S.namespaces.add("rvml","urn:schemas-microsoft-com:vml");it=function(e){return S.createElement("<rvml:"+e+' class="rvml">')}}catch(e){it=function(e){return S.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}We=function(){var e=Se[m](0,arguments),t=e.container,r=e.height,n,i=e.width,a=e.x,o=e.y;if(!t){throw new Error("VML container not found.")}var s=new u,l=s.canvas=S.createElement("div"),c=l.style;a=a||0;o=o||0;i=i||512;r=r||342;i==+i&&(i+="px");r==+r&&(r+="px");s.width=1e3;s.height=1e3;s.coordsize=et*1e3+G+et*1e3;s.coordorigin="0 0";s.span=S.createElement("span");s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";l[A](s.span);c.cssText=E.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r);if(t==1){S.body[A](l);c.left=a+"px";c.top=o+"px";c.position="absolute"}else{if(t.firstChild){t.insertBefore(l,t.firstChild)}else{t[A](l)}}Ae.call(s,s,E.fn);return s};i.clear=function(){this.canvas.innerHTML=B;this.span=S.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas[A](this.span);this.bottom=this.top=null};i.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var e in this){this[e]=De(e)}return true}}var at=navigator.userAgent.match(/Version\/(.*?)\s/);if(navigator.vendor=="Apple Computer, Inc."&&(at&&at[1]<4||navigator.platform.slice(0,2)=="iP")){i.safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});s.setTimeout(function(){e.remove()})}}else{i.safari=function(){}}var ot=function(){this.returnValue=false},st=function(){return this.originalEvent.preventDefault()},lt=function(){this.cancelBubble=true},ct=function(){return this.originalEvent.stopPropagation()},ut=function(){if(S.addEventListener){return function(i,a,o,s){var e=c&&h[a]?h[a]:a;var t=function(e){if(c&&h[C](a)){for(var t=0,r=e.targetTouches&&e.targetTouches.length;t<r;t++){if(e.targetTouches[t].target==i){var n=e;e=e.targetTouches[t];e.originalEvent=n;e.preventDefault=st;e.stopPropagation=ct;break}}}return o.call(s,e)};i.addEventListener(e,t,false);return function(){i.removeEventListener(e,t,false);return true}}}else if(S.attachEvent){return function(e,t,r,n){var i=function(e){e=e||s.event;e.preventDefault=e.preventDefault||ot;e.stopPropagation=e.stopPropagation||lt;return r.call(n,e)};e.attachEvent("on"+t,i);var a=function(){e.detachEvent("on"+t,i);return true};return a}}}(),ht=[],ft=function(e){var t=e.clientX,r=e.clientY,n=S.documentElement.scrollTop||S.body.scrollTop,i=S.documentElement.scrollLeft||S.body.scrollLeft,a,o=ht.length;while(o--){a=ht[o];if(c){var s=e.touches.length,l;while(s--){l=e.touches[s];if(l.identifier==a.el._drag.id){t=l.clientX;r=l.clientY;(e.originalEvent?e.originalEvent:e).preventDefault();break}}}else{e.preventDefault()}t+=i;r+=n;a.move&&a.move.call(a.move_scope||a.el,t-a.el._drag.x,r-a.el._drag.y,t,r,e)}},pt=function(e){E.unmousemove(ft).unmouseup(pt);var t=ht.length,r;while(t--){r=ht[t];r.el._drag={};r.end&&r.end.call(r.end_scope||r.start_scope||r.move_scope||r.el,e)}ht=[]};for(var dt=t[Z];dt--;){(function(n){E[n]=Ge[l][n]=function(e,t){if(E.is(e,"function")){this.events=this.events||[];this.events.push({name:n,f:e,unbind:ut(this.shape||this.node||S,n,e,t||this)})}return this};E["un"+n]=Ge[l]["un"+n]=function(e){var t=this.events,r=t[Z];while(r--)if(t[r].name==n&&t[r].f==e){t[r].unbind();t.splice(r,1);!t.length&&delete this.events;return this}return this}})(t[dt])}ze.hover=function(e,t,r,n){return this.mouseover(e,r).mouseout(t,n||r)};ze.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};ze.drag=function(n,i,a,o,s,l){this._drag={};this.mousedown(function(e){(e.originalEvent||e).preventDefault();var t=S.documentElement.scrollTop||S.body.scrollTop,r=S.documentElement.scrollLeft||S.body.scrollLeft;this._drag.x=e.clientX+r;this._drag.y=e.clientY+t;this._drag.id=e.identifier;i&&i.call(s||o||this,e.clientX+r,e.clientY+t,e);!ht.length&&E.mousemove(ft).mouseup(pt);ht.push({el:this,move:n,end:a,move_scope:o,start_scope:s,end_scope:l})});return this};ze.undrag=function(e,t,r){var n=ht.length;while(n--){ht[n].el==this&&(ht[n].move==e&&ht[n].end==r)&&ht.splice(n++,1)}!ht.length&&E.unmousemove(ft).unmouseup(pt)};i.circle=function(e,t,r){return je(this,e||0,t||0,r||0)};i.rect=function(e,t,r,n,i){return He(this,e||0,t||0,r||0,n||0,i||0)};i.ellipse=function(e,t,r,n){return Ve(this,e||0,t||0,r||0,n||0)};i.path=function(e){e&&!E.is(e,f)&&!E.is(e[0],g)&&(e+=B);return Oe(E.format[m](E,arguments),this)};i.image=function(e,t,r,n,i){return $e(this,e||"about:blank",t||0,r||0,n||0,i||0)};i.text=function(e,t,r){return Ye(this,e||0,t||0,I(r))};i.set=function(e){arguments[Z]>1&&(e=Array[l].splice.call(arguments,0,arguments[Z]));return new Pt(e)};i.setSize=Ue;i.top=i.bottom=null;i.raphael=E;function vt(){return this.x+G+this.y}ze.resetScale=function(){if(this.removed){return this}this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};ze.scale=function(e,t,r,n){if(this.removed){return this}if(e==null&&t==null){return{x:this._.sx,y:this._.sy,toString:vt}}t=t||e;!+t&&(t=e);var i,a,o,s,l=this.attrs;if(e!=0){var c=this.getBBox(),u=c.x+c.width/2,h=c.y+c.height/2,f=K(e/this._.sx),p=K(t/this._.sy);r=+r||r==0?r:u;n=+n||n==0?n:h;var d=this._.sx>0,v=this._.sy>0,m=~~(e/K(e)),g=~~(t/K(t)),y=f*m,b=p*g,x=this.node.style,w=r+K(u-r)*y*(u>r==d?1:-1),k=n+K(h-n)*b*(h>n==v?1:-1),M=e*m>t*g?p:f;switch(this.type){case"rect":case"image":var S=l.width*f,A=l.height*p;this.attr({height:A,r:l.r*M,width:S,x:w-S/2,y:k-A/2});break;case"circle":case"ellipse":this.attr({rx:l.rx*f,ry:l.ry*p,r:l.r*M,cx:w,cy:k});break;case"text":this.attr({x:w,y:k});break;case"path":var T=me(l.path),E=true,P=d?y:f,C=v?b:p;for(var I=0,D=T[Z];I<D;I++){var N=T[I],O=H.call(N[0]);if(O=="M"&&E){continue}else{E=false}if(O=="A"){N[T[I][Z]-2]*=P;N[T[I][Z]-1]*=C;N[1]*=f;N[2]*=p;N[5]=+(m+g?!!+N[5]:!+N[5])}else if(O=="H"){for(var F=1,L=N[Z];F<L;F++){N[F]*=P}}else if(O=="V"){for(F=1,L=N[Z];F<L;F++){N[F]*=C}}else{for(F=1,L=N[Z];F<L;F++){N[F]*=F%2?P:C}}}var R=de(T);i=w-R.x-R.width/2;a=k-R.y-R.height/2;T[0][1]+=i;T[0][2]+=a;this.attr({path:T});break}if(this.type in{text:1,image:1}&&(m!=1||g!=1)){if(this.transformations){this.transformations[2]="scale("[Y](m,",",g,")");q(this.node,"transform",this.transformations[W](G));i=m==-1?-l.x-(S||0):l.x;a=g==-1?-l.y-(A||0):l.y;this.attr({x:i,y:a});l.fx=m-1;l.fy=g-1}else{this.node.filterMatrix=j+".Matrix(M11="[Y](m,", M12=0, M21=0, M22=",g,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");x.filter=(this.node.filterMatrix||B)+(this.node.filterOpacity||B)}}else{if(this.transformations){this.transformations[2]=B;q(this.node,"transform",this.transformations[W](G));l.fx=0;l.fy=0}else{this.node.filterMatrix=B;x.filter=(this.node.filterMatrix||B)+(this.node.filterOpacity||B)}}l.scale=[e,t,r,n][W](G);this._.sx=e;this._.sy=t}return this};ze.clone=function(){if(this.removed){return null}var e=this.attr();delete e.scale;delete e.translation;return this.paper[this.type]().attr(e)};var mt={},gt=function(e,t,r,n,i,a,o,s,l){if(e===r&&t===n&&i===o&&a==s){var c=o-e,u=s-t;var h=Math.sqrt(c*c+u*u);if(l==null){return h}else{var f=l/h;return{start:{x:e,y:t},m:{x:e,y:t},n:{x:o,y:s},end:{x:o,y:s},x:e+f*c,y:t+f*u,alpha:90-X.atan(c/u)*180/Q}}}var p=0,d=100,v=[e,t,r,n,i,a,o,s].join(),m=mt[v],g,y;!m&&(mt[v]=m={data:[]});m.timer&&clearTimeout(m.timer);m.timer=setTimeout(function(){delete mt[v]},2e3);if(l!=null){var b=gt(e,t,r,n,i,a,o,s);d=~~b*10}for(var x=0;x<d+1;x++){if(m.data[l]>x){y=m.data[x*d]}else{y=E.findDotsAtSegment(e,t,r,n,i,a,o,s,x/d);m.data[x]=y}x&&(p+=w(w(g.x-y.x,2)+w(g.y-y.y,2),.5));if(l!=null&&p>=l){return y}g=y}if(l==null){return p}},yt=function(p,d){return function(e,t,r){e=Me(e);var n,i,a,o,s="",l={},c,u=0;for(var h=0,f=e.length;h<f;h++){a=e[h];if(a[0]=="M"){n=+a[1];i=+a[2]}else{o=gt(n,i,a[1],a[2],a[3],a[4],a[5],a[6]);if(u+o>t){if(d&&!l.start){c=gt(n,i,a[1],a[2],a[3],a[4],a[5],a[6],t-u);s+=["C",c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y];if(r){return s}l.start=s;s=["M",c.x,c.y+"C",c.n.x,c.n.y,c.end.x,c.end.y,a[5],a[6]][W]();u+=o;n=+a[5];i=+a[6];continue}if(!p&&!d){c=gt(n,i,a[1],a[2],a[3],a[4],a[5],a[6],t-u);return{x:c.x,y:c.y,alpha:c.alpha}}}u+=o;n=+a[5];i=+a[6]}s+=a}l.end=s;c=p?u:d?l:E.findDotsAtSegment(n,i,a[1],a[2],a[3],a[4],a[5],a[6],1);c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha});return c}};var bt=yt(1),xt=yt(),wt=yt(0,1);ze.getTotalLength=function(){if(this.type!="path"){return}if(this.node.getTotalLength){return this.node.getTotalLength()}return bt(this.attrs.path)};ze.getPointAtLength=function(e){if(this.type!="path"){return}return xt(this.attrs.path,e)};ze.getSubpath=function(e,t){if(this.type!="path"){return}if(K(this.getTotalLength()-t)<"1e-6"){return wt(this.attrs.path,e).end}var r=wt(this.attrs.path,t,1);return e?wt(r,e).end:r};E.easing_formulas={linear:function(e){return e},"<":function(e){return w(e,3)},">":function(e){return w(e-1,3)+1},"<>":function(e){e=e*2;if(e<1){return w(e,3)/2}e-=2;return(w(e,3)+2)/2},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e=e-1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){if(e==0||e==1){return e}var t=.3,r=t/4;return w(2,-10*e)*X.sin((e-r)*(2*Q)/t)+1},bounce:function(e){var t=7.5625,r=2.75,n;if(e<1/r){n=t*e*e}else{if(e<2/r){e-=1.5/r;n=t*e*e+.75}else{if(e<2.5/r){e-=2.25/r;n=t*e*e+.9375}else{e-=2.625/r;n=t*e*e+.984375}}}return n}};var kt=[],Mt=function(){var e=+new Date;for(var t=0;t<kt[Z];t++){var r=kt[t];if(r.stop||r.el.removed){continue}var n=e-r.start,i=r.ms,a=r.easing,o=r.from,s=r.diff,l=r.to,c=r.t,u=r.el,h={},f;if(n<i){var p=a(n/i);for(var d in o)if(o[C](d)){switch($[d]){case"along":f=p*i*s[d];l.back&&(f=l.len-f);var v=xt(l[d],f);u.translate(s.sx-s.x||0,s.sy-s.y||0);s.x=v.x;s.y=v.y;u.translate(v.x-s.sx,v.y-s.sy);l.rot&&u.rotate(s.r+v.alpha,v.x,v.y);break;case D:f=+o[d]+p*i*s[d];break;case"colour":f="rgb("+[St(L(o[d].r+p*i*s[d].r)),St(L(o[d].g+p*i*s[d].g)),St(L(o[d].b+p*i*s[d].b))][W](",")+")";break;case"path":f=[];for(var m=0,g=o[d][Z];m<g;m++){f[m]=[o[d][m][0]];for(var y=1,b=o[d][m][Z];y<b;y++){f[m][y]=+o[d][m][y]+p*i*s[d][m][y]}f[m]=f[m][W](G)}f=f[W](G);break;case"csv":switch(d){case"translation":var x=p*i*s[d][0]-c.x,w=p*i*s[d][1]-c.y;c.x+=x;c.y+=w;f=x+G+w;break;case"rotation":f=+o[d][0]+p*i*s[d][0];o[d][1]&&(f+=","+o[d][1]+","+o[d][2]);break;case"scale":f=[+o[d][0]+p*i*s[d][0],+o[d][1]+p*i*s[d][1],2 in l[d]?l[d][2]:B,3 in l[d]?l[d][3]:B][W](G);break;case"clip-rect":f=[];m=4;while(m--){f[m]=+o[d][m]+p*i*s[d][m]}break}break;default:var k=[].concat(o[d]);f=[];m=u.paper.customAttributes[d].length;while(m--){f[m]=+k[m]+p*i*s[d][m]}break}h[d]=f}u.attr(h);u._run&&u._run.call(u)}else{if(l.along){v=xt(l.along,l.len*!l.back);u.translate(s.sx-(s.x||0)+v.x-s.sx,s.sy-(s.y||0)+v.y-s.sy);l.rot&&u.rotate(s.r+v.alpha,v.x,v.y)}(c.x||c.y)&&u.translate(-c.x,-c.y);l.scale&&(l.scale+=B);u.attr(l);kt.splice(t--,1)}}E.svg&&u&&u.paper&&u.paper.safari();kt[Z]&&setTimeout(Mt)},_t=function(e,t,r,n,i){var a=r-n;t.timeouts.push(setTimeout(function(){E.is(i,"function")&&i.call(t);t.animate(e,a,e.easing)},n))},St=function(e){return k(M(e,255),0)},At=function(e,t){if(e==null){return{x:this._.tx,y:this._.ty,toString:vt}}this._.tx+=+e;this._.ty+=+t;switch(this.type){case"circle":case"ellipse":this.attr({cx:+e+this.attrs.cx,cy:+t+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+e+this.attrs.x,y:+t+this.attrs.y});break;case"path":var r=me(this.attrs.path);r[0][1]+=+e;r[0][2]+=+t;this.attr({path:r});break}return this};ze.animateWith=function(e,t,r,n,i){for(var a=0,o=kt.length;a<o;a++){if(kt[a].el.id==e.id){t.start=kt[a].start}}return this.animate(t,r,n,i)};ze.animateAlong=Tt();ze.animateAlongBack=Tt(1);function Tt(a){return function(e,t,r,n){var i={back:a};E.is(r,"function")?n=r:i.rot=r;e&&e.constructor==Ge&&(e=e.attrs.path);e&&(i.along=e);return this.animate(i,t,n)}}function Et(e,t,r,n,i,a){var l=3*t,c=3*(n-t)-l,u=1-l-c,o=3*r,s=3*(i-r)-o,h=1-o-s;function f(e){return((u*e+c)*e+l)*e}function p(e,t){var r=d(e,t);return((h*r+s)*r+o)*r}function d(e,t){var r,n,i,a,o,s;for(i=e,s=0;s<8;s++){a=f(i)-e;if(K(a)<t){return i}o=(3*u*i+2*c)*i+l;if(K(o)<1e-6){break}i=i-a/o}r=0;n=1;i=e;if(i<r){return r}if(i>n){return n}while(r<n){a=f(i);if(K(a-e)<t){return i}if(e>a){r=i}else{n=i}i=(n-r)/2+r}return i}return p(e,1/(200*a))}ze.onAnimation=function(e){this._run=e||0;return this};ze.animate=function(e,t,r,n){var i=this;i.timeouts=i.timeouts||[];if(E.is(r,"function")||!r){n=r||null}if(i.removed){n&&n.call(i);return i}var a={},o={},s=false,l={};for(var c in e)if(e[C](c)){if($[C](c)||i.paper.customAttributes[C](c)){s=true;a[c]=i.attr(c);a[c]==null&&(a[c]=V[c]);o[c]=e[c];switch($[c]){case"along":var u=bt(e[c]);var h=xt(e[c],u*!!e.back);var f=i.getBBox();l[c]=u/t;l.tx=f.x;l.ty=f.y;l.sx=h.x;l.sy=h.y;o.rot=e.rot;o.back=e.back;o.len=u;e.rot&&(l.r=R(i.rotate())||0);break;case D:l[c]=(o[c]-a[c])/t;break;case"colour":a[c]=E.getRGB(a[c]);var p=E.getRGB(o[c]);l[c]={r:(p.r-a[c].r)/t,g:(p.g-a[c].g)/t,b:(p.b-a[c].b)/t};break;case"path":var d=Me(a[c],o[c]);a[c]=d[0];var v=d[1];l[c]=[];for(var m=0,g=a[c][Z];m<g;m++){l[c][m]=[0];for(var y=1,b=a[c][m][Z];y<b;y++){l[c][m][y]=(v[m][y]-a[c][m][y])/t}}break;case"csv":var x=I(e[c])[U](P),w=I(a[c])[U](P);switch(c){case"translation":a[c]=[0,0];l[c]=[x[0]/t,x[1]/t];break;case"rotation":a[c]=w[1]==x[1]&&w[2]==x[2]?w:[0,x[1],x[2]];l[c]=[(x[0]-a[c][0])/t,0,0];break;case"scale":e[c]=x;a[c]=I(a[c])[U](P);l[c]=[(x[0]-a[c][0])/t,(x[1]-a[c][1])/t,0,0];break;case"clip-rect":a[c]=I(a[c])[U](P);l[c]=[];m=4;while(m--){l[c][m]=(x[m]-a[c][m])/t}break}o[c]=x;break;default:x=[].concat(e[c]);w=[].concat(a[c]);l[c]=[];m=i.paper.customAttributes[c][Z];while(m--){l[c][m]=((x[m]||0)-(w[m]||0))/t}break}}}if(!s){var k=[],M;for(var S in e)if(e[C](S)&&ee.test(S)){c={value:e[S]};S=="from"&&(S=0);S=="to"&&(S=100);c.key=z(S,10);k.push(c)}k.sort(ae);if(k[0].key){k.unshift({key:0,value:i.attrs})}for(m=0,g=k[Z];m<g;m++){_t(k[m].value,i,t/100*k[m].key,t/100*(k[m-1]&&k[m-1].key||0),k[m-1]&&k[m-1].value.callback)}M=k[k[Z]-1].value.callback;if(M){i.timeouts.push(setTimeout(function(){M.call(i)},t))}}else{var A=E.easing_formulas[r];if(!A){A=I(r).match(F);if(A&&A[Z]==5){var T=A;A=function(e){return Et(e,+T[1],+T[2],+T[3],+T[4],t)}}else{A=function(e){return e}}}kt.push({start:e.start||+new Date,ms:t,easing:A,from:a,diff:l,to:o,el:i,t:{x:0,y:0}});E.is(n,"function")&&(i._ac=setTimeout(function(){n.call(i)},t));kt[Z]==1&&setTimeout(Mt)}return this};ze.stop=function(){for(var e=0;e<kt.length;e++){kt[e].el.id==this.id&&kt.splice(e--,1)}for(e=0,ii=this.timeouts&&this.timeouts.length;e<ii;e++){clearTimeout(this.timeouts[e])}this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};ze.translate=function(e,t){return this.attr({translation:e+" "+t})};ze[y]=function(){return"Raphals object"};E.ae=kt;var Pt=function(e){this.items=[];this[Z]=0;this.type="set";if(e){for(var t=0,r=e[Z];t<r;t++){if(e[t]&&(e[t].constructor==Ge||e[t].constructor==Pt)){this[this.items[Z]]=this.items[this.items[Z]]=e[t];this[Z]++}}}};Pt[l][b]=function(){var e,t;for(var r=0,n=arguments[Z];r<n;r++){e=arguments[r];if(e&&(e.constructor==Ge||e.constructor==Pt)){t=this.items[Z];this[t]=this.items[t]=e;this[Z]++}}return this};Pt[l].pop=function(){delete this[this[Z]--];return this.items.pop()};for(var Ct in ze)if(ze[C](Ct)){Pt[l][Ct]=function(r){return function(){for(var e=0,t=this.items[Z];e<t;e++){this.items[e][r][m](this.items[e],arguments)}return this}}(Ct)}Pt[l].attr=function(e,t){if(e&&E.is(e,g)&&E.is(e[0],"object")){for(var r=0,n=e[Z];r<n;r++){this.items[r].attr(e[r])}}else{for(var i=0,a=this.items[Z];i<a;i++){this.items[i].attr(e,t)}}return this};Pt[l].animate=function(e,t,r,n){(E.is(r,"function")||!r)&&(n=r||null);var i=this.items[Z],a=i,o,s=this,l;n&&(l=function(){!--i&&n.call(s)});r=E.is(r,f)?r:l;o=this.items[--a].animate(e,t,r,l);while(a--){this.items[a]&&!this.items[a].removed&&this.items[a].animateWith(o,e,t,r,l)}return this};Pt[l].insertAfter=function(e){var t=this.items[Z];while(t--){this.items[t].insertAfter(e)}return this};Pt[l].getBBox=function(){var e=[],t=[],r=[],n=[];for(var i=this.items[Z];i--;){var a=this.items[i].getBBox();e[b](a.x);t[b](a.y);r[b](a.x+a.width);n[b](a.y+a.height)}e=M[m](0,e);t=M[m](0,t);return{x:e,y:t,width:k[m](0,r)-e,height:k[m](0,n)-t}};Pt[l].clone=function(e){e=new Pt;for(var t=0,r=this.items[Z];t<r;t++){e[b](this.items[t].clone())}return e};E.registerFont=function(e){if(!e.face){return e}this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},r=e.face["font-family"];for(var n in e.face)if(e.face[C](n)){t.face[n]=e.face[n]}if(this.fonts[r]){this.fonts[r][b](t)}else{this.fonts[r]=[t]}if(!e.svg){t.face["units-per-em"]=z(e.face["units-per-em"],10);for(var i in e.glyphs)if(e.glyphs[C](i)){var a=e.glyphs[i];t.glyphs[i]={w:a.w,k:{},d:a.d&&"M"+a.d[J](/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"};if(a.k){for(var o in a.k)if(a[C](o)){t.glyphs[i].k[o]=a.k[o]}}}}return e};i.getFont=function(e,t,r,n){n=n||"normal";r=r||"normal";t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400;if(!E.fonts){return}var i=E.fonts[e];if(!i){var a=new RegExp("(^|\\s)"+e[J](/[^\w\d\s+!~.:_-]/g,B)+"(\\s|$)","i");for(var o in E.fonts)if(E.fonts[C](o)){if(a.test(o)){i=E.fonts[o];break}}}var s;if(i){for(var l=0,c=i[Z];l<c;l++){s=i[l];if(s.face["font-weight"]==t&&(s.face["font-style"]==r||!s.face["font-style"])&&s.face["font-stretch"]==n){break}}}return s};i.print=function(e,t,r,n,i,a,o){a=a||"middle";o=k(M(o||0,1),-1);var s=this.set(),l=I(r)[U](B),c=0,u=B,h;E.is(n,r)&&(n=this.getFont(n));if(n){h=(i||16)/n.face["units-per-em"];var f=n.face.bbox.split(P),p=+f[0],d=+f[1]+(a=="baseline"?f[3]-f[1]+ +n.face.descent:(f[3]-f[1])/2);for(var v=0,m=l[Z];v<m;v++){var g=v&&n.glyphs[l[v-1]]||{},y=n.glyphs[l[v]];c+=v?(g.w||n.w)+(g.k&&g.k[l[v]]||0)+n.w*o:0;y&&y.d&&s[b](this.path(y.d).attr({fill:"#000",stroke:"none",translation:[c,0]}))}s.scale(h,h,p,d).translate(e-p,t-d)}return s};E.format=function(e,t){var r=E.is(t,g)?[0][Y](t):arguments;e&&E.is(e,f)&&r[Z]-1&&(e=e[J](n,function(e,t){return r[++t]==null?B:r[t]}));return e||B};E.ninja=function(){e.was?s.Raphael=e.is:Raphael=undefined;return E};E.el=ze;E.st=Pt[l];It.exports=E})()},p6EO:function(e,t,r){"use strict";r("ma9I");r("TeQF");r("4mDm");r("zKZe");r("5DmW");r("07d7");r("3bBZ");var f=i(r("q1tI"));var p=n(r("Xb39"));function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return d.apply(this,arguments)}var _=r("F/us");var a=r("2qRe");var v=r("d773");var o=r("p8fL");var s=r("vNny");var m=o.assert;var g=o.normalizeOptions;var y=r("eAf/").point;var b=r("eAf/").vector;var x=r("yfnS");var l=r("KmI1").processMath;var c=r("/4Qb"),w=c.iconTrash;var k=r("APgo");var M=_.keys(a);var u={coord:[0,0],pointSize:4,static:false,cursor:"move",normalStyle:null,highlightStyle:null,shadow:false,tooltip:false};var h={added:false,hasMoved:false,visibleShape:null,outOfBounds:false,mouseTarget:null,touchOffset:null};var S=[];var A=function e(t,r,n){_.extend(this,{graphie:t,movable:r,state:{id:_.uniqueId("movablePoint")}});this.modify(_.extend({},h,n))};_.extend(A,a);o.createGettersFor(A,_.extend({},u,h));o.addMovableHelperMethodsTo(A);_.extend(A.prototype,{cloneState:function e(){return _.extend(this.movable.cloneState(),this.state)},_createDefaultState:function e(){return _.extend({id:this.state.id},g(M,s.pluck(a,"standard")),u)},modify:function e(t){this.update(_.extend(this._createDefaultState(),t))},_showTooltip:function e(t){var r=this;if(!this._tooltip){this._tooltip=document.createElement("div");this._tooltip.className="tooltip-content";this.state.visibleShape.wrapper.className="tooltip";this.state.visibleShape.wrapper.appendChild(this._tooltip);S.push(function(){if(r.state.added){r._hideTooltip()}})}if(this._tooltip.firstChild){this._tooltip.removeChild(this._tooltip.firstChild)}this.state.visibleShape.wrapper.className="tooltip visible";this._tooltip.appendChild(document.createElement("span"));if(typeof t==="string"){l(this._tooltip.firstChild,t,false)}else if(typeof t==="function"){t(this._tooltip.firstChild)}else{this._tooltip.firstChild.appendChild(t)}},_hideTooltip:function e(){if(this._tooltip){this.state.visibleShape.wrapper.className="tooltip"}},update:function e(t){var s=this;var l=this;var r=l.graphie;var c=_.extend(l.state,g(M,t));m(y.is(c.coord));var n=c.static?x.DYNAMIC:x.INTERACTIVE;c.normalStyle=_.extend({fill:n,stroke:n,scale:1},c.normalStyle);c.highlightStyle=_.extend({fill:x.INTERACTING,stroke:x.INTERACTING,scale:2},c.highlightStyle);if(!c.static){if(!c.mouseTarget){var i=l.state.coord;var a=r.unscaleVector(24);var o={mouselayer:true,padding:0};c.mouseTarget=new v(r,i,a,o);c.mouseTarget.attr({fill:"#000",opacity:0})}}var u=function e(){s._showTooltip(function(e){(0,p.default)(f.createElement("span",{style:{fontSize:"2em"}},f.createElement(k,d({},w,{style:{position:"static",color:x.INTERACTIVE,marginLeft:9,marginRight:9}}))),e)})};var h=c.coord;l.movable.modify(_.extend({},c,{add:null,modify:null,draw:l.draw.bind(l),remove:null,onMoveStart:function e(t){c.hasMoved=false;h=c.coord;if(c.touchOffset==null){var r=!("ontouchstart"in window);c.touchOffset=r?[0,0]:b.subtract(h,t)}var n=c.visibleShape.wrapper;if(c.shadow){var i="none";n.style.webkitFilter=i;n.style.filter=i}if(c.showHairlines){c.showHairlines(c.coord)}S.forEach(function(e){return e()});if(c.tooltip){if(c.xOnlyTooltip){s._showTooltip("".concat(c.coord[0]))}else{s._showTooltip("(".concat(c.coord[0],", ").concat(c.coord[1],")"))}if(c.shadow){var a=n.getElementsByClassName("tooltip-content")[0];var o="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";a.style.webkitFilter=o;a.style.filter=o}}l._fireEvent(c.onMoveStart,h,h);l.draw()},onMove:function e(t,r){var n=b.add(t,c.touchOffset);l.moveTo(n);if(c.showHairlines){if(!s.state.outOfBounds){c.showHairlines(c.coord)}else{c.hideHairlines()}}if(c.tooltip){if(!s.state.outOfBounds){if(c.xOnlyTooltip){s._showTooltip("".concat(c.coord[0]))}else{s._showTooltip("(".concat(c.coord[0],", ").concat(c.coord[1],")"))}}}if(c.onRemove&&s.state.outOfBounds){u()}},onMoveEnd:function e(){if(l.isHovering()&&!c.hasMoved){l._fireEvent(c.onClick,c.coord,h)}var t=c.visibleShape.wrapper;if(c.shadow){var r="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";t.style.webkitFilter=r;t.style.filter=r}if(c.hideHairlines){c.hideHairlines()}if(c.hasMoved){s._hideTooltip()}else if(c.onRemove){u();var n=t.getElementsByClassName("tooltip-content")[0];n.style.webkitFilter="none";n.style.filter="none";s._tooltip.firstChild.addEventListener("touchstart",function(e){e.stopPropagation()},true);s._tooltip.firstChild.addEventListener("touchend",function(e){c.onRemove();e.stopPropagation()},true)}else if(c.tooltip){s._hideTooltip()}if(c.outOfBounds){c.onRemove()}l._fireEvent(c.onMoveEnd,c.coord,h);c.hasMoved=false;c.touchOffset=null;l.draw()}}));if(!c.added){l.prevState={};l._fireEvent(c.add,l.cloneState(),l.prevState);c.added=true;l.prevState=l.cloneState()}l._fireEvent(c.modify,l.cloneState(),l.prevState)},remove:function e(){this.state.added=false;this._fireEvent(this.state.remove);if(this.movable){this.movable.remove()}this.state.mouseTarget=null},constrain:function e(){var t=this._applyConstraints(this.coord(),this.coord());if(y.is(t)){this.setCoord(t)}return t!==false},setCoord:function e(t){m(y.is(t,2));this.state.coord=_.clone(t);this.draw()},setCoordConstrained:function e(t){m(y.is(t,2));var r=this._applyConstraints(t,this.coord());if(r!==false){this.state.coord=_.clone(r);this.draw()}},moveTo:function e(t){var r=this;var n=this.state;this.state.outOfBounds=false;var i=this._applyConstraints(t,n.coord,n.onRemove?{onOutOfBounds:function e(){r.state.outOfBounds=true}}:{});if(i===false){return}if(y.is(i)){t=i}if(!y.equal(t,n.coord)){var a=n.coord;n.coord=t;n.hasMoved=true;this._fireEvent(n.onMove,n.coord,a);this.draw()}},normalStyle:function e(){return _.clone(this.state.normalStyle)},highlightStyle:function e(){return _.clone(this.state.highlightStyle)},toBack:function e(){this.movable.toBack();if(this.state.visibleShape){this.state.visibleShape.toBack()}},toFront:function e(){if(this.state.visibleShape){this.state.visibleShape.toFront()}this.movable.toFront()},isHovering:function e(){return this.movable.isHovering()},isDragging:function e(){return this.movable.isDragging()},mouseTarget:function e(){return this.movable.mouseTarget()},grab:function e(t){this.state.touchOffset=[0,0];this.movable.grab(t);this.moveTo(t)}});e.exports=A},p8fL:function(e,t,r){"use strict";r("TeQF");r("4mDm");r("07d7");r("3bBZ");var n=r("4PhQ");var _=r("F/us");var i=r("QVWj");var a=null;function o(){var t=document.createElement("div");var e=["transform","msTransform","MozTransform","WebkitTransform","OTransform"];var r=null;_.each(e,function(e){if(typeof t.style[e]!=="undefined"){r=e}});return r}var s=null;function l(){var e=document.createElement("div");var t=c.getPrefixedTransform();e.style[t]="translateZ(0px)";return!!e.style[t]}var c={assert:function e(t,r){if(!t){throw new n.KAError("Assertion Error"+(r?": "+r:""),n.Errors.Internal)}},createGettersFor:function e(t,r){_.each(_.keys(r),function(e){if(t.prototype[e]===undefined){t.prototype[e]=function(){return this.state[e]}}})},addMovableHelperMethodsTo:function e(r){_.each(i,function(e,t){if(r.prototype[t]===undefined){r.prototype[t]=e}})},arrayify:function e(t){if(t==null){return[]}if(_.isArray(t)){return _.filter(_.flatten(t),_.identity)}return[t]},normalizeOptions:function e(t,n){var i=_.clone(n);_.each(t,function(e){var t=n[e];if(t!==undefined){var r=c.arrayify(t);i[e]=r}});return i},getPrefixedTransform:function e(){a=a||o();return a},getCanUse3dTransform:function e(){if(s==null){s=l()}return s}};e.exports=c},rTmL:function(e,t,r){
/*! KAS | https://github.com/Khan/KAS */
var _,n={};if(true&&e.exports){_=r("F/us");e.exports=n}else{_=window._;window.KAS=n}(function(e){var t=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,7],r=[1,17],n=[1,13],i=[1,14],a=[1,15],o=[1,32],s=[1,22],l=[1,23],c=[1,24],u=[1,25],h=[1,26],f=[1,33],p=[1,27],d=[1,28],v=[1,29],m=[1,30],g=[1,20],y=[1,36],b=[1,37],x=[5,6,8,10,33,35,41,43,45],w=[1,39],k=[1,40],M=[5,6,8,10,12,14,16,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],S=[10,16,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],A=[5,6,8,10,12,14,16,18,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46];var T={trace:function e(){},yy:{},symbols_:{error:2,equation:3,expression:4,SIGN:5,EOF:6,additive:7,"+":8,multiplicative:9,"-":10,triglog:11,"*":12,negative:13,"/":14,trig:15,TRIG:16,trigfunc:17,"^":18,TRIGINV:19,logbase:20,ln:21,log:22,_:23,subscriptable:24,power:25,primitive:26,variable:27,VAR:28,CONST:29,INT:30,FLOAT:31,"{":32,"}":33,"(":34,")":35,function:36,FUNC:37,invocation:38,sqrt:39,"[":40,"]":41,abs:42,"|":43,"LEFT|":44,"RIGHT|":45,FRAC:46,$accept:0,$end:1},terminals_:{2:"error",5:"SIGN",6:"EOF",8:"+",10:"-",12:"*",14:"/",16:"TRIG",18:"^",19:"TRIGINV",21:"ln",22:"log",23:"_",28:"VAR",29:"CONST",30:"INT",31:"FLOAT",32:"{",33:"}",34:"(",35:")",37:"FUNC",39:"sqrt",40:"[",41:"]",42:"abs",43:"|",44:"LEFT|",45:"RIGHT|",46:"FRAC"},productions_:[0,[3,4],[3,2],[3,1],[4,1],[7,3],[7,3],[7,1],[9,2],[9,3],[9,3],[9,1],[13,2],[13,1],[15,1],[17,1],[17,3],[17,1],[20,1],[20,1],[20,3],[11,2],[11,2],[11,1],[25,3],[25,1],[27,1],[24,3],[24,1],[24,1],[24,1],[24,1],[24,3],[24,3],[36,1],[38,4],[38,4],[38,7],[38,4],[38,3],[38,3],[38,4],[26,1],[26,1],[26,7]],performAction:function e(t,r,n,i,a,o,s){var l=o.length-1;switch(a){case 1:return new i.Eq(o[l-3],o[l-2],o[l-1]);break;case 2:return o[l-1];break;case 3:return new i.Add([]);break;case 4:case 7:case 11:case 13:case 15:case 20:case 23:case 25:case 42:case 43:this.$=o[l];break;case 5:this.$=i.Add.createOrAppend(o[l-2],o[l]);break;case 6:this.$=i.Add.createOrAppend(o[l-2],i.Mul.handleNegative(o[l],"subtract"));break;case 8:this.$=i.Mul.fold(i.Mul.createOrAppend(o[l-1],o[l]));break;case 9:this.$=i.Mul.fold(i.Mul.createOrAppend(o[l-2],o[l]));break;case 10:this.$=i.Mul.fold(i.Mul.handleDivide(o[l-2],o[l]));break;case 12:this.$=i.Mul.handleNegative(o[l]);break;case 14:case 17:this.$=[t];break;case 16:this.$=o[l-2].concat(o[l]);break;case 18:this.$=i.Log.natural();break;case 19:this.$=i.Log.common();break;case 21:this.$=i.Trig.create(o[l-1],o[l]);break;case 22:this.$=i.Log.create(o[l-1],o[l]);break;case 24:this.$=new i.Pow(o[l-2],o[l]);break;case 26:case 34:this.$=t;break;case 27:this.$=new i.Var(o[l-2],o[l]);break;case 28:this.$=new i.Var(o[l]);break;case 29:this.$=new i.Const(t.toLowerCase());break;case 30:this.$=i.Int.create(Number(t));break;case 31:this.$=i.Float.create(Number(t));break;case 32:this.$=o[l-1].completeParse();break;case 33:this.$=o[l-1].completeParse().addHint("parens");break;case 35:case 36:this.$=i.Pow.sqrt(o[l-1]);break;case 37:this.$=new i.Pow.nthroot(o[l-1],o[l-4]);break;case 38:case 39:case 40:this.$=new i.Abs(o[l-1]);break;case 41:this.$=new i.Func(o[l-3],o[l-1]);break;case 44:this.$=i.Mul.handleDivide(o[l-4],o[l-1]);break}},table:[{3:1,4:2,6:[1,3],7:4,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{1:[3]},{5:[1,34],6:[1,35]},{1:[2,3]},e([5,6],[2,4],{8:y,10:b}),e(x,[2,7],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:w,14:k,16:r,19:n,21:i,22:a,28:o,29:s,30:l,31:c,32:u,34:h,37:f,39:p,42:d,44:m,46:g}),e(M,[2,11]),{10:t,11:8,13:41,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},e(M,[2,13]),{10:t,11:8,13:42,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{10:t,11:8,13:43,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},e(M,[2,23]),e(S,[2,15],{18:[1,44]}),e(S,[2,17]),e(S,[2,18]),e(S,[2,19],{23:[1,45]}),e(M,[2,25],{18:[1,46]}),e([10,16,18,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],[2,14]),e(A,[2,42]),e(A,[2,43]),{32:[1,47]},e(A,[2,28],{23:[1,48]}),e(A,[2,29]),e(A,[2,30]),e(A,[2,31]),{7:49,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:50,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{32:[1,52],34:[1,51],40:[1,53]},{34:[1,54]},{7:55,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:56,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{34:[1,57]},e([5,6,8,10,12,14,16,18,19,21,22,23,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],[2,26]),{34:[2,34]},{4:58,7:4,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{1:[2,2]},{9:59,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{9:60,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},e(M,[2,8]),{10:t,11:8,13:61,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{10:t,11:8,13:62,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},e(M,[2,12]),e(M,[2,21]),e(M,[2,22]),{10:t,11:8,13:63,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{24:64,27:21,28:o,29:s,30:l,31:c,32:u,34:h},{10:t,11:8,13:65,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:66,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{24:67,27:21,28:o,29:s,30:l,31:c,32:u,34:h},{8:y,10:b,33:[1,68]},{8:y,10:b,35:[1,69]},{7:70,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:71,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:72,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:73,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{8:y,10:b,43:[1,74]},{8:y,10:b,45:[1,75]},{7:76,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{6:[1,77]},e(x,[2,5],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:w,14:k,16:r,19:n,21:i,22:a,28:o,29:s,30:l,31:c,32:u,34:h,37:f,39:p,42:d,44:m,46:g}),e(x,[2,6],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:w,14:k,16:r,19:n,21:i,22:a,28:o,29:s,30:l,31:c,32:u,34:h,37:f,39:p,42:d,44:m,46:g}),e(M,[2,9]),e(M,[2,10]),e(S,[2,16]),e(S,[2,20]),e(M,[2,24]),{8:y,10:b,33:[1,78]},e(A,[2,27]),e(A,[2,32]),e(A,[2,33]),{8:y,10:b,35:[1,79]},{8:y,10:b,33:[1,80]},{8:y,10:b,41:[1,81]},{8:y,10:b,35:[1,82]},e(A,[2,39]),e(A,[2,40]),{8:y,10:b,35:[1,83]},{1:[2,1]},{32:[1,84]},e(A,[2,35]),e(A,[2,36]),{32:[1,85]},e(A,[2,38]),e(A,[2,41]),{7:86,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{7:87,9:5,10:t,11:8,13:6,15:12,16:r,17:9,19:n,20:10,21:i,22:a,24:18,25:11,26:16,27:21,28:o,29:s,30:l,31:c,32:u,34:h,36:31,37:f,38:19,39:p,42:d,43:v,44:m,46:g},{8:y,10:b,33:[1,88]},{8:y,10:b,33:[1,89]},e(A,[2,44]),e(A,[2,37])],defaultActions:{3:[2,3],33:[2,34],35:[2,2],77:[2,1]},parseError:function e(t,r){if(r.recoverable){this.trace(t)}else{throw new Error(t)}},parse:function e(t){var r=this,n=[0],i=[],a=[null],o=[],s=this.table,l="",c=0,u=0,h=0,f=2,p=1;var d=o.slice.call(arguments,1);var v=Object.create(this.lexer);var m={yy:{}};for(var g in this.yy){if(Object.prototype.hasOwnProperty.call(this.yy,g)){m.yy[g]=this.yy[g]}}v.setInput(t,m.yy);m.yy.lexer=v;m.yy.parser=this;if(typeof v.yylloc=="undefined"){v.yylloc={}}var y=v.yylloc;o.push(y);var b=v.options&&v.options.ranges;if(typeof m.yy.parseError==="function"){this.parseError=m.yy.parseError}else{this.parseError=Object.getPrototypeOf(this).parseError}function x(e){n.length=n.length-2*e;a.length=a.length-e;o.length=o.length-e}function w(){var e;e=v.lex()||p;if(typeof e!=="number"){e=r.symbols_[e]||e}return e}var k,M,S,A,T,E,P={},C,I,D,N;while(true){S=n[n.length-1];if(this.defaultActions[S]){A=this.defaultActions[S]}else{if(k===null||typeof k=="undefined"){k=w()}A=s[S]&&s[S][k]}if(typeof A==="undefined"||!A.length||!A[0]){var O="";N=[];for(C in s[S]){if(this.terminals_[C]&&C>f){N.push("'"+this.terminals_[C]+"'")}}if(v.showPosition){O="Parse error on line "+(c+1)+":\n"+v.showPosition()+"\nExpecting "+N.join(", ")+", got '"+(this.terminals_[k]||k)+"'"}else{O="Parse error on line "+(c+1)+": Unexpected "+(k==p?"end of input":"'"+(this.terminals_[k]||k)+"'")}this.parseError(O,{text:v.match,token:this.terminals_[k]||k,line:v.yylineno,loc:y,expected:N})}if(A[0]instanceof Array&&A.length>1){throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+k)}switch(A[0]){case 1:n.push(k);a.push(v.yytext);o.push(v.yylloc);n.push(A[1]);k=null;if(!M){u=v.yyleng;l=v.yytext;c=v.yylineno;y=v.yylloc;if(h>0){h--}}else{k=M;M=null}break;case 2:I=this.productions_[A[1]][1];P.$=a[a.length-I];P._$={first_line:o[o.length-(I||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(I||1)].first_column,last_column:o[o.length-1].last_column};if(b){P._$.range=[o[o.length-(I||1)].range[0],o[o.length-1].range[1]]}E=this.performAction.apply(P,[l,u,c,m.yy,A[1],a,o].concat(d));if(typeof E!=="undefined"){return E}if(I){n=n.slice(0,-1*I*2);a=a.slice(0,-1*I);o=o.slice(0,-1*I)}n.push(this.productions_[A[1]][0]);a.push(P.$);o.push(P._$);D=s[n[n.length-2]][n[n.length-1]];n.push(D);break;case 3:return true}}return true}};var E=function(){var e={EOF:1,parseError:function e(t,r){if(this.yy.parser){this.yy.parser.parseError(t,r)}else{throw new Error(t)}},setInput:function(e,t){this.yy=t||this.yy||{};this._input=e;this._more=this._backtrack=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var e=this._input[0];this.yytext+=e;this.yyleng++;this.offset++;this.match+=e;this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);if(t){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return e},unput:function(e){var t=e.length;var r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-t);this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(r.length-1){this.yylineno-=r.length-1}var i=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t};if(this.options.ranges){this.yylloc.range=[i[0],i[0]+this.yyleng-t]}this.yyleng=this.yytext.length;return this},more:function(){this._more=true;return this},reject:function(){if(this.options.backtrack_lexer){this._backtrack=true}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;if(e.length<20){e+=this._input.substr(0,20-e.length)}return(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput();var t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer){i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};if(this.options.ranges){i.yylloc.range=this.yylloc.range.slice(0)}}n=e[0].match(/(?:\r\n?|\n).*/g);if(n){this.yylineno+=n.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length};this.yytext+=e[0];this.match+=e[0];this.matches=e;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._backtrack=false;this._input=this._input.slice(e[0].length);this.matched+=e[0];r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(r){return r}else if(this._backtrack){for(var a in i){this[a]=i[a]}return false}return false},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var e,t,r,n;if(!this._more){this.yytext="";this.match=""}var i=this._currentRules();for(var a=0;a<i.length;a++){r=this._input.match(this.rules[i[a]]);if(r&&(!t||r[0].length>t[0].length)){t=r;n=a;if(this.options.backtrack_lexer){e=this.test_match(r,i[a]);if(e!==false){return e}else if(this._backtrack){t=false;continue}else{return false}}else if(!this.options.flex){break}}}if(t){e=this.test_match(t,i[n]);if(e!==false){return e}return false}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function e(){var t=this.next();if(t){return t}else{return this.lex()}},begin:function e(t){this.conditionStack.push(t)},popState:function e(){var t=this.conditionStack.length-1;if(t>0){return this.conditionStack.pop()}else{return this.conditionStack[0]}},_currentRules:function e(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}else{return this.conditions["INITIAL"].rules}},topState:function e(t){t=this.conditionStack.length-1-Math.abs(t||0);if(t>=0){return this.conditionStack[t]}else{return"INITIAL"}},pushState:function e(t){this.begin(t)},stateStackSize:function e(){return this.conditionStack.length},options:{flex:true},performAction:function e(t,r,n,i){var a=i;switch(n){case 0:break;case 1:break;case 2:break;case 3:return"INT";break;case 4:return"FLOAT";break;case 5:return"^";break;case 6:return"*";break;case 7:return"*";break;case 8:return"*";break;case 9:return"*";break;case 10:return"/";break;case 11:return"/";break;case 12:return"-";break;case 13:return"-";break;case 14:return"+";break;case 15:return"^";break;case 16:return"(";break;case 17:return")";break;case 18:return"(";break;case 19:return")";break;case 20:return"[";break;case 21:return"]";break;case 22:return"{";break;case 23:return"}";break;case 24:return"{";break;case 25:return"}";break;case 26:return"_";break;case 27:return"|";break;case 28:return"LEFT|";break;case 29:return"RIGHT|";break;case 30:return"!";break;case 31:return"SIGN";break;case 32:r.yytext="<=";return"SIGN";break;case 33:r.yytext=">=";return"SIGN";break;case 34:r.yytext="<=";return"SIGN";break;case 35:r.yytext=">=";return"SIGN";break;case 36:r.yytext="<>";return"SIGN";break;case 37:r.yytext="<>";return"SIGN";break;case 38:r.yytext="<>";return"SIGN";break;case 39:r.yytext="<>";return"SIGN";break;case 40:r.yytext="<=";return"SIGN";break;case 41:r.yytext=">=";return"SIGN";break;case 42:return"FRAC";break;case 43:return"FRAC";break;case 44:return"sqrt";break;case 45:return"abs";break;case 46:return"ln";break;case 47:return"log";break;case 48:return"TRIG";break;case 49:return"TRIG";break;case 50:return"TRIG";break;case 51:return"TRIG";break;case 52:r.yytext="sin";return"TRIG";break;case 53:r.yytext="cos";return"TRIG";break;case 54:r.yytext="tan";return"TRIG";break;case 55:r.yytext="csc";return"TRIG";break;case 56:r.yytext="sec";return"TRIG";break;case 57:r.yytext="cot";return"TRIG";break;case 58:r.yytext="arcsin";return"TRIG";break;case 59:r.yytext="arccos";return"TRIG";break;case 60:r.yytext="arctan";return"TRIG";break;case 61:r.yytext="arccsc";return"TRIG";break;case 62:r.yytext="arcsec";return"TRIG";break;case 63:r.yytext="arccot";return"TRIG";break;case 64:return"TRIGINV";break;case 65:return"TRIGINV";break;case 66:r.yytext="sinh";return"TRIG";break;case 67:r.yytext="cosh";return"TRIG";break;case 68:r.yytext="tanh";return"TRIG";break;case 69:r.yytext="csch";return"TRIG";break;case 70:r.yytext="sech";return"TRIG";break;case 71:r.yytext="tanh";return"TRIG";break;case 72:return"CONST";break;case 73:r.yytext="pi";return"CONST";break;case 74:r.yytext="pi";return"CONST";break;case 75:return"VAR";break;case 76:r.yytext="theta";return"VAR";break;case 77:r.yytext="theta";return"VAR";break;case 78:return"VAR";break;case 79:r.yytext="phi";return"VAR";break;case 80:r.yytext="phi";return"VAR";break;case 81:return t.symbolLexer(r.yytext);break;case 82:return"EOF";break;case 83:return"INVALID";break;case 84:console.log(r.yytext);break}},rules:[/^(?:\s+)/,/^(?:\\space)/,/^(?:\\ )/,/^(?:[0-9]+\.?)/,/^(?:([0-9]+)?\.[0-9]+)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\\cdot|)/,/^(?:\\times|)/,/^(?:\\ast)/,/^(?:\/)/,/^(?:\\div|)/,/^(?:-)/,/^(?:)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\\left\()/,/^(?:\\right\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:\\left\{)/,/^(?:\\right\})/,/^(?:_)/,/^(?:\|)/,/^(?:\\left\|)/,/^(?:\\right\|)/,/^(?:\!)/,/^(?:<=|>=|<>|<|>|=)/,/^(?:\\le)/,/^(?:\\ge)/,/^(?:\\leq)/,/^(?:\\geq)/,/^(?:=\/=)/,/^(?:\\ne)/,/^(?:\\neq)/,/^(?:)/,/^(?:)/,/^(?:)/,/^(?:\\frac)/,/^(?:\\dfrac)/,/^(?:sqrt|\\sqrt)/,/^(?:abs|\\abs)/,/^(?:ln|\\ln)/,/^(?:log|\\log)/,/^(?:sin|cos|tan)/,/^(?:csc|sec|cot)/,/^(?:sinh|cosh|tanh)/,/^(?:csch|sech|coth)/,/^(?:\\sin)/,/^(?:\\cos)/,/^(?:\\tan)/,/^(?:\\csc)/,/^(?:\\sec)/,/^(?:\\cot)/,/^(?:\\arcsin)/,/^(?:\\arccos)/,/^(?:\\arctan)/,/^(?:\\arccsc)/,/^(?:\\arcsec)/,/^(?:\\arccot)/,/^(?:arcsin|arccos|arctan)/,/^(?:arccsc|arcsec|arccot)/,/^(?:\\sinh)/,/^(?:\\cosh)/,/^(?:\\tanh)/,/^(?:\\csch)/,/^(?:\\sech)/,/^(?:\\coth)/,/^(?:pi)/,/^(?:)/,/^(?:\\pi)/,/^(?:theta)/,/^(?:)/,/^(?:\\theta)/,/^(?:phi)/,/^(?:)/,/^(?:\\phi)/,/^(?:[a-zA-Z])/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:true}}};return e}();T.lexer=E;function P(){this.yy={}}P.prototype=T;T.Parser=P;return new P}();e.parser=t})(n);(function(e){var t=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,11],r=[1,9],n=[8,17],i=[6,11],a=[6,11,13,17];var o={trace:function e(){},yy:{},symbols_:{error:2,unitvalue:3,magnitude:4,unit:5,EOF:6,float:7,POW:8,int:9,multatoms:10,DIV:11,expatom:12,MUL:13,atom:14,"^":15,nat:16,ATOM:17,FLOAT:18,NAT:19,NEG:20,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:"POW",11:"DIV",13:"MUL",15:"^",17:"ATOM",18:"FLOAT",19:"NAT",20:"NEG"},productions_:[0,[3,3],[3,2],[4,3],[4,1],[5,3],[5,1],[10,3],[10,2],[10,1],[12,3],[12,1],[14,1],[7,1],[7,1],[16,1],[9,2],[9,1]],performAction:function e(t,r,n,i,a,o,s){var l=o.length-1;switch(a){case 1:return{type:"unitMagnitude",magnitude:o[l-2],unit:o[l-1]};break;case 2:return{type:"unitStandalone",unit:o[l-1]};break;case 3:this.$=o[l-2]+"e"+o[l];break;case 4:case 13:case 14:case 15:case 17:this.$=o[l];break;case 5:this.$={num:o[l-2],denom:o[l]};break;case 6:this.$={num:o[l],denom:null};break;case 7:this.$=[o[l-2]].concat(o[l]);break;case 8:this.$=[o[l-1]].concat(o[l]);break;case 9:this.$=[o[l]];break;case 10:this.$={name:o[l-2],pow:o[l]};break;case 11:this.$={name:o[l],pow:1};break;case 12:this.$=t;break;case 16:this.$="-"+o[l];break}},table:[{3:1,4:2,5:3,7:4,10:5,12:8,14:10,16:7,17:t,18:[1,6],19:r},{1:[3]},{5:12,10:5,12:8,14:10,17:t},{6:[1,13]},{8:[1,14],17:[2,4]},{6:[2,6],11:[1,15]},e(n,[2,13]),e(n,[2,14]),e(i,[2,9],{12:8,14:10,10:17,13:[1,16],17:t}),e([6,8,11,13,17],[2,15]),e(a,[2,11],{15:[1,18]}),e([6,11,13,15,17],[2,12]),{6:[1,19]},{1:[2,2]},{9:20,19:[1,22],20:[1,21]},{10:23,12:8,14:10,17:t},{10:24,12:8,14:10,17:t},e(i,[2,8]),{16:25,19:r},{1:[2,1]},{17:[2,3]},{19:[1,26]},{17:[2,17]},{6:[2,5]},e(i,[2,7]),e(a,[2,10]),{17:[2,16]}],defaultActions:{13:[2,2],19:[2,1],20:[2,3],22:[2,17],23:[2,5],26:[2,16]},parseError:function e(t,r){if(r.recoverable){this.trace(t)}else{throw new Error(t)}},parse:function e(t){var r=this,n=[0],i=[],a=[null],o=[],s=this.table,l="",c=0,u=0,h=0,f=2,p=1;var d=o.slice.call(arguments,1);var v=Object.create(this.lexer);var m={yy:{}};for(var g in this.yy){if(Object.prototype.hasOwnProperty.call(this.yy,g)){m.yy[g]=this.yy[g]}}v.setInput(t,m.yy);m.yy.lexer=v;m.yy.parser=this;if(typeof v.yylloc=="undefined"){v.yylloc={}}var y=v.yylloc;o.push(y);var b=v.options&&v.options.ranges;if(typeof m.yy.parseError==="function"){this.parseError=m.yy.parseError}else{this.parseError=Object.getPrototypeOf(this).parseError}function x(e){n.length=n.length-2*e;a.length=a.length-e;o.length=o.length-e}function w(){var e;e=v.lex()||p;if(typeof e!=="number"){e=r.symbols_[e]||e}return e}var k,M,S,A,T,E,P={},C,I,D,N;while(true){S=n[n.length-1];if(this.defaultActions[S]){A=this.defaultActions[S]}else{if(k===null||typeof k=="undefined"){k=w()}A=s[S]&&s[S][k]}if(typeof A==="undefined"||!A.length||!A[0]){var O="";N=[];for(C in s[S]){if(this.terminals_[C]&&C>f){N.push("'"+this.terminals_[C]+"'")}}if(v.showPosition){O="Parse error on line "+(c+1)+":\n"+v.showPosition()+"\nExpecting "+N.join(", ")+", got '"+(this.terminals_[k]||k)+"'"}else{O="Parse error on line "+(c+1)+": Unexpected "+(k==p?"end of input":"'"+(this.terminals_[k]||k)+"'")}this.parseError(O,{text:v.match,token:this.terminals_[k]||k,line:v.yylineno,loc:y,expected:N})}if(A[0]instanceof Array&&A.length>1){throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+k)}switch(A[0]){case 1:n.push(k);a.push(v.yytext);o.push(v.yylloc);n.push(A[1]);k=null;if(!M){u=v.yyleng;l=v.yytext;c=v.yylineno;y=v.yylloc;if(h>0){h--}}else{k=M;M=null}break;case 2:I=this.productions_[A[1]][1];P.$=a[a.length-I];P._$={first_line:o[o.length-(I||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(I||1)].first_column,last_column:o[o.length-1].last_column};if(b){P._$.range=[o[o.length-(I||1)].range[0],o[o.length-1].range[1]]}E=this.performAction.apply(P,[l,u,c,m.yy,A[1],a,o].concat(d));if(typeof E!=="undefined"){return E}if(I){n=n.slice(0,-1*I*2);a=a.slice(0,-1*I);o=o.slice(0,-1*I)}n.push(this.productions_[A[1]][0]);a.push(P.$);o.push(P._$);D=s[n[n.length-2]][n[n.length-1]];n.push(D);break;case 3:return true}}return true}};var s=function(){var e={EOF:1,parseError:function e(t,r){if(this.yy.parser){this.yy.parser.parseError(t,r)}else{throw new Error(t)}},setInput:function(e,t){this.yy=t||this.yy||{};this._input=e;this._more=this._backtrack=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var e=this._input[0];this.yytext+=e;this.yyleng++;this.offset++;this.match+=e;this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);if(t){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return e},unput:function(e){var t=e.length;var r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-t);this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(r.length-1){this.yylineno-=r.length-1}var i=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t};if(this.options.ranges){this.yylloc.range=[i[0],i[0]+this.yyleng-t]}this.yyleng=this.yytext.length;return this},more:function(){this._more=true;return this},reject:function(){if(this.options.backtrack_lexer){this._backtrack=true}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;if(e.length<20){e+=this._input.substr(0,20-e.length)}return(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput();var t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer){i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};if(this.options.ranges){i.yylloc.range=this.yylloc.range.slice(0)}}n=e[0].match(/(?:\r\n?|\n).*/g);if(n){this.yylineno+=n.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length};this.yytext+=e[0];this.match+=e[0];this.matches=e;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._backtrack=false;this._input=this._input.slice(e[0].length);this.matched+=e[0];r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(r){return r}else if(this._backtrack){for(var a in i){this[a]=i[a]}return false}return false},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var e,t,r,n;if(!this._more){this.yytext="";this.match=""}var i=this._currentRules();for(var a=0;a<i.length;a++){r=this._input.match(this.rules[i[a]]);if(r&&(!t||r[0].length>t[0].length)){t=r;n=a;if(this.options.backtrack_lexer){e=this.test_match(r,i[a]);if(e!==false){return e}else if(this._backtrack){t=false;continue}else{return false}}else if(!this.options.flex){break}}}if(t){e=this.test_match(t,i[n]);if(e!==false){return e}return false}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function e(){var t=this.next();if(t){return t}else{return this.lex()}},begin:function e(t){this.conditionStack.push(t)},popState:function e(){var t=this.conditionStack.length-1;if(t>0){return this.conditionStack.pop()}else{return this.conditionStack[0]}},_currentRules:function e(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}else{return this.conditions["INITIAL"].rules}},topState:function e(t){t=this.conditionStack.length-1-Math.abs(t||0);if(t>=0){return this.conditionStack[t]}else{return"INITIAL"}},pushState:function e(t){this.begin(t)},stateStackSize:function e(){return this.conditionStack.length},options:{},performAction:function e(t,r,n,i){var a=i;switch(n){case 0:return 11;break;case 1:return"(";break;case 2:return")";break;case 3:return 8;break;case 4:return 15;break;case 5:return 13;break;case 6:return 18;break;case 7:return 19;break;case 8:return 20;break;case 9:return 17;break;case 10:return 17;break;case 11:return 17;break;case 12:break;case 13:return 6;break}},rules:[/^(?:\/)/,/^(?:\()/,/^(?:\))/,/^(?:(\*|x|\u00d7|\u2219|\u22c5|\u00b7)\s*10\s*\^)/,/^(?:\^)/,/^(?:\*)/,/^(?:[0-9]+\.[0-9]+)/,/^(?:[0-9]+)/,/^(?:-)/,/^(?:\u00b0( ?)[cCfF])/,/^(?:fl\.? oz\.?)/,/^(?:[\u00b5]?([A-Za-z-]+|[\u2103\u2109\u212b]))/,/^(?:\s+)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:true}}};return e}();o.lexer=s;function l(){this.yy={}}l.prototype=o;o.Parser=l;return new l}();e.unitParser=t})(n);(function(l){var e=function(){throw new Error("Abstract method - must override for expr: "+this.print())};var r=function(e){throw new Error(e)};var v=function(e){return e!==e};var m=function(e,t){var r=t-e;return Math.random()*r+e};var g=12;var y=9;function a(){}_.extend(a.prototype,{func:e,args:e,construct:function(e){var t=new this.func;this.func.apply(t,e);return t},recurse:function(t){var r=Array.prototype.slice.call(arguments,1);var e=_.map(this.args(),function(e){return _.isString(e)?e:e[t].apply(e,r)});return this.construct(e)},eval:e,codegen:e,compile:function(){var t=this.codegen();try{return new Function("vars","return "+t+";")}catch(e){throw new Error("Function did not compile: "+t)}},print:e,tex:e,asTex:function(e){e=e||{};_.defaults(e,{display:true,dynamic:true,times:false});var t=this.tex();if(e.display){t="\\displaystyle "+t}if(e.dynamic){t=t.replace(/\(/g,"\\left(");t=t.replace(/\)/g,"\\right)")}if(e.times){t=t.replace(/\\cdot/g,"\\times")}return t},name:function(){if(this.func.name){return this.func.name}else{return this.func.toString().match(/^function\s*([^\s(]+)/)[1]}},repr:function(){return this.name()+"("+_.map(this.args(),function(e){return _.isString(e)?e:e.repr()}).join(",")+")"},strip:function(){return this.recurse("strip")},normalize:function(){return this.recurse("normalize")},expand:function(){return this.recurse("expand")},factor:function(e){return this.recurse("factor",e)},collect:function(e){return this.recurse("collect",e)},equals:function(e){return this.normalize().print()===e.normalize().print()},simplify:function(e){e=_.extend({once:false},e);var t=this.factor(e);var r=t.collect(e);if(t.equals(r)){r=this.collect(e)}var n=r.expand(e);var i=n.collect(e);if(n.equals(i)){i=r.collect(e)}var a=i;if(e.once||this.equals(a)){return a}else{return a.simplify(e)}},isSimplified:function(){return this.equals(this.simplify())},exprArgs:function(){return _.filter(this.args(),function(e){return e instanceof a})},getVars:function(e){return _.uniq(_.flatten(_.invoke(this.exprArgs(),"getVars",e))).sort()},getConsts:function(){return _.uniq(_.flatten(_.invoke(this.exprArgs(),"getConsts"))).sort()},getUnits:function(){return _.flatten(_.invoke(this.exprArgs(),"getUnits"))},is:function(e){return this instanceof e},has:function(t){if(this instanceof t){return true}return _.any(this.exprArgs(),function(e){return e.has(t)})},raiseToThe:function(e){return new w(this,e)},isSubtract:function(){return false},isDivide:function(){return false},isRoot:function(){return false},needsExplicitMul:function(){return this.args()[0].needsExplicitMul()},sameVars:function(e){var t=this.getVars();var r=e.getVars();var n=function(e,t){return!_.difference(e,t).length};var i=function(e){return _.uniq(_.invoke(e,"toLowerCase")).sort()};var a=n(t,r);var o=n(i(t),i(r));return{equal:a,equalIgnoringCase:o}},compare:function(e){if(e instanceof k){return false}var t=_.union(this.getVars(true),e.getVars(true));var n=function(e,t){if(Math.abs(e)<1||Math.abs(t)<1){return Math.abs(e-t)}else{return Math.abs(1-e/t)}};var r=function(e,t){var r=n(e,t);return e===t||v(e)&&v(t)||r<Math.pow(10,-y)};if(!t.length&&!this.has(E)&&!e.has(E)){return r(this.eval(),e.eval())}var i=this.collect();var a=e.collect();var o=this.getUnits();var s=e.getUnits();if(!_.isEqual(o,s)){return false}for(var l=0;l<g;l++){var c={};var u=Math.pow(10,1+Math.floor(3*l/g));var h=l%2===0;_.each(t,function(e){c[e]=h?m(-u,u):_.random(-u,u)});var f;if(i.has(M)||a.has(M)||i.has(E)||a.has(E)){var p=i.partialEval(c);var d=a.partialEval(c);f=p.simplify().equals(d.simplify())}else{var p=i.eval(c);var d=a.eval(c);f=r(p,d)}if(!f){return false}}return true},partialEval:function(e){if(this instanceof E){return this}else if(!this.has(M)){return new f(this.eval(e).toFixed(y)).collect()}else if(this instanceof M){return new M(this.symbol,this.arg.partialEval(e))}else{return this.recurse("partialEval",e)}},sameForm:function(e){return this.strip().equals(e.strip())},findGCD:function(e){return this.equals(e)?e:S.One},getDenominator:function(){return S.One},asMul:function(){return new x(S.One,this)},isPositive:e,isNegative:function(){return false},asPositiveFactor:function(){return this.isPositive()?this:S.One},addHint:function(e){if(!e){return this}var t=this.construct(this.args());t.hints=_.clone(this.hints);t.hints[e]=true;return t},hints:{parens:false},asExpr:function(){return this},completeParse:function(){return this.recurse("completeParse")},abs:e,negate:function(){return new x(S.Neg,this)}});function n(){}n.prototype=new a;_.extend(n.prototype,{args:function(){return this.terms},normalize:function(){var e=_.sortBy(_.invoke(this.terms,"normalize"),function(e){return e.print()});return new this.func(e)},expand:function(){return this.recurse("expand").flatten()},partition:function(){var e=_.groupBy(this.terms,function(e){return e instanceof S});var t=e[true]||[];var r=e[false]||[];return[new this.func(t),new this.func(r)]},flatten:function(){var t=this;var e=_.reject(this.terms,function(e){return e.equals(t.identity)});if(e.length===0){return t.identity}if(e.length===1){return e[0]}var r=_.groupBy(e,function(e){return e instanceof t.func});var n=r[true]||[];var i=r[false]||[];var a=i.concat(_.flatten(_.pluck(n,"terms"),true));return new t.func(a)},identity:undefined,reduce:e,isPositive:function(){var e=_.invoke(this.terms,"collect");return _.all(_.invoke(e,"isPositive"))},replace:function(e,t){var r;if(e instanceof a){r=_.indexOf(this.terms,e)}else{r=e}var n=[];if(_.isArray(t)){n=t}else if(t){n=[t]}var i=this.terms.slice(0,r).concat(n).concat(this.terms.slice(r+1));return new this.func(i)},remove:function(e){return this.replace(e)},getDenominator:function(){return new x(_.invoke(this.terms,"getDenominator")).flatten()}});function b(){if(arguments.length===1){this.terms=arguments[0]}else{this.terms=_.toArray(arguments)}}b.prototype=new n;_.extend(b.prototype,{func:b,eval:function(r,n){return _.reduce(this.terms,function(e,t){return e+t.eval(r,n)},0)},codegen:function(){return _.map(this.terms,function(e){return"("+e.codegen()+")"}).join(" + ")||"0"},print:function(){return _.invoke(this.terms,"print").join("+")},tex:function(){var t="";_.each(this.terms,function(e){if(!t||e.isSubtract()){t+=e.tex()}else{t+="+"+e.tex()}});return t},collect:function(i){var e=_.invoke(this.terms,"collect",i);var r=[];_.each(e,function(e){if(e instanceof x){var t=e.partition();r.push([t[1].flatten(),t[0].reduce(i)])}else if(e instanceof S){r.push([S.One,e])}else{r.push([e,S.One])}});var t=_.groupBy(r,function(e){return e[0].normalize().print()});var n=_.compact(_.map(t,function(e){var t=e[0][0];var r=new b(_.zip.apply(_,e)[1]);var n=r.reduce(i);return new x(n,t).collect(i)}));return new b(n).flatten()},factor:function(e){e=_.extend({keepNegative:false},e);var t=_.invoke(this.terms,"collect");var r;if(t[0]instanceof x){r=t[0].terms}else{r=[t[0]]}_.each(_.rest(this.terms),function(t){r=_.map(r,function(e){return t.findGCD(e)})});if(!e.keepNegative&&this.isNegative()){r.push(S.Neg)}r=new x(r).flatten().collect();var n=_.map(t,function(e){return x.handleDivide(e,r).simplify()});n=new b(n).flatten();return x.createOrAppend(r,n).flatten()},reduce:function(r){return _.reduce(this.terms,function(e,t){return e.add(t,r)},this.identity)},needsExplicitMul:function(){return false},isNegative:function(){var e=_.invoke(this.terms,"collect");return _.all(_.invoke(e,"isNegative"))},negate:function(){return new b(_.invoke(this.terms,"negate"))}});function x(){if(arguments.length===1){this.terms=arguments[0]}else{this.terms=_.toArray(arguments)}}x.prototype=new n;_.extend(x.prototype,{func:x,eval:function(r,n){return _.reduce(this.terms,function(e,t){return e*t.eval(r,n)},1)},codegen:function(){return _.map(this.terms,function(e){return"("+e.codegen()+")"}).join(" * ")||"0"},print:function(){return _.map(this.terms,function(e){return e instanceof b?"("+e.print()+")":e.print()}).join("*")},getUnits:function(){var e=_(this.terms).chain().map(function(e){return e.getUnits()}).flatten().value();e.sort(function(e,t){return e.unit<t.unit});return e},tex:function(){var t=" \\cdot ";var e=_.groupBy(this.terms,function(e){if(e.isDivide()){return"inverse"}else if(e instanceof S){return"number"}else{return"other"}});var i=e.inverse||[];var r=e.number||[];var n=e.other||[];var a="";var o;for(var s=0;s<r.length;s++){var l=r[s]instanceof A&&!(r[s]instanceof T);if(l&&n.length>0&&i.length>0){var c=r.slice();c.splice(s,1);var u=c.concat(i).concat(n);return r[s].tex()+new x(u).tex()}}r=_.compact(_.map(r,function(e){var t=e instanceof A&&!(e instanceof T);var r=!e.hints.fraction||i.length>0;if(t&&r){i.push(new w(new T(e.d),S.Div));var n=new T(e.n);n.hints=e.hints;return _.any(e.hints)?n:null}else{return e}}));if(r.length===0&&n.length===1){o=n[0].tex()}else{var h="";_.each(r,function(e){if(e.hints.subtract&&e.hints.entered){a+="-";h+=(h?t:"")+e.abs().tex()}else if(e instanceof T&&e.n===-1&&(e.hints.negate||e.hints.subtract)){a+="-"}else{h+=(h?t:"")+e.tex()}});_.each(n,function(e){if(e.needsExplicitMul()){h+=(h?t:"")+e.tex()}else if(e instanceof b){h+="("+e.tex()+")"}else{h+=e.tex()}});o=h?h:"1"}if(!i.length){return a+o}else{var f=new x(_.invoke(i,"asDivide")).flatten().tex();return a+"\\frac{"+o+"}{"+f+"}"}},strip:function(){var e=_.map(this.terms,function(e){return e instanceof S?e.abs():e.strip()});return new x(e).flatten()},expand:function(){var t=function(e){return e instanceof b};var r=function(e){return e instanceof w&&e.exp.isNegative()};var e=function(e){return r(e)&&t(e.base)};var n=this.recurse("expand").flatten();var i=_.any(n.terms,t);var a=_.any(n.terms,e);if(!(i||a)){return n}var o=_.groupBy(n.terms,r);var s=o[false]||[];var l=o[true]||[];if(i){var c=_.groupBy(s,t);var u=c[true]||[];var h=c[false]||[];var f=_.reduce(u,function(e,r){return _.reduce(e,function(e,t){return e.concat(_.map(r.terms,function(e){return t.concat(e)}))},[])},[[]]);var p=_.map(f,function(e){return new x(h.concat(e)).flatten()});s=[new b(p)]}if(a){var d=new x(_.invoke(l,"getDenominator")).flatten();l=[new w(d.expand(),S.Div)]}return new x(s.concat(l)).flatten()},factor:function(e){var t=this.recurse("factor",e).flatten();if(!(t instanceof x)){return t}var r=_.groupBy(t.terms,function(e){return e instanceof A});var n=_.reduce(r[true],function(e,t){return{n:e.n*t.n,d:e.d*t.d}},{n:1,d:1});if(n.d===1){n=new T(n.n)}else{n=new A(n.n,n.d)}return new x((r[false]||[]).concat(n)).flatten()},collect:function(i){var e=this.recurse("collect",i).partition();var t=e[0].reduce(i);if(t.eval()===0){return S.Zero}var r=e[1].flatten();if(!(r instanceof x)){return new x(t,r).flatten()}r=r.terms;var n=[];_.each(r,function(e){if(e instanceof w){n.push([e.base,e.exp])}else{n.push([e,S.One])}});var a=_.groupBy(n,function(e){return e[0].normalize().print()});var o=_.compact(_.map(a,function(e){var t=e[0][0];var r=new b(_.zip.apply(_,e)[1]);var n=r.collect(i);if(n instanceof S&&n.eval()===0){return null}else{return[t,n]}}));var n=_.groupBy(o,function(e){if(e[0]instanceof d&&e[0].isBasic()){return"trig"}else if(e[0]instanceof p){return"log"}else{return"expr"}});var s=n.trig||[];var l=n.log||[];var c=n.expr||[];if(s.length>1){var u=_.groupBy(s,function(e){return e[0].arg.normalize().print()});s=[];_.each(u,function(e){var r=e[0][0].arg;var t={sin:S.Zero,cos:S.Zero};_.each(e,function(e){t[e[0].type]=e[1]});if(x.handleNegative(t.sin).collect(i).equals(t.cos)){if(t.cos.isNegative()){t={tan:t.sin}}else{t={cot:t.cos}}}_.each(t,function(e,t){s.push([new d(t,r),e])})})}if(l.length>1){var h=_.groupBy(l,function(e){return e[0].base.normalize().print()});l=[];_.each(h,function(e){if(e.length===2&&x.handleNegative(e[0][1]).collect(i).equals(e[1][1])){if(e[0][1].isNegative()){l.push([new p(e[0][0].power,e[1][0].power),e[1][1]])}else{l.push([new p(e[1][0].power,e[0][0].power),e[0][1]])}}else{l=l.concat(e)}})}n=s.concat(l).concat(c);var f=_.map(n,function(e){return new w(e[0],e[1]).collect(i)});return new x([t].concat(f)).flatten()},isSubtract:function(){return _.any(this.terms,function(e){return e instanceof S&&e.hints.subtract})},factorIn:function(e){var t=this.partition();var r=t[0].terms;var n=r.length&&_.all(r,function(e){return e.n>0});if(n){var i=r[0].negate();i.hints=r[0].hints;return this.replace(r[0],i.addHint(e))}else{return new x([S.negativeOne(e)].concat(this.terms))}},factorOut:function(){var n=false;var e=_.compact(_.map(this.terms,function(e,t,r){if(!n&&e instanceof S&&e.hints.divide){n=true;return e.n!==-1?e.negate():null}else{return e}}));if(e.length===1){return e[0]}else{return new x(e)}},reduce:function(r){return _.reduce(this.terms,function(e,t){return e.mul(t,r)},this.identity)},findGCD:function(e){return new x(_.invoke(this.terms,"findGCD",e)).flatten()},asMul:function(){return this},asPositiveFactor:function(){if(this.isPositive()){return this}else{var e=_.invoke(this.collect().terms,"asPositiveFactor");return new x(e).flatten()}},isNegative:function(){return _.any(_.invoke(this.collect().terms,"isNegative"))},fold:function(){return x.fold(this)},negate:function(){var e=function(e){return e instanceof S};if(_.any(this.terms,e)){var t=_.find(this.terms,e);return this.replace(t,t.negate())}else{return new x([S.Neg].concat(this.terms))}}});_.each([b,x],function(r){_.extend(r,{createOrAppend:function(e,t){if(e instanceof r){return new r(e.terms.concat(t))}else{return new r(e,t)}}})});_.extend(x,{handleNegative:function(e,t){if(e instanceof S&&e.n>0){var r=e.negate();r.hints=e.hints;return r.addHint(t)}else if(e instanceof x){return e.factorIn(t)}else{return new x(S.negativeOne(t),e)}},handleDivide:function(e,t){if(t instanceof x){var r=x.handleDivide(e,t.terms[0]);var n=new x(_.rest(t.terms)).flatten();return x.handleDivide(r,n)}var i=function(e){return e instanceof T};var a=function(e){return e instanceof A};if(i(t)&&e instanceof x&&_.any(e.terms,i)){var o=e.terms.slice().reverse();var s=_.find(o,a);if(!i(s)){return new x(e.terms.concat([new A(1,t.n).addHint("fraction")]))}var l=new A(s.n,t.n);l.hints=s.hints;if(s===o[0]){l=l.addHint("fraction")}var c;if(s.n<0&&t.n<0){l.d=-l.d;return e.replace(s,[S.Neg,l])}else{return e.replace(s,l)}}var u=function(e,t){if(t instanceof T){if(e instanceof T){if(e.n<0&&t.n<0){return[S.Neg,new A(e.n,-t.n).addHint("fraction")]}else{return[new A(e.n,t.n).addHint("fraction")]}}else{var r=new A(1,t.eval());if(t.eval()<0){return[e,r.addHint("negate")]}else{return[e,r]}}}else{var n;if(t instanceof d&&t.exp){var i=t.exp;t.exp=undefined;t=new w(t,i)}if(t instanceof w){n=new w(t.base,x.handleNegative(t.exp,"divide"))}else{n=new w(t,S.Div)}if(e instanceof T&&e.n===1){return[n]}else{return[e,n]}}};if(e instanceof x){var h=u(_.last(e.terms),t);return new x(_.initial(e.terms).concat(h))}else{var h=u(e,t);return new x(h).flatten()}},fold:function(e){if(e instanceof x){var t=_.find(_.initial(e.terms),function(e){return(e instanceof d||e instanceof p)&&e.hints.open});var r=_.indexOf(e.terms,t);if(t){var n=_.last(e.terms);if(t.hints.parens||n.hints.parens||n.has(d)||n.has(p)){t.hints.open=false}else{var i;if(t instanceof d){i=d.create([t.type,t.exp],x.createOrAppend(t.arg,n).fold())}else{i=p.create(t.base,x.createOrAppend(t.power,n).fold())}if(r===0){return i}else{return new x(e.terms.slice(0,r).concat(i)).fold()}}}var a=e.partition();var o=a[0].terms;var s=function(e){return e.n>0};var l=function(e){return e.n===-1&&e.hints.negate};var c=function(e){return s(e)||l(e)};if(o.length>1&&_.some(o,l)&&_.some(o,s)&&_.every(o,c)){var u=_.indexOf(e.terms,_.find(e.terms,l));var h=_.indexOf(e.terms,_.find(e.terms,s));if(u<h){return e.replace(h,e.terms[h].negate()).remove(u)}}}return e}});function w(e,t){this.base=e;this.exp=t}w.prototype=new a;_.extend(w.prototype,{func:w,args:function(){return[this.base,this.exp]},eval:function(e,t){var r=this.base.eval(e,t);var n=this.exp.eval(e,t);if(r<0){var i=this.exp.simplify();if(i instanceof f){var a=i.n;var o=(a-a.toFixed()).toString().length-2;var s=Math.pow(10,o);var l=new A(a*s,s);i=l.simplify()}if(i instanceof A){var c=Math.abs(i.d)%2===1;if(c){var u=Math.abs(i.n)%2===1;var h=u?-1:1;return h*Math.pow(-1*r,n)}}}return Math.pow(r,n)},getUnits:function(){return this.base.getUnits().map(function(e){return{unit:e.unit,pow:e.pow*this.exp.n}}.bind(this))},codegen:function(){return"Math.pow("+this.base.codegen()+", "+this.exp.codegen()+")"},print:function(){var e=this.base.print();if(this.base instanceof n||this.base instanceof w){e="("+e+")"}return e+"^("+this.exp.print()+")"},tex:function(){if(this.isDivide()){return"\\frac{1}{"+this.asDivide().tex()+"}"}else if(this.isRoot()){if(this.exp.n!==1){r("Node marked with hint 'root' does not have exponent "+"of form 1/x.")}if(this.exp.d===2){return"\\sqrt{"+this.base.tex()+"}"}else{return"\\sqrt["+this.exp.d+"]{"+this.base.tex()+"}"}}else if(this.base instanceof d&&!this.base.isInverse()&&this.exp instanceof S&&this.exp.isSimple()&&this.exp.eval()>=0){var e=this.base.tex({split:true});return e[0]+"^{"+this.exp.tex()+"}"+e[1]}else{var t=this.base.tex();if(this.base instanceof n||this.base instanceof w||this.base instanceof S&&!this.base.isSimple()){t="("+t+")"}else if(this.base instanceof d||this.base instanceof p){t="["+t+"]"}return t+"^{"+this.exp.tex()+"}"}},needsExplicitMul:function(){return this.isRoot()?false:this.base.needsExplicitMul()},expand:function(){var t=this.recurse("expand");if(t.base instanceof x){var e=_.map(t.base.terms,function(e){return new w(e,t.exp)});return new x(e).expand()}else if(t.base instanceof b&&t.exp instanceof T&&t.exp.abs().eval()>1){var r=t.exp.eval()>0;var n=t.exp.abs().eval();var i=function(e){return r?e:new w(e,S.Div)};var a={1:t.base};for(var o=2;o<=n;o*=2){var s=new x(a[o/2],a[o/2]);a[o]=s.expand().collect()}if(_.has(a,n)){return i(a[n])}var l=_.map(n.toString(2).split(""),function(e,t,r){return Number(e)*Math.pow(2,r.length-t-1)});l=_.without(l,0);var s=new x(_.pick(a,l)).expand().collect();return i(s)}else if(t.exp instanceof b){var e=_.map(t.exp.terms,function(e){return new w(t.base,e).expand()});return new x(e).expand()}else{return t}},factor:function(){var t=this.recurse("factor");if(t.base instanceof x){var e=_.map(t.base.terms,function(e){if(e instanceof T&&t.exp.equals(S.Div)){return new A(1,e.n)}else{return new w(e,t.exp)}});return new x(e)}else{return t}},collect:function(e){if(this.base instanceof w){var t=this.base.base;var r=x.createOrAppend(this.base.exp,this.exp);return new w(t,r).collect(e)}var n=this.recurse("collect",e);var i=function(e){return e instanceof p&&e.base.equals(n.base)};if(n.exp instanceof S&&n.exp.eval()===0){return S.One}else if(n.exp instanceof S&&n.exp.eval()===1){return n.base}else if(i(n.exp)){return n.exp.power}else if(n.exp instanceof x&&_.any(n.exp.terms,i)){var a=_.find(n.exp.terms,i);var t=a.power;var r=n.exp.remove(a).flatten();return new w(t,r).collect(e)}else if(n.base instanceof S&&n.exp instanceof S){if(e&&e.preciseFloats){var r=n.exp.asRational();var o=n.base.getDecimalPlaces();var s=new w(n.base,new A(1,r.d));var l=s.collect().getDecimalPlaces();if(l>o){var c=new w(n.base,new T(r.n)).collect();return new w(c,new A(1,r.d))}}return n.base.raiseToThe(n.exp,e)}else{return n}},isDivide:function(){var e=function(e){return e instanceof S&&e.hints.divide};return e(this.exp)||this.exp instanceof x&&_.any(this.exp.terms,e)},asDivide:function(){if(this.exp instanceof S){if(this.exp.eval()===-1){return this.base}else{var e=this.exp.negate();e.hints=_.clone(this.exp.hints);e.hints.divide=false;return new w(this.base,e)}}else if(this.exp instanceof x){return new w(this.base,this.exp.factorOut())}else{r("called asDivide() on an Expr that wasn't a Num or Mul")}},isRoot:function(){return this.exp instanceof A&&this.exp.hints.root},isSquaredTrig:function(){return this.base instanceof d&&!this.base.isInverse()&&this.exp instanceof S&&this.exp.eval()===2},getDenominator:function(){if(this.exp instanceof S&&this.exp.eval()===-1){return x.createOrAppend(this.base,this.base.getDenominator()).flatten()}else if(this.exp.isNegative()){var e=new w(this.base,x.handleNegative(this.exp).collect());return x.createOrAppend(e,e.collect().getDenominator()).flatten()}else if(this.base instanceof S){return new w(this.base.getDenominator(),this.exp).collect()}else{return S.One}},findGCD:function(e){var t,r;if(e instanceof w){t=e.base;r=e.exp}else{t=e;r=S.One}if(this.base.equals(t)){if(this.exp.equals(r)){return this}else if(this.exp instanceof S&&r instanceof S){return new w(this.base,S.min(this.exp,r)).collect()}else if(this.exp instanceof S||r instanceof S){return S.One}var n=this.exp.asMul().partition();var i=r.asMul().partition();if(n[1].equals(i[1])){var a=S.min(n[0].reduce(),i[0].reduce());var o=new x(a,n[1].flatten()).flatten();return new w(t,o).collect()}}return S.One},isPositive:function(){if(this.base.isPositive()){return true}var e=this.exp.simplify();return e instanceof T&&e.eval()%2===0},asPositiveFactor:function(){if(this.isPositive()){return this}else{var e=this.exp.simplify();if(e instanceof T){var t=e.eval();if(t>2){return new w(this.base,new T(t-1))}else if(t<-2){return new w(this.base,new T(t+1))}}return S.One}}});_.extend(w,{sqrt:function(e){return new w(e,S.Sqrt)},nthroot:function(e,t){var r=x.fold(x.handleDivide(new T(1),t));return new w(e,r.addHint("root"))}});function p(e,t){this.base=e;this.power=t}p.prototype=new a;_.extend(p.prototype,{func:p,args:function(){return[this.base,this.power]},eval:function(e,t){return Math.log(this.power.eval(e,t))/Math.log(this.base.eval(e,t))},codegen:function(){return"(Math.log("+this.power.codegen()+") / Math.log("+this.base.codegen()+"))"},print:function(){var e="("+this.power.print()+")";if(this.isNatural()){return"ln"+e}else{return"log_("+this.base.print()+") "+e}},tex:function(){var e="("+this.power.tex()+")";if(this.isNatural()){return"\\ln"+e}else{return"\\log_{"+this.base.tex()+"}"+e}},collect:function(e){var t=this.recurse("collect",e);if(t.power instanceof S&&t.power.eval()===1){return S.Zero}else if(t.base.equals(t.power)){return S.One}else if(t.power instanceof w&&t.power.base.equals(t.base)){return t.power.exp}else{return t}},expand:function(){var t=this.recurse("expand");if(t.power instanceof x){var e=_.map(t.power.terms,function(e){return new p(t.base,e).expand()});return new b(e)}else if(t.power instanceof w){return new x(t.power.exp,new p(t.base,t.power.base).expand()).flatten()}else if(!t.isNatural()){return x.handleDivide(new p(s.e,t.power),new p(s.e,t.base))}else{return t}},hints:_.extend(p.prototype.hints,{open:false}),isPositive:function(){var e=this.collect();if(e.base instanceof S&&e.power instanceof S){return this.eval()>0}else{return false}},needsExplicitMul:function(){return false},isNatural:function(){return this.base.equals(s.e)}});_.extend(p,{natural:function(){return s.e},common:function(){return S.Ten},create:function(e,t){var r=new p(e,t);if(!t.hints.parens){r=r.addHint("open")}return r}});function d(e,t){this.type=e;this.arg=t}d.prototype=new a;_.extend(d.prototype,{func:d,args:function(){return[this.type,this.arg]},functions:{sin:{eval:Math.sin,codegen:"Math.sin((",tex:"\\sin",expand:function(){return this}},cos:{eval:Math.cos,codegen:"Math.cos((",tex:"\\cos",expand:function(){return this}},tan:{eval:Math.tan,codegen:"Math.tan((",tex:"\\tan",expand:function(){return x.handleDivide(d.sin(this.arg),d.cos(this.arg))}},csc:{eval:function(e){return 1/Math.sin(e)},codegen:"(1/Math.sin(",tex:"\\csc",expand:function(){return x.handleDivide(S.One,d.sin(this.arg))}},sec:{eval:function(e){return 1/Math.cos(e)},codegen:"(1/Math.cos(",tex:"\\sec",expand:function(){return x.handleDivide(S.One,d.cos(this.arg))}},cot:{eval:function(e){return 1/Math.tan(e)},codegen:"(1/Math.tan(",tex:"\\cot",expand:function(){return x.handleDivide(d.cos(this.arg),d.sin(this.arg))}},arcsin:{eval:Math.asin,codegen:"Math.asin((",tex:"\\arcsin"},arccos:{eval:Math.acos,codegen:"Math.acos((",tex:"\\arccos"},arctan:{eval:Math.atan,codegen:"Math.atan((",tex:"\\arctan"},arccsc:{eval:function(e){return Math.asin(1/e)},codegen:"Math.asin(1/(",tex:"\\operatorname{arccsc}"},arcsec:{eval:function(e){return Math.acos(1/e)},codegen:"Math.acos(1/(",tex:"\\operatorname{arcsec}"},arccot:{eval:function(e){return Math.atan(1/e)},codegen:"Math.atan(1/(",tex:"\\operatorname{arccot}"},sinh:{eval:function(e){return(Math.exp(e)-Math.exp(-e))/2},codegen:function(e){return"((Math.exp("+e+") - Math.exp(-("+e+"))) / 2)"},tex:"\\sinh",expand:function(){return this}},cosh:{eval:function(e){return(Math.exp(e)+Math.exp(-e))/2},codegen:function(e){return"((Math.exp("+e+") + Math.exp(-("+e+"))) / 2)"},tex:"\\cosh",expand:function(){return this}},tanh:{eval:function(e){return(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))},codegen:function(e){return"("+"(Math.exp("+e+") - Math.exp(-("+e+")))"+" / "+"(Math.exp("+e+") + Math.exp(-("+e+")))"+")"},tex:"\\tanh",expand:function(){return x.handleDivide(d.sinh(this.arg),d.cosh(this.arg))}},csch:{eval:function(e){return 2/(Math.exp(e)-Math.exp(-e))},codegen:function(e){return"(2 / (Math.exp("+e+") - Math.exp(-("+e+"))))"},tex:"\\csch",expand:function(){return x.handleDivide(S.One,d.sinh(this.arg))}},sech:{eval:function(e){return 2/(Math.exp(e)+Math.exp(-e))},codegen:function(e){return"(2 / (Math.exp("+e+") + Math.exp(-("+e+"))))"},tex:"\\sech",expand:function(){return x.handleDivide(S.One,d.cosh(this.arg))}},coth:{eval:function(e){return(Math.exp(e)+Math.exp(-e))/(Math.exp(e)-Math.exp(-e))},codegen:function(e){return"("+"(Math.exp("+e+") + Math.exp(-("+e+")))"+" / "+"(Math.exp("+e+") - Math.exp(-("+e+")))"+")"},tex:"\\coth",expand:function(){return x.handleDivide(d.cosh(this.arg),d.sinh(this.arg))}}},isEven:function(){return _.contains(["cos","sec"],this.type)},isInverse:function(){return this.type.indexOf("arc")===0},isBasic:function(){return _.contains(["sin","cos"],this.type)},eval:function(e,t){var r=this.functions[this.type].eval;var n=this.arg.eval(e,t);return r(n)},codegen:function(){var e=this.functions[this.type].codegen;if(typeof e==="function"){return e(this.arg.codegen())}else if(typeof e==="string"){return e+this.arg.codegen()+"))"}else{throw new Error("codegen not implemented for "+this.type)}},print:function(){return this.type+"("+this.arg.print()+")"},tex:function(e){var t=this.functions[this.type].tex;var r="("+this.arg.tex()+")";return e&&e.split?[t,r]:t+r},hints:_.extend(d.prototype.hints,{open:false}),isPositive:function(){var e=this.collect();if(e.arg instanceof S){return this.eval()>0}else{return false}},completeParse:function(){if(this.exp){var e=new w(this,this.exp);this.exp=undefined;return e}else{return this}},needsExplicitMul:function(){return false},expand:function(){var e=this.recurse("expand");if(!e.isInverse()){var t=e.functions[e.type].expand;return _.bind(t,e)()}else{return e}},collect:function(e){var t=this.recurse("collect",e);if(!t.isInverse()&&t.arg.isNegative()){var r;if(t.arg instanceof S){r=t.arg.abs()}else{r=x.handleDivide(t.arg,S.Neg).collect(e)}if(t.isEven()){return new d(t.type,r)}else{return new x(S.Neg,new d(t.type,r))}}else{return t}}});_.extend(d,{create:function(e,t){var r=e[0];var n=e[1];if(n&&n.equals(S.Neg)){r="arc"+r;n=undefined}var i=new d(r,t);if(!t.hints.parens){i=i.addHint("open")}if(n){i.exp=n}return i},sin:function(e){return new d("sin",e)},cos:function(e){return new d("cos",e)},sinh:function(e){return new d("sinh",e)},cosh:function(e){return new d("cosh",e)}});function i(e){this.arg=e}i.prototype=new a;_.extend(i.prototype,{func:i,args:function(){return[this.arg]},eval:function(e,t){return Math.abs(this.arg.eval(e,t))},codegen:function(){return"Math.abs("+this.arg.codegen()+")"},print:function(){return"abs("+this.arg.print()+")"},tex:function(){return"\\left|"+this.arg.tex()+"\\right|"},collect:function(e){var t=this.recurse("collect",e);if(t.arg.isPositive()){return t.arg}else if(t.arg instanceof S){return t.arg.abs()}else if(t.arg instanceof x){var r=_.groupBy(t.arg.terms,function(e){if(e.isPositive()){return"positive"}else if(e instanceof S){return"number"}else{return"other"}});var n=r.positive.concat(_.invoke(r.number,"abs"));if(r.other.length){n.push(new i(new x(r.other).flatten()))}return new x(n).flatten()}else{return t}},expand:function(){var e=this.recurse("expand");if(e.arg instanceof x){var t=_.map(e.arg.terms,function(e){return new i(e)});return new x(t)}else{return e}},isPositive:function(){return true}});function k(e,t,r){this.left=e;this.type=t;this.right=r}k.prototype=new a;_.extend(k.prototype,{func:k,args:function(){return[this.left,this.type,this.right]},needsExplicitMul:function(){return false},print:function(){return this.left.print()+this.type+this.right.print()},signs:{"=":" = ","<":" < ",">":" > ","<>":" \\ne ","<=":" \\le ",">=":" \\ge "},tex:function(){return this.left.tex()+this.signs[this.type]+this.right.tex()},normalize:function(){var e=this.recurse("normalize");if(_.contains([">",">="],e.type)){return new k(e.right,e.type.replace(">","<"),e.left)}else{return e}},asExpr:function(e){var t=function(e){return e instanceof S&&e.isSimple()&&e.eval()===0};var r=[];if(this.left instanceof b){r=_.clone(this.left.terms)}else if(!t(this.left)){r=[this.left]}if(this.right instanceof b){r=r.concat(this.right.negate().terms)}else if(!t(this.right)){r.push(this.right.negate())}var n=!this.isEquality();r=_.invoke(r,"collect",{preciseFloats:true});for(var i=0;i<r.length;i++){var a=r[i].getDenominator();if(n&&!a.isPositive()){a=a.asPositiveFactor()}if(!a.equals(S.One)){r=_.map(r,function(e){return x.createOrAppend(e,a).simplify({once:true,preciseFloats:true})})}}var o=new b(r).flatten();return e?o:this.divideThrough(o)},divideThrough:function(e){var t=!this.isEquality();var r=e.simplify({once:true});var n=r.factor({keepNegative:t});if(!(n instanceof x)){return e}var i=n.terms;var a=function(e){return e instanceof b};var o=function(e){return!!e.getVars().length};var s=function(e){return e.equals(S.One)};var l=_.groupBy(i,a);var c=l[true]||[];var u=l[false]||[];if(c.length&&this.isEquality()){return new x(c).flatten()}var h=u;if(!c.length){h=_.reject(h,o)}if(t){h=_.invoke(h,"asPositiveFactor")}h=_.reject(h,s);h=_.map(h,function(e){return new w(e,S.Div)});var f=new x(i.concat(h)).collect();if(f.equals(n)){return r}else{return f}},isEquality:function(){return _.contains(["=","<>"],this.type)},compare:function(e){if(!(e instanceof k)){return false}var t=this.normalize();var r=e.normalize();if(t.type!==r.type){return false}var n=t.divideThrough(t.asExpr(true).collect());var i=r.divideThrough(r.asExpr(true).collect());if(t.isEquality()){return n.compare(i)||n.compare(x.handleNegative(i))}else{return n.compare(i)}},sameForm:function(e){var t=this.normalize();var r=e.normalize();var n=t.left.sameForm(r.left)&&t.right.sameForm(r.right);if(t.isEquality()){return n||t.left.sameForm(r.right)&&t.right.sameForm(r.left)}else{return n}},isSimplified:function(){var e=this.asExpr(true);var t=this.divideThrough(e).simplify();return e.equals(t)&&this.left.isSimplified()&&this.right.isSimplified()}});_.extend(k.prototype,{solveLinearEquationForVariable:function(t){var e=this.asExpr();if(!e.is(b)||e.terms.length!==2){throw new Error("Can only handle linear equations of the form "+"a + bx (= 0)")}var r=function(e){return e.has(o)&&_.contains(e.getVars(),t.symbol)};var n,i;if(r(e.terms[0])){n=x.handleNegative(e.terms[1]);i=x.handleDivide(e.terms[0],t)}else{n=x.handleNegative(e.terms[0]);i=x.handleDivide(e.terms[1],t)}return x.handleDivide(n,i).simplify()}});function t(){}t.prototype=new a;_.extend(t.prototype,{needsExplicitMul:function(){return false},findGCD:function(e){if(e instanceof t||e instanceof S){return this.equals(e)?this:S.One}else{return e.findGCD(this)}}});function M(e,t){this.symbol=e;this.arg=t}M.prototype=new t;_.extend(M.prototype,{func:M,args:function(){return[this.symbol,this.arg]},print:function(){return this.symbol+"("+this.arg.print()+")"},tex:function(){return this.symbol+"("+this.arg.tex()+")"},eval:function(e,t){var r=this.arg;var n=e[this.symbol];var i=_.extend(_.clone(e),{x:r.eval(e,t)});var a=l.parse(n,t);if(a.parsed){return a.expr.eval(i,t)}return a},codegen:function(){return'vars["'+this.symbol+'"]('+this.arg.codegen()+")"},getUnits:function(){return this.arg.getUnits()},getVars:function(e){if(e){return this.arg.getVars()}else{return _.union(this.arg.getVars(),[this.symbol]).sort()}},getConsts:function(){return this.arg.getConsts()}});function o(e,t){this.symbol=e;this.subscript=t}o.prototype=new t;_.extend(o.prototype,{func:o,args:function(){return[this.symbol,this.subscript]},exprArgs:function(){return[]},recurse:function(){return this},print:function(){var e="";if(this.subscript){e="_("+this.subscript.print()+")"}return this.symbol+e},prettyPrint:function(){var e=this.subscript;if(e&&(e instanceof S||e instanceof t)){return this.symbol+"_"+e.print()}else{return this.print()}},tex:function(){var e="";if(this.subscript){e="_{"+this.subscript.tex()+"}"}var t=this.symbol.length>1?"\\":"";return t+this.symbol+e},repr:function(){return"Var("+this.print()+")"},eval:function(e,t){return e[this.prettyPrint()]},codegen:function(){return'vars["'+this.prettyPrint()+'"]'},getVars:function(){return[this.prettyPrint()]},isPositive:function(){return false}});function s(e){this.symbol=e}s.prototype=new t;_.extend(s.prototype,{func:s,args:function(){return[this.symbol]},recurse:function(){return this},eval:function(e,t){if(this.symbol==="pi"){return Math.PI}else if(this.symbol==="e"){return Math.E}},codegen:function(){if(this.symbol==="pi"){return"Math.PI"}else if(this.symbol==="e"){return"Math.E"}},print:function(){return this.symbol},tex:function(){if(this.symbol==="pi"){return"\\pi "}else if(this.symbol==="e"){return"e"}},isPositive:function(){return this.eval()>0},abs:function(){if(this.eval()>0){return this}else{return x.handleNegative(this)}},getConsts:function(){return[this.print()]}});s.e=new s("e");s.pi=new s("pi");function S(){}S.prototype=new a;_.extend(S.prototype,{repr:function(){return this.print()},strip:function(){return this.abs()},recurse:function(){return this},codegen:function(){return this.print()},add:e,mul:e,negate:e,isSubtract:function(){return this.hints.subtract},abs:e,needsExplicitMul:function(){return true},findGCD:e,isPositive:function(){return this.eval()>0},isNegative:function(){return this.eval()<0},asPositiveFactor:function(){return this.isPositive()?this:this.abs()},hints:_.extend(S.prototype.hints,{negate:false,subtract:false,divide:false,root:false,fraction:false,entered:false}),isSimple:e,getDecimalPlaces:function(){var e=(""+this.n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(e){return Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0))}else{return 0}},asRational:e});function A(e,t){var r=e;var n=t;if(n<0){r=-r;n=-n}this.n=r;this.d=n}A.prototype=new S;_.extend(A.prototype,{func:A,args:function(){return[this.n,this.d]},eval:function(){return this.n/this.d},print:function(){return this.n.toString()+"/"+this.d.toString()},tex:function(){var e="\\frac{"+Math.abs(this.n).toString()+"}{"+this.d.toString()+"}";return this.n<0?"-"+e:e},add:function(e,t){if(e instanceof A){return new A(this.n*e.d+this.d*e.n,this.d*e.d).collect()}else{return e.add(this,t)}},mul:function(e,t){if(e instanceof A){return new A(this.n*e.n,this.d*e.d).collect()}else{return e.mul(this,t)}},collect:function(){var e=S.findGCD(this.n,this.d);var t=this.n/e;var r=this.d/e;if(r===1){return new T(t)}else{return new A(t,r)}},negate:function(){return new A(-this.n,this.d)},abs:function(){return new A(Math.abs(this.n),this.d)},findGCD:function(e){if(e instanceof A){var t=S.findGCD(this.n*e.d,e.n*this.d);var r=this.d*e.d;return new A(t,r).collect()}else if(e instanceof T){return new A(S.findGCD(this.n,e.n),this.d)}else{return e.findGCD(this)}},raiseToThe:function(e){if(e instanceof T){var t=e.eval()>0;var r=e.abs().eval();var n=Math.pow(this.n,r);var i=Math.pow(this.d,r);if(t){return new A(n,i).collect()}else{return new A(i,n).collect()}}else{return new f(this.eval()).raiseToThe(e)}},getDenominator:function(){return new T(this.d)},isSimple:function(){return false},asRational:function(){return this}});function T(e){this.n=e}T.prototype=new A(0,1);_.extend(T.prototype,{func:T,args:function(){return[this.n]},print:function(){return this.n.toString()},tex:function(){return this.n.toString()},negate:function(){return new T(-this.n)},abs:function(){return new T(Math.abs(this.n))},isSimple:function(){return true},findGCD:function(e){if(e instanceof T){return new T(S.findGCD(this.n,e.n))}else{return e.findGCD(this)}}});_.extend(T,{create:function(e){return new T(e).addHint("entered")}});function f(e){this.n=e}f.prototype=new S;_.extend(f.prototype,{func:f,args:function(){return[this.n]},eval:function(){return this.n},print:function(){return this.n.toString()},tex:function(){return this.n.toString()},add:function(e,t){if(t&&t.preciseFloats){return f.toDecimalPlaces(this.n+e.eval(),Math.max(this.getDecimalPlaces(),e.getDecimalPlaces()))}else{return new f(this.n+e.eval()).collect()}},mul:function(e,t){if(t&&t.preciseFloats){return f.toDecimalPlaces(this.n*e.eval(),this.getDecimalPlaces()+e.getDecimalPlaces())}else{return new f(this.n*e.eval()).collect()}},collect:function(){return this},negate:function(){return new f(-this.n)},abs:function(){return new f(Math.abs(this.n))},findGCD:function(e){if(e instanceof S){return new f(S.findGCD(this.eval(),e.eval())).collect()}else{return e.findGCD(this)}},raiseToThe:function(e,t){if(t&&t.preciseFloats&&e instanceof T&&e.n>1){return f.toDecimalPlaces(new w(this,e).eval(),this.getDecimalPlaces()*e.n)}else{return new f(new w(this,e).eval()).collect()}},asRational:function(){var e=this.n.toString().split(".");if(e.length===1){return new A(this.n,1)}else{var t=Number(e.join(""));var r=Math.pow(10,e[1].length);return new A(t,r).collect()}},getDenominator:function(){return this.asRational().getDenominator()},isSimple:function(){return true}});_.extend(f,{create:function(e){return new f(e).addHint("entered")},toDecimalPlaces:function(e,t){return new f(+e.toFixed(Math.min(t,20))).collect()}});_.extend(S,{negativeOne:function(e){if(e==="subtract"){return S.Sub}else if(e==="divide"){return S.Div}else{return S.Neg}},findGCD:function(e,t){var r;e=Math.abs(e);t=Math.abs(t);if(e!==Math.floor(e)||t!==Math.floor(t)){return 1}while(t){r=e%t;e=t;t=r}return e},min:function(){return _.min(_.toArray(arguments),function(e){return e.eval()})},max:function(){return _.max(_.toArray(arguments),function(e){return e.eval()})}});S.Neg=new T(-1).addHint("negate");S.Sub=new T(-1).addHint("subtract");S.Div=new T(-1).addHint("divide");S.Sqrt=new A(1,2).addHint("root");S.Zero=new T(0);S.One=new T(1);S.Ten=new T(10);b.prototype.identity=S.Zero;x.prototype.identity=S.One;var c=l.parser;var u=function(e,t){throw new Error(t.loc.first_column)};c.yy={Add:b,Mul:x,Pow:w,Log:p,Trig:d,Eq:k,Abs:i,Func:M,Const:s,Var:o,Int:T,Float:f,parseError:u,constants:["e"],symbolLexer:function(e){if(_.contains(c.yy.constants,e)){return"CONST"}else if(_.contains(c.yy.functions,e)){return"FUNC"}else{return"VAR"}}};l.parse=function(e,t){try{if(t&&t.functions){c.yy.functions=_.without(t.functions,"i")}else{c.yy.functions=[]}if(t&&t.decimal_separator){e=e.split(t.decimal_separator).join(".")}var r=c.parse(e).completeParse();return{parsed:true,expr:r}}catch(e){return{parsed:false,error:e.message}}};function E(e){this.symbol=e}E.prototype=new t;var h=function(t){if(_(P).has(t)||_(O).has(t)){return new E(t)}var e=_(_(C).keys()).find(function(e){return new RegExp("^"+e).test(t)});if(e){var r=t.replace(new RegExp("^"+e),"");if(_(P).has(r)||O[r]&&O[r].prefixes===I){return new x(C[e],new E(r))}else{throw new Error(r+" does not allow prefixes")}}else{return new E(t)}};l.unitParse=function(e){try{var t=l.unitParser.parse(e);var r=[];_(t.unit.num).each(function(e){r.push(new w(h(e.name),new T(e.pow)))});_(t.unit.denom).each(function(e){r.push(new w(h(e.name),new T(-1*e.pow)))});var n=new x(r).flatten();if(t.type==="unitMagnitude"){var i=[new f(+t.magnitude)].concat(r);var a=new x(i);return{parsed:true,unit:n,expr:a,coefficient:t.magnitude,type:t.type}}else{return{parsed:true,unit:n,type:t.type}}}catch(e){return{parsed:false,error:e.message}}};_.extend(E.prototype,{func:E,args:function(){return[this.symbol]},recurse:function(){return this},eval:function(e,t){return 1},getUnits:function(){return[{unit:this.symbol,pow:1}]},codegen:function(){return"1"},print:function(){return this.symbol},tex:function(){return this.symbol},collect:function(e){if(_(P).has(this.symbol)){return this}else if(_(O).has(this.symbol)){return O[this.symbol].conversion}else{throw new Error("could not understand unit: "+this.symbol)}}});var P={m:new E("m"),g:new E("g"),s:new E("s"),A:new E("A"),K:new E("K"),mol:new E("mol"),cd:new E("cd")};var C={a:new w(new T(10),new T(-18)),f:new w(new T(10),new T(-15)),p:new w(new T(10),new T(-12)),n:new w(new T(10),new T(-9)),u:new w(new T(10),new T(-6)),m:new w(new T(10),new T(-3)),c:new w(new T(10),new T(-2)),d:new w(new T(10),new T(-1)),da:new T(10),h:new w(new T(10),new T(2)),k:new w(new T(10),new T(3)),M:new w(new T(10),new T(6)),G:new w(new T(10),new T(9)),T:new w(new T(10),new T(12)),P:new w(new T(10),new T(15)),E:new w(new T(10),new T(18)),hella:new w(new T(10),new T(27))};var I={};var D={};var N=function(e,t){var r=e.split("|");var n=r[0].trim();var i=r[1].trim();var a=S.One;if(n!==""){a=l.parse(n).expr}var o=i.split("/");var s=[a];if(o[0]){o[0].split(" ").filter(function(e){return e!==""}).map(function(e){s.push(new E(e))})}if(o[1]){o[1].split(" ").filter(function(e){return e!==""}).map(function(e){s.push(new w(new E(e),S.Div))})}return{conversion:new x(s),prefixes:t}};var O={Da:N("1.6605388628 x 10^-24 | g",I),u:N("| Da",D),meter:N("| m",D),meters:N("| m",D),in:N("254 / 10000 | m",D),ft:N("3048  / 10000 | m",D),yd:N("9144  / 10000 | m",D),mi:N("1609344 / 1000 | m",D),ly:N("9.4607 x 10^15 | m",D),nmi:N("1852 | m",D),"":N("10^-10 | m",D),pc:N("3.0857 x 10^16 | m",D),min:N("60 | s",D),hr:N("3600 | s",D),sec:N("| s",D),day:N("86400 | s",D),wk:N("604800 | s",D),fortnight:N("14 | day",D),shake:N("10^-8 | s",D),olympiad:N("126200000 | s",D),"C":N("1 | K",D),"F":N("5/9 | K",D),"R":N("5/9 | K",D),e:N("1.6021765314 x 10^-19 | C",D),c:N("299792458 | m / s",D),kn:N("514/1000 | m / s",D),kt:N("| kn",D),knot:N("| kn",D),J:N("| N m",I),BTU:N("1060 | J",D),cal:N("4184 / 1000 | J",I),eV:N("1.602176514 x 10^-19 | J",I),erg:N("10^7 | J",I),W:N("| J / s",I),"H-e":N("80 | W",D),N:N("1000 | g m / s s",I),lb:N("4448221615 / 1000000000 | N",D),dyn:N("10^-5 | N",D),Pa:N("1 | N / m m m",I),bar:N("10^5 | Pa",I),"":N("1/1000 | bar",D),"":N("| bar",D),atm:N("101325 | Pa",D),Torr:N("1/760 | atm",D),mmHg:N("| Torr",D),ha:N("10^4 | m m",D),b:N("10^28 | m m",I),barn:N("| b",I),acre:N("4046.87 | m m",D),skilodge:N("10^-31 | m m",D),outhouse:N("10^-34 | m m",D),shed:N("10^-52 | m m",D),L:N("1/1000 | m m m",I),gal:N("3785/1000 | L",I),cup:N("1/16 | gal",D),qt:N("1/4 | gal",D),quart:N("| qt",D),p:N("1/8 | gal",D),pt:N("| p",D),pint:N("| p",D),"fl oz":N("1/8 | cup",D),"fl. oz.":N("1/8 | cup",D),tbsp:N("1/16 | cup",D),tsp:N("1/3 | tbsp",D),rev:N("2 pi | rad",D),deg:N("180 pi | rad",D),"":N("| deg",D),arcminute:N("1/60 | deg",D),arcsec:N("1/3600 | deg",D),Hu:N("1000 | dB",I),dozen:N("12 |",D),mol:N("6.0221412927 x 10^23 |",I),"%":N("1/100 |",D),percent:N("| %",D),ppm:N("1/1000000 |",D),V:N("1000 | g m m / s s C",I),C:N("| A s",I),ampere:N("| A",D),"":N("| V / A",I),ohm:N("| ",D),F:N("| C / V",I),H:N("| ohm s",I),T:N("1000 | g / C s",I),Wb:N("1000 | g m m / C s",I),lm:N("pi x 10^4 | cd / m m",D),lx:N("| lm / m m",D),nit:N("| cd / m m",D),sb:N("10^4 | cd / m m",D),stilb:N("1 | sb",D),apostilb:N("1 / pi x 10^(-4) | sb",D),blondel:N("| apostilb",D),asb:N("| apostilb",D),la:N("| lm",D),Lb:N("| lm",D),sk:N("10^-7 | lm",D),skot:N("| sk",D),bril:N("10^-11 | lm",D),Hz:N("| / s",I)};l.Add=b;l.Mul=x;l.Pow=w;l.Log=p;l.Eq=k;l.Trig=d;l.Abs=i;l.Func=M;l.Var=o;l.Const=s;l.Unit=E;l.Rational=A;l.Int=T;l.Float=f;l.Zero=S.Zero;l.One=S.One})(n);(function(e){e.compare=function(e,t,r){var n={form:false,simplify:false};if(r!==undefined){r=_.extend(n,r)}else{r=n}var i=e.sameVars(t);if(!i.equal){var a;if(i.equalIgnoringCase){a="Check your variables; one or more are using "+"the wrong case (upper or lower)."}else{a="Check your variables; you may have used the wrong "+"letter for one or more of them."}return{equal:false,wrongVariableCase:i.equalIgnoringCase,wrongVariableNames:!i.equalIgnoringCase,message:a}}if(!e.compare(t)){return{equal:false,message:null}}if(r.form&&!e.sameForm(t)){return{equal:false,message:"Your answer is not in the correct form."}}if(r.simplify&&!e.isSimplified()){return{equal:false,message:"Your answer is not fully expanded and simplified."}}return{equal:true,message:null}}})(n)},uBl0:function(e,t,a){"use strict";a("yXV3");a("uqXc");a("2B1R");a("+2oP");a("TWNs");a("JfAA");a("inlA");a("Rm1S");a("UxlC");a("hByQ");a("EnZy");a("LKBx");var i=a("4PhQ");var _=a("F/us");var o=a("7BBF");var r=false;var n=function t(e,r,n){if(_.isArray(e)){return _.map(e,function(e){return t(e,r)})}return r.call(n,e)};var c={inputPathsEqual:function e(t,r){if(t==null||r==null){return t==null===(r==null)}return t.length===r.length&&t.every(function(e,t){return r[t]===e})},nestedMap:n,rWidgetRule:/^\[\[\u2603 (([a-z-]+) ([0-9]+))\]\]/,rTypeFromWidgetId:/^([a-z-]+) ([0-9]+)$/,snowman:"",noScore:{type:"points",earned:0,total:0,message:null},seededRNG:function e(t){var r=t;return function(){var e=r;e=e+2127912214+(e<<12)&4294967295;e=(e^3345072700^e>>>19)&4294967295;e=e+374761393+(e<<5)&4294967295;e=(e+3550635116^e<<9)&4294967295;e=e+4251993797+(e<<3)&4294967295;e=(e^3042594569^e>>>16)&4294967295;return(r=e&268435455)/268435456}},shuffle:function e(t,r,n){var i=_.clone(t);if(!i.length||_.all(i,function(e){return _.isEqual(e,i[0])})){return i}var a;if(_.isFunction(r)){a=r}else{a=c.seededRNG(r)}do{for(var o=i.length;o>0;o--){var s=Math.floor(a()*o),l=i[s];i[s]=i[o-1];i[o-1]=l}}while(n&&_.isEqual(t,i));return i},split:"x".split(/(.)/g).length?function(e,t){return e.split(t)}:function(e,t){var r=[];var n=t.lastIndex=0;var i;while(i=t.exec(e)){r.push(e.slice(n,i.index));r.push.apply(r,i.slice(1));n=i.index+i[0].length}r.push(e.slice(n));return r},combineScores:function e(t,r){var n;if(t.type==="points"&&r.type==="points"){if(t.message&&r.message&&t.message!==r.message){n=null}else{n=t.message||r.message}return{type:"points",earned:t.earned+r.earned,total:t.total+r.total,message:n}}if(t.type==="points"&&r.type==="invalid"){return r}if(t.type==="invalid"&&r.type==="points"){return t}if(t.type==="invalid"&&r.type==="invalid"){if(t.message&&r.message&&t.message!==r.message){n=null}else{n=t.message||r.message}return{type:"invalid",message:n}}},keScoreFromPerseusScore:function e(t,r,n){if(t.type==="points"){return{empty:false,correct:t.earned>=t.total,message:t.message,guess:r,state:n}}if(t.type==="invalid"){return{empty:true,correct:false,message:t.message,suppressAlmostThere:t.suppressAlmostThere,guess:r,state:n}}throw new i.KAError("Invalid score type: "+t.type,i.Errors.Internal)},firstNumericalParse:function e(t){var r;var n=o.predicate.createValidatorFunctional(function(e){r=e;return true},{simplify:"optional",inexact:true,forms:"integer, proper, improper, pi, log, mixed, decimal"});n(t);return r},stringArrayOfSize:function e(t){return _(t).times(function(){return""})},gridDimensionConfig:function e(t,r,n,i){var a=c.scaleFromExtent(r,n);var o=t*a;var s=o>30;return{scale:a,tickStep:t/i,unityLabel:s}},getGridStep:function e(n,i,a){return _(2).times(function(e){var t=c.scaleFromExtent(n[e],a);var r=c.gridStepFromTickStep(i[e],t);return r})},snapStepFromGridStep:function e(t){return _.map(t,function(e){return e/2})},scaleFromExtent:function e(t,r){var n=t[1]-t[0];var i=r/n;return i},tickStepFromExtent:function e(t,r){var n=t[1]-t[0];var i;if(15<n&&n<=20){i=23}else if(n>100||n<5){i=10}else{i=16}var a=r/500;var o=i*a;return c.tickStepFromNumTicks(n,o)},gridStepFromTickStep:function e(t,r){var n=t*r;var i=t;var a=Math.pow(10,Math.floor(Math.log(i)/Math.LN10));var o=Math.floor(i/a);if(n<25){return t}if(n<50){if(o===5){return t}return t/2}if(o===1){return t/2}if(o===2){return t/4}if(o===5){return t/5}},tickStepFromNumTicks:function e(t,r){var n=Math.pow(10,Math.floor(Math.log(t/r)/Math.LN10));var i=r/t*n;if(i<=.15){n*=10}else if(i<=.35){n*=5}else if(i<=.75){n*=2}return n},constrainedTickStepsFromTickSteps:function e(t,r){var n=[];for(var i=0;i<2;i++){var a=r[i][1]-r[i][0];var o=a/t[i];if(o<=10){n[i]=t[i]}else if(o<=20){n[i]=t[i]*2}else{n[i]=c.tickStepFromNumTicks(a,10)}}return n},DeprecationMixin:{UNSAFE_componentWillMount:function e(){var r={};_.each(this.deprecatedProps,function(e,t){if(_.has(this.props,t)){_.extend(r,e(this.props))}},this);if(!_.isEmpty(r)){_.extend(this.props,r);setTimeout(this.props.onChange,0,r)}}},eq:function e(t,r){if(_.isNumber(t)&&_.isNumber(r)){return Math.abs(t-r)<1e-9}return t===r},deepEq:function e(r,n){if(_.isArray(r)&&_.isArray(n)){if(r.length!==n.length){return false}for(var t=0;t<r.length;t++){if(!c.deepEq(r[t],n[t])){return false}}return true}if(_.isArray(r)||_.isArray(n)){return false}if(_.isFunction(r)&&_.isFunction(n)){return c.eq(r,n)}if(_.isFunction(r)||_.isFunction(n)){return false}if(_.isObject(r)&&_.isObject(n)){return r===n||_.all(r,function(e,t){return c.deepEq(n[t],e)})&&_.all(n,function(e,t){return c.deepEq(r[t],e)})}if(_.isObject(r)||_.isObject(n)){return false}return c.eq(r,n)},parseQueryString:function e(t){t=t||window.location.search.substring(1);var r={};var n=/\+/g;var i=/([^&=]+)=?([^&]*)/g;var a=function e(t){return decodeURIComponent(t.replace(n," "))};var o;while(o=i.exec(t)){r[a(o[1])]=a(o[2])}return r},updateQueryString:function e(t,r,n){n=encodeURIComponent(n);var i=new RegExp("([?&])"+r+"=.*?(&|$)","i");var a=t.indexOf("?")!==-1?"&":"?";if(t.match(i)){return t.replace(i,"$1"+r+"="+n+"$2")}return t+a+r+"="+n},strongEncodeURIComponent:function e(t){return encodeURIComponent(t).replace(/['()!]/g,window.escape).replace(/\*/g,"%2A")},widgetShouldHighlight:function e(t){if(!t){return false}var r=["measurer","protractor"];return!_.contains(r,t.type)},scoreIsEmpty:function e(t){return t.type==="invalid"&&(!t.message||t.message.length===0)},touchHandlers:{pointerDown:false,currentTouchIdentifier:null},resetTouchHandlers:function e(){_.extend(c.touchHandlers,{pointerDown:false,currentTouchIdentifier:null})},extractPointerLocation:function e(t){var r;if(c.touchHandlers.pointerDown){if(c.touchHandlers.currentTouchIdentifier!=null){var n=t.changedTouches?t.changedTouches.length:0;for(var i=0;i<n;i++){if(t.changedTouches[i].identifier===c.touchHandlers.currentTouchIdentifier){r=t.changedTouches[i]}}}else{r=t}var a=t.type==="touchend"||t.type==="touchcancel";if(r&&a){c.touchHandlers.pointerDown=false;c.touchHandlers.currentTouchIdentifier=null}}else{c.touchHandlers.pointerDown=true;if(t.changedTouches){r=t.changedTouches[0];c.touchHandlers.currentTouchIdentifier=r.identifier}else{r=t}}if(r){return{left:r.pageX,top:r.pageY}}},supportsPassiveEvents:function e(){try{var t=Object.defineProperty({},"passive",{get:function e(){r=true}});window.addEventListener("testPassive",null,t);window.removeEventListener("testPassive",null,t)}catch(e){}return r},captureScratchpadTouchStart:function e(t){t.stopPropagation()},getImageSize:function e(t,r){var n=new Image;n.onload=function(){if(n.width===0&&n.height===0){document.body.appendChild(n);_.defer(function(){r(n.clientWidth,n.clientHeight);document.body.removeChild(n)})}else{r(n.width,n.height)}};var i=a("yPu2");n.src=i.getRealImageUrl(t)},textarea:{getWordBeforeCursor:function e(t){var r=t.value;var n=t.selectionStart-1;var i=Math.max(r.lastIndexOf("\n",n),r.lastIndexOf(" ",n))+1;return{string:r.substring(i,n+1),pos:{start:i,end:n}}},moveCursor:function e(t,r){t.selectionStart=r;t.selectionEnd=r}},unescapeMathMode:function e(t){return t.startsWith("$")&&t.endsWith("$")?t.slice(1,-1):t}};c.random=c.seededRNG((new Date).getTime()&4294967295);c.rWidgetParts=new RegExp(c.rWidgetRule.source+"$");e.exports=c},uN08:function(e,t,r){"use strict";var _=r("F/us");var n=r("yRmI");var s=r("T2HF");var i=r("p8fL");var a=r("vNny");var o=i.assert;var l=i.normalizeOptions;var c=r("eAf/").vector;var u=r("yfnS");var h=["add","draw","remove","onMoveStart","constraints","onMove","onMoveEnd"];var f={points:null,static:false,cursor:"move",normalStyle:null,highlightStyle:null,extendLine:false,extendRay:false};var p={visibleShape:null,mouseTarget:null};var d=function e(t,r,n){o(t!=null);o(n!=null);_.extend(this,{graphie:t,movable:r,state:{id:_.uniqueId("movableLine")}});this.modify(_.extend({},p,n))};_.extend(d,n);i.createGettersFor(d,_.extend({},f,p));i.addMovableHelperMethodsTo(d);_.extend(d.prototype,{cloneState:function e(){return _.extend(this.movable.cloneState(),{coords:this.coords()},this.state)},_createDefaultState:function e(){return _.extend({id:this.state.id},l(h,a.pluck(n,"standard")),f)},modify:function e(t){this.update(_.extend(this._createDefaultState(),t))},update:function e(t){var a=this;var r=this.graphie;var n=a.state=_.extend(a.state,l(h,t));var i=n.static?u.DYNAMIC:u.INTERACTIVE;n.normalStyle=_.extend({stroke:i,"stroke-width":2},n.normalStyle);n.highlightStyle=_.extend({stroke:u.INTERACTING,"stroke-width":3},n.highlightStyle);if(!n.static){if(!n.mouseTarget){var o={thickness:30,mouselayer:true};n.mouseTarget=new s(r,this.coord(0),this.coord(1),o);n.mouseTarget.attr({fill:"#000",opacity:0})}}if(n.static&&n.mouseTarget){n.mouseTarget.remove();n.mouseTarget=null}a.movable.modify(_.extend({},n,{mouseTarget:n.mouseTarget,add:null,modify:null,draw:a.draw.bind(a),remove:null,onMoveStart:function e(){a._initialRefCoord=a.coord(0);a._prevRefCoord=a._initialRefCoord;a._totalDelta=[0,0];a._fireEvent(a.state.onMoveStart,a.coord(0),a.coord(0))},onMove:function e(t,r){var n=c.subtract(t,r);a._totalDelta=c.add(a._totalDelta,n);var i=c.add(a._initialRefCoord,a._totalDelta);i=a._applyConstraints(i,a._prevRefCoord);if(i===false){return}a._fireEvent(a.state.onMove,i,a._prevRefCoord);a._prevRefCoord=i},onMoveEnd:function e(){a._fireEvent(a.state.onMoveEnd,a._prevRefCoord,a._initialRefCoord)}}));if(!n.added){a.prevState={};a._fireEvent(n.add,a.cloneState(),a.prevState);n.added=true;_.invoke(n.points,"listen","onMove",n.id,a.draw.bind(a));a.prevState=a.cloneState()}a._fireEvent(n.modify,a.cloneState(),a.prevState)},coords:function e(){return _.invoke(this.state.points,"coord")},point:function e(t){return this.state.points[t]},coord:function e(t){return this.point(t).coord()},remove:function e(){this.state.added=false;this._fireEvent(this.state.remove);if(this.points){_.invoke(this.points,"unlisten","onMove",this.state.id)}if(this.movable){this.movable.remove()}},toBack:function e(){this.movable.toBack();if(this.state.visibleShape){this.state.visibleShape.toBack()}},toFront:function e(){if(this.state.visibleShape){this.state.visibleShape.toFront()}this.movable.toFront()},isHovering:function e(){return this.movable.isHovering()},isDragging:function e(){return this.movable.isDragging()},mouseTarget:function e(){return this.movable.mouseTarget()}});e.exports=d},vNny:function(e,t,r){"use strict";r("4mDm");r("2B1R");r("07d7");r("3bBZ");var _=r("F/us");var n=function e(t,r){return _.object(_.map(t,function(e,t){return[t,e[r]]}))};var i=function e(t,r){var n={};_.each(_.keys(t),function(e){n[e]=r(t[e],e)});return n};var a=function e(t,r){var n={};_.each(t,function(e){n[e]=r(e)});return n};e.exports={pluck:n,mapObject:i,mapObjectFromArray:a}},xc4a:function(e,t,r){"use strict";var _=r("F/us");var a=r("p8fL");var n=r("vNny");var o=r("eAf/").vector;var i=r("e2gc");var s=["attr","animate"];var l=_.extend({transform:function e(t){var r=a.getPrefixedTransform();this.wrapper.style[r]=t},toFront:function e(){var t=this.wrapper.parentNode;if(t){t.appendChild(this.wrapper)}},toBack:function e(){var t=this.wrapper.parentNode;if(t.firstChild!==this.wrapper){t.insertBefore(this.wrapper,t.firstChild)}},remove:function e(){this.visibleShape.remove();i(this.wrapper).remove()},getMouseTarget:function e(){return this.visibleShape[0]},moveTo:function e(t){var r=o.subtract(this.graphie.scalePoint(t),this.graphie.scalePoint(this.initialPoint));var n=a.getCanUse3dTransform();var i="translateX("+r[0]+"px) "+"translateY("+r[1]+"px)"+(n?" translateZ(0)":"");this.transform(i)},hide:function e(){this.visibleShape.hide()},show:function e(){this.visibleShape.show()}},n.mapObjectFromArray(s,function(t){return function(){var e;(e=this.visibleShape)[t].apply(e,arguments)}}));e.exports=l},yPu2:function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("4mDm");r("2B1R");r("5DmW");r("NBAS");r("07d7");r("inlA");r("Rm1S");r("UxlC");r("EnZy");r("FZtP");r("3bBZ");var v=s(r("TSYQ"));var m=o(r("q1tI"));var h=s(r("e2gc"));var g=s(r("F/us"));var y=o(r("4PhQ"));var n=s(r("Q8Wn"));var f=s(r("XDp7"));var b=s(r("WCF/"));var x=s(r("Giaf"));var w=s(r("BGgb"));var u=r("Tqif");var i=s(r("uBl0"));var a=s(r("6mNK"));function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return d(e)}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function M(e,t,r){if(t)k(e.prototype,t);if(r)k(e,r);return e}function S(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)A(e,t)}function A(e,t){A=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return A(e,t)}function T(e,t){return C(e)||P(e,t)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function P(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(i)throw a}}return r}function C(e){if(Array.isArray(e))return e}function I(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){D(t,e,r[e])})}return t}function D(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var N=700;var O={};var F=function e(t,r){r=I({callbackName:"callback",success:h.default.noop,error:h.default.noop},r);var n=document.createElement("script");n.setAttribute("async","");n.setAttribute("src",t);function i(){document.head&&document.head.removeChild(n);delete window[r.callbackName]}window[r.callbackName]=function(){i();r.success.apply(null,arguments)};n.addEventListener("error",function(){i();r.error.apply(null,arguments)});document.head&&document.head.appendChild(n)};var L=/^web\+graphie\:/;var R=/\/([^/]+)$/;function q(e){return L.test(e)}function B(e){return/\.(jpg|jpeg)$/i.test(e)}function G(e){return e.replace(L,"https:")}function z(e){return G(e)+".svg"}function j(e){return G(e)+"-data.json"}function H(){return f.default.useJIPT?"en-pt":n.default.kaLocale}function V(){return H()!=="en"}var $=[];if(f.default.useJIPT){f.default.domInsertChecks.push(function(e,t,r){var n=(0,h.default)(t).data("jipt-label-index");if(t&&typeof n!=="undefined"){var i=$[n],a=i.label,o=i.useMath;a.text("");e=(0,u.maybeUnescape)(e);if(o){var s=/^\$(.*)\$$/;var l=e.match(s);var c=l?l[1]:"\\color{red}{\\text{Invalid Math}}";a.processMath(c,true)}else{a.processText(e)}return false}return e})}var Y=/\/(?=[^/]+$)/;function U(e){var t=G(e).split(Y),r=T(t,2),n=r[0],i=r[1];return"".concat(n,"/").concat(H(),"/").concat(i,"-data.json")}function W(e){var t=e.match(R);if(t==null){throw new y.KAError("not a valid URL",y.Errors.Internal)}return t&&t[1]}function Z(e){return m.createElement("span",{style:{background:"url(/images/spinner.gif) no-repeat",backgroundPosition:"center",width:"100%",height:"100%",position:"absolute",minWidth:"20px"}})}var X=function(e){S(t,e);M(t,null,[{key:"getRealImageUrl",value:function e(t){if(q(t)){return z(t)}return t}}]);function t(e){var u;l(this,t);u=c(this,p(t).call(this,e));D(d(u),"onDataLoaded",function(e,t){if(u._isMounted&&e.labels&&e.range){var r=e.labels.reduce(function(e,t){return I({},e,D({},t.content,false))},{});u.setState({dataLoaded:true,labelDataIsLocalized:t,labelsRendered:r,labels:e.labels,range:e.range})}});D(d(u),"onImageLoad",function(){if(u.sizeProvided()){u.setState({imageLoaded:true})}else{i.default.getImageSize(u.props.src,function(e,t){if(u._isMounted){u.setState({imageLoaded:true,imageDimensions:[e,t]})}})}});D(d(u),"setupGraphie",function(c,e){g.default.map(e.labels,function(e){if(f.default.useJIPT&&u.state.labelDataIsLocalized){var t=c.label(e.coordinates,e.content,e.alignment,false);(0,h.default)(t).data("jipt-label-index",$.length);$.push({label:t,useMath:e.typesetAsMath})}else if(e.coordinates){var r=c.label(e.coordinates,e.content,e.alignment,e.typesetAsMath,{"font-size":100*u.props.scale+"%"});var n=r[0].style;var i=u._tryGetPixels(n.top);var a=u._tryGetPixels(n.left);if(i===null||a===null){var o=r.position();i=o.top;a=o.left}var s=(u.props.height||0)*u.props.scale;var l=(u.props.width||0)*u.props.scale;r.css({top:i/s*100+"%",left:a/l*100+"%"});g.default.each(e.style,function(e,t){r.css(t,e)})}u.setState({labelsRendered:I({},u.state.labelsRendered,D({},e.content,true))})})});D(d(u),"_handleZoomClick",function(e){var t=(0,h.default)(e.target);if(t.width()<u.props.width||u.props.zoomToFullSizeOnMobile){a.default.ZoomService.handleZoomClick(e,u.props.zoomToFullSizeOnMobile)}u.props.trackInteraction&&u.props.trackInteraction()});D(d(u),"handleUpdate",function(e){u.props.onUpdate();if(!q(u.props.src)&&e==="loaded"){u.setState({imageLoaded:true})}});e.setAssetStatus(e.src,false);u._isMounted=false;u.state={imageLoaded:false,imageDimensions:null,dataLoaded:false,labelDataIsLocalized:false,labels:[],labelsRendered:{},range:[[0,0],[0,0]]};return u}M(t,[{key:"componentDidMount",value:function e(){this._isMounted=true;if(q(this.props.src)){this.loadResources()}}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){if(this.props.src!==t.src){this.setState({imageLoaded:false,dataLoaded:false})}}},{key:"shouldComponentUpdate",value:function e(t,r){if(!g.default.isEqual(this.props,t)){return true}var n=this.isLoadedInState(this.state);var i=this.isLoadedInState(r);return n!==i}},{key:"componentDidUpdate",value:function e(t,r){var n=this.isLoadedInState(r);var i=this.isLoadedInState(this.state);if(q(this.props.src)&&!i){this.loadResources()}if(!n&&i){this.props.setAssetStatus(this.props.src,true)}}},{key:"componentWillUnmount",value:function e(){this._isMounted=false}},{key:"isLoadedInState",value:function e(t){return q(this.props.src)?t.imageLoaded&&t.dataLoaded:t.imageLoaded}},{key:"loadResources",value:function e(){var n=this;var i=W(this.props.src);if(O[i]){if(O[i].loaded){var t=O[i],r=t.data,a=t.localized;this.onDataLoaded(r,a)}else{O[i].dataCallbacks.push(this.onDataLoaded)}}else{var o={loaded:false,dataCallbacks:[this.onDataLoaded],data:null,localized:V()};O[i]=o;var s=function e(t,r){F(t,{callbackName:"svgData"+i,success:function e(t){o.data=t;o.loaded=true;g.default.each(o.dataCallbacks,function(e){e(o.data,o.localized)})},error:r})};if(V()){s(U(this.props.src),function(e,t,r){o.localized=false;s(j(n.props.src),function(e,t,r){y.default.error("Data load failed:",y.Errors.Internal,r,{dataUrl:j(n.props.src)})})})}else{s(j(this.props.src),function(e,t,r){y.default.error("Data load failed:",y.Errors.Internal,r,{dataUrl:j(n.props.src)})})}}}},{key:"sizeProvided",value:function e(){return this.props.width!=null&&this.props.height!=null}},{key:"_tryGetPixels",value:function e(t){t=t||"";if(!t.endsWith("px")){return null}return parseFloat(t)||null}},{key:"render",value:function e(){var t=this.props.src;var r={alt:this.props.alt,title:this.props.title,tabIndex:"0"};if(this.props.alt&&this.props.overrideAriaHidden){r["aria-hidden"]=true}var n=this.props.width&&this.props.width*this.props.scale;var i=this.props.height&&this.props.height*this.props.scale;var a={width:n,height:i};var o=this.props.responsive&&!!(n&&i);var s;if(this.props.extraGraphie&&this.props.extraGraphie.labels.length){s=m.createElement(x.default,{box:this.props.extraGraphie.box,range:this.props.extraGraphie.range,options:{labels:this.props.extraGraphie.labels},responsive:true,addMouseLayer:false,setup:this.setupGraphie})}var l=this.props.preloader===undefined?Z:this.props.preloader;var c=l?function(){return l(a)}:null;if(!q(t)){if(o){var u=(0,v.default)({zoomable:(n||0)>N,"svg-image":true});r.onClick=this._handleZoomClick;return m.createElement(b.default,{className:u,width:n,height:i,constrainHeight:this.props.constrainHeight,allowFullBleed:this.props.allowFullBleed&&B(t)},m.createElement(w.default,{src:t,imgProps:r,preloader:c,onUpdate:this.handleUpdate}),s)}r.style=a;return m.createElement(w.default,{src:t,preloader:c,imgProps:r,onUpdate:this.handleUpdate})}var h=z(t);var f;if(this.isLoadedInState(this.state)){var p;if(this.sizeProvided()){p=[n,i]}else if(this.state.imageDimensions){p=[this.state.imageDimensions[0]*this.props.scale,this.state.imageDimensions[1]*this.props.scale]}else{throw new y.KAError("image has no dimensions",y.Errors.Internal)}var d=[40*this.props.scale,40*this.props.scale];f=m.createElement(x.default,{ref:"graphie",box:p,scale:d,range:this.state.range,options:g.default.pick(this.state,"labels"),responsive:o,addMouseLayer:false,setup:this.setupGraphie})}if(o){return m.createElement(b.default,{className:"svg-image",width:n,height:i,constrainHeight:this.props.constrainHeight},m.createElement(w.default,{src:h,onLoad:this.onImageLoad,onUpdate:this.handleUpdate,preloader:c,imgProps:r}),f,s)}r.style=a;return m.createElement("div",{className:"unresponsive-svg-image",style:a},m.createElement(w.default,{src:h,onLoad:this.onImageLoad,onUpdate:this.handleUpdate,preloader:c,imgProps:r}),f)}}]);return t}(m.Component);D(X,"defaultProps",{constrainHeight:false,onUpdate:function e(){},responsive:true,src:"",scale:1,zoomToFullSizeOnMobile:false,setAssetStatus:function e(t,r){}});e.exports=X},yRmI:function(e,t,r){"use strict";r("2B1R");var _=r("F/us");var l=r("T2HF");var u=r("f3EM");var f=r("eAf/").vector;var h=r("eAf/").point;var p=r("XwLL");var c=function e(t){var r=t.graphie.scalePoint(t.coord(0));var n=t.graphie.scalePoint(t.coord(1));return f.polarDegFromCart(f.subtract(n,r))[1]};var d=function e(t,r,n){var i=t.range[0][1]-t.range[0][0];var a=t.range[1][1]-t.range[1][0];var o=i+a;var s=t.unscaleVector(f.cartFromPolarDeg([1,n]));var l=f.scale(f.normalize(s),o);var c=f.add(r,l);var u=f.polarDegFromCart(s)[1];var h=t.constrainToBoundsOnAngle(c,4,u*Math.PI/180);return h};var i=function e(n,t){var i=[.75,0];var r=[[-3,4],[-2.75,2.5],[0,.25],i,[0,-.25],[-2.75,-2.5],[-3,-4]];var a=1.4;r=_.map(r,function(e){var t=f.subtract(e,i);var r=f.scale(t,a);return f.add(i,r)});var o=function e(t){var r="M"+t[0][0]+" "+t[0][1];for(var n=1;n<t.length;n+=3){r+="C"+t[n][0]+" "+t[n][1]+" "+t[n+1][0]+" "+t[n+1][1]+" "+t[n+2][0]+" "+t[n+2][1]}return r};var s=_.map(r,n.unscalePoint);var l={center:n.unscalePoint(i),createPath:o};var c=new u(n,s,l);c.attr(_.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},t));c.toCoordAtAngle=function(e,t){var r=n.scalePoint(d(n,e,t));c.transform("translateX("+(r[0]+a*i[0])+"px) "+"translateY("+(r[1]+a*i[1])+"px) "+"translateZ(0) "+"rotate("+(360-p.bound(t))+"deg)")};return c};var n={draw:function e(){this.draw()},pointsToFront:function e(t){_.invoke(t.points,"toFront")}};n.standard=[n.draw,n.pointsToFront];var a={draw:function e(){this.draw()}};a.standard=[a.draw];var o={basic:function e(t){var r=this.graphie;var n=this.coord(0);var i=this.coord(1);if(!this.state.visibleShape){var a={thickness:10};this.state.visibleShape=new l(r,n,i,a);this.state.visibleShape.attr(this.normalStyle());this.state.visibleShape.toFront();if(this.mouseTarget()){this.mouseTarget().toFront()}}var o=c(this);if(t.extendLine){n=d(r,n,360-o);i=d(r,i,(540-o)%360)}else if(t.extendRay){i=d(r,i,360-o)}var s=[this.state.visibleShape];if(this.mouseTarget()){s.push(this.mouseTarget())}_.each(s,function(e){e.moveTo(n,i)})},arrows:function e(t){if(this._arrows==null){this._arrows=[];if(t.extendLine){this._arrows.push(i(this.graphie,this.normalStyle()));this._arrows.push(i(this.graphie,this.normalStyle()))}else if(t.extendRay){this._arrows.push(i(this.graphie,this.normalStyle()))}}var r=c(this);var n=[360-r,(540-r)%360];_.each(this._arrows,function(e,t){e.toCoordAtAngle(this.coord(t),n[t])},this)},highlight:function e(t,r){if(t.isHovering&&!r.isHovering){t.visibleShape.animate(t.highlightStyle,50)}else if(!t.isHovering&&r.isHovering){t.visibleShape.animate(t.normalStyle,50)}}};o.standard=[o.basic,o.arrows,o.highlight];var s={basic:function e(){if(this.state.visibleShape){this.state.visibleShape.remove()}},arrows:function e(){if(this._arrows!=null){_.invoke(this._arrows,"remove")}this._arrows=null}};s.standard=[s.basic,s.arrows];var v={fixed:function e(){return function(){return false}},snap:function e(n){return function(e,t){if(n===null){return true}var r=f.subtract(e,t);n=n||this.graphie.snap;r=h.roundTo(r,n);return f.add(t,r)}},bound:function e(t,c,u){if(u===undefined){if(t===undefined){u=10}else{u=0}}return function(e,t){var r=this.graphie;var n=f.subtract(e,t);var i=i||r.range;if(c===undefined){c=r.snap}var a=r.unscalePoint([u,r.ypixels-u]);var o=r.unscalePoint([r.xpixels-u,u]);if(c){a=h.ceilTo(a,c);o=h.floorTo(o,c)}var s=_.map(this.coords(),function(e,t){var r=f.subtract(o,e);var n=f.subtract(a,e);return[n,r]});var l=_.reduce(s,function(e,t){var r=t[0];var n=t[1];var i=Math.max(r[0],Math.min(n[0],e[0]));var a=Math.max(r[1],Math.min(n[1],e[1]));return[i,a]},n);return f.add(t,l)}}};v.standard=null;var m={updatePoints:function e(t,r){var n=f.subtract(t,r);_.each(this.state.points,function(e){e.setCoord(f.add(e.coord(),n))})}};m.standard=null;e.exports={add:n,modify:a,draw:o,remove:s,onMoveStart:{standard:null},constraints:v,onMove:m,onMoveEnd:{standard:null}}},yfnS:function(e,t,r){"use strict";var n={BLUE:"#6495ED",ORANGE:"#FFA500",PINK:"#FF00AF",GREEN:"#28AE7B",PURPLE:"#9D38BD",RED:"#DF0030",GRAY:"gray",BLACK:"black",LIGHT_BLUE:"#9AB8ED",LIGHT_ORANGE:"#EDD19B",LIGHT_PINK:"#ED9BD3",LIGHT_GREEN:"#9BEDCE",LIGHT_PURPLE:"#DA9BED",LIGHT_RED:"#ED9AAC",LIGHT_GRAY:"#ED9B9B",LIGHT_BLACK:"#ED9B9B",GRAY10:"#D6D6D6",GRAY20:"#CDCDCD",GRAY30:"#B3B3B3",GRAY40:"#9A9A9A",GRAY50:"#808080",GRAY60:"#666666",GRAY70:"#4D4D4D",GRAY80:"#333333",GRAY90:"#1A1A1A",BLUE_A:"#CCFAFF",BLUE_B:"#80F6FF",BLUE_C:"#63D9EA",BLUE_D:"#11ACCD",BLUE_E:"#0C7F99",TEAL_A:"#94FFF5",TEAL_B:"#26EDD5",TEAL_C:"#01D1C1",TEAL_D:"#01A995",TEAL_E:"#208170",GREEN_A:"#B6FFB0",GREEN_B:"#8AF281",GREEN_C:"#74CF70",GREEN_D:"#1FAB54",GREEN_E:"#0D923F",GOLD_A:"#FFD0A9",GOLD_B:"#FFBB71",GOLD_C:"#FF9C39",GOLD_D:"#E07D10",GOLD_E:"#A75A05",RED_A:"#FCA9A9",RED_B:"#FF8482",RED_C:"#F9685D",RED_D:"#E84D39",RED_E:"#BC2612",MAROON_A:"#FFBDE0",MAROON_B:"#FF92C6",MAROON_C:"#ED5FA6",MAROON_D:"#CA337C",MAROON_E:"#9E034E",PURPLE_A:"#DDD7FF",PURPLE_B:"#C6B9FC",PURPLE_C:"#AA87FF",PURPLE_D:"#7854AB",PURPLE_E:"#543B78",MINT_A:"#F5F9E8",MINT_B:"#EDF2DF",MINT_C:"#E0E5CC",GRAY_A:"#F6F7F7",GRAY_B:"#F0F1F2",GRAY_C:"#E3E5E6",GRAY_D:"#D6D8DA",GRAY_E:"#BABEC2",GRAY_F:"#888D93",GRAY_G:"#626569",GRAY_H:"#3B3E40",GRAY_I:"#21242C",KA_BLUE:"#314453",KA_GREEN:"#71B307",_BACKGROUND:"#FDFDFD"};n.INTERACTING=n.KA_GREEN;n.INTERACTIVE=n.KA_GREEN;n.DYNAMIC=n.BLUE;e.exports=n}}]);
//# sourceMappingURL=../../sourcemaps/en/9c3488cb5e3732a69f5a9827924941d5.1a125be8645cea913da9.js.map