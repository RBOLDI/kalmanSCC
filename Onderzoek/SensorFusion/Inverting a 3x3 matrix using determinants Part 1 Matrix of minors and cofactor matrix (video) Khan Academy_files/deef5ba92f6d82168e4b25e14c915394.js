(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["deef5ba92f6d82168e4b25e14c915394"],{x2Mf:function(r,e,n){"use strict";n("pNMO");n("yXV3");n("+2oP");n("3KgV");Object.defineProperty(e,"__esModule",{value:true});e.loginWithPassword=e.PASSWORD_LOGIN_MUTATION=e.getErrorMessageByCode=void 0;var t=o(n("lTCR"));var i=n("4PhQ");var s=n("o1mU");var a=n("MVfM");function o(r){return r&&r.__esModule?r:{default:r}}function u(r,e){if(r==null)return{};var n=l(r,e);var t,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(o=0;o<i.length;o++){t=i[o];if(e.indexOf(t)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(r,t))continue;n[t]=r[t]}}return n}function l(r,e){if(r==null)return{};var n={};var t=Object.keys(r);var o,i;for(i=0;i<t.length;i++){o=t[i];if(e.indexOf(o)>=0)continue;n[o]=r[o]}return n}function c(){var e=d(['\n    mutation loginWithPasswordMutation(\n        $identifier: String!\n        $password: String!\n    ) {\n        loginWithPassword(identifier: $identifier, password: $password) {\n            user {\n                id\n                kaid\n                canAccessDistrictsHomepage\n                isTeacher\n                hasUnresolvedInvitations\n                transferAuthUrl(pathname: "")\n                preferredKaLocale {\n                    id\n                    kaLocale\n                }\n            }\n            isFirstLogin\n            error {\n                code\n            }\n        }\n    }\n']);c=function r(){return e};return e}function d(r,e){if(!e){e=r.slice(0)}return Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}var i18n=n("HEOz");var f=function r(e){switch(e){case"ALREADY_LOGGED_IN":return i18n._("Error logging in. Please try again.");case"NON_UNIQUE_USERNAME":return i18n._("Oops! We’re unable to sign you in with that username. Please sign in with your email address and then change your username to fix this issue. If you don’t have an email address, contact support for help.");case"INVALID_CREDENTIALS":return i18n._("Your login or password is incorrect.");default:return i18n._("Error logging in. Please try again.")}};e.getErrorMessageByCode=f;var g=(0,t.default)(c());e.PASSWORD_LOGIN_MUTATION=g;var h=function r(e){var o=e.signupCodes,n=u(e,["signupCodes"]);return(0,s.apolloMutate)(g,{variables:n}).then(function(r){if(r.data.loginWithPassword.error){throw new i.KAError(r.data.loginWithPassword.error.code,i.Errors.Internal)}var e=r.data.loginWithPassword,n=e.user,t=e.isFirstLogin;if(o&&o.length){return(0,a.joinClassroomsPostlogin)(o).then(function(r){return{user:n,isFirstLogin:t,joinClassrooms:r}})}return{user:n,isFirstLogin:t}}).catch(function(r){if(r instanceof i.KAError){throw r}throw new i.KAError("Failed to login with password",i.Errors.Internal)})};e.loginWithPassword=h}}]);
//# sourceMappingURL=../../sourcemaps/en/deef5ba92f6d82168e4b25e14c915394.aceac63005c5f20105f0.js.map